var Et=Object.defineProperty;var Ke=e=>{throw TypeError(e)};var qt=(e,n,t)=>n in e?Et(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var V=(e,n,t)=>qt(e,typeof n!="symbol"?n+"":n,t),Ue=(e,n,t)=>n.has(e)||Ke("Cannot "+t);var U=(e,n,t)=>(Ue(e,n,"read from private field"),t?t.call(e):n.get(e)),le=(e,n,t)=>n.has(e)?Ke("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(e):n.set(e,t),ie=(e,n,t,r)=>(Ue(e,n,"write to private field"),r?r.call(e,t):n.set(e,t),t);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=t(l);fetch(l.href,s)}})();const it={context:void 0,registry:void 0},St=!1,Mt=(e,n)=>e===n,G=Symbol("solid-proxy"),Le=Symbol("solid-track"),_e={equals:Mt};let ot=dt;const K=1,ve=2,at={owned:null,cleanups:null,context:null,owner:null};var $=null;let Me=null,zt=null,k=null,q=null,R=null,qe=0;function ae(e,n){const t=k,r=$,l=e.length===0,s=n===void 0?r:n,o=l?at:{owned:null,cleanups:null,context:s?s.context:null,owner:s},i=l?e:()=>e(()=>N(()=>ce(o)));$=o,k=null;try{return re(i,!0)}finally{k=t,$=r}}function H(e,n){n=n?Object.assign({},_e,n):_e;const t={value:e,observers:null,observerSlots:null,comparator:n.equals||void 0},r=l=>(typeof l=="function"&&(l=l(t.value)),ft(t,l));return[ut.bind(t),r]}function O(e,n,t){const r=Ve(e,n,!1,K);me(r)}function Z(e,n,t){ot=jt;const r=Ve(e,n,!1,K);r.user=!0,R?R.push(r):me(r)}function C(e,n,t){t=t?Object.assign({},_e,t):_e;const r=Ve(e,n,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=t.equals||void 0,me(r),ut.bind(r)}function Lt(e){return re(e,!1)}function N(e){if(k===null)return e();const n=k;k=null;try{return e()}finally{k=n}}function Ot(e){Z(()=>N(e))}function Oe(e){return $===null||($.cleanups===null?$.cleanups=[e]:$.cleanups.push(e)),e}function Pe(){return k}function Pt(e,n){const t=Symbol("context");return{id:t,Provider:Ht(t),defaultValue:e}}function ge(e){let n;return $&&$.context&&(n=$.context[e.id])!==void 0?n:e.defaultValue}function ct(e){const n=C(e),t=C(()=>Ne(n()));return t.toArray=()=>{const r=t();return Array.isArray(r)?r:r!=null?[r]:[]},t}function ut(){if(this.sources&&this.state)if(this.state===K)me(this);else{const e=q;q=null,re(()=>be(this),!1),q=e}if(k){const e=this.observers?this.observers.length:0;k.sources?(k.sources.push(this),k.sourceSlots.push(e)):(k.sources=[this],k.sourceSlots=[e]),this.observers?(this.observers.push(k),this.observerSlots.push(k.sources.length-1)):(this.observers=[k],this.observerSlots=[k.sources.length-1])}return this.value}function ft(e,n,t){let r=e.value;return(!e.comparator||!e.comparator(r,n))&&(e.value=n,e.observers&&e.observers.length&&re(()=>{for(let l=0;l<e.observers.length;l+=1){const s=e.observers[l],o=Me&&Me.running;o&&Me.disposed.has(s),(o?!s.tState:!s.state)&&(s.pure?q.push(s):R.push(s),s.observers&&ht(s)),o||(s.state=K)}if(q.length>1e6)throw q=[],new Error},!1)),n}function me(e){if(!e.fn)return;ce(e);const n=qe;Nt(e,e.value,n)}function Nt(e,n,t){let r;const l=$,s=k;k=$=e;try{r=e.fn(n)}catch(o){return e.pure&&(e.state=K,e.owned&&e.owned.forEach(ce),e.owned=null),e.updatedAt=t+1,gt(o)}finally{k=s,$=l}(!e.updatedAt||e.updatedAt<=t)&&(e.updatedAt!=null&&"observers"in e?ft(e,r):e.value=r,e.updatedAt=t)}function Ve(e,n,t,r=K,l){const s={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:n,owner:$,context:$?$.context:null,pure:t};return $===null||$!==at&&($.owned?$.owned.push(s):$.owned=[s]),s}function we(e){if(e.state===0)return;if(e.state===ve)return be(e);if(e.suspense&&N(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<qe);)e.state&&n.push(e);for(let t=n.length-1;t>=0;t--)if(e=n[t],e.state===K)me(e);else if(e.state===ve){const r=q;q=null,re(()=>be(e,n[0]),!1),q=r}}function re(e,n){if(q)return e();let t=!1;n||(q=[]),R?t=!0:R=[],qe++;try{const r=e();return Tt(t),r}catch(r){t||(R=null),q=null,gt(r)}}function Tt(e){if(q&&(dt(q),q=null),e)return;const n=R;R=null,n.length&&re(()=>ot(n),!1)}function dt(e){for(let n=0;n<e.length;n++)we(e[n])}function jt(e){let n,t=0;for(n=0;n<e.length;n++){const r=e[n];r.user?e[t++]=r:we(r)}for(n=0;n<t;n++)we(e[n])}function be(e,n){e.state=0;for(let t=0;t<e.sources.length;t+=1){const r=e.sources[t];if(r.sources){const l=r.state;l===K?r!==n&&(!r.updatedAt||r.updatedAt<qe)&&we(r):l===ve&&be(r,n)}}}function ht(e){for(let n=0;n<e.observers.length;n+=1){const t=e.observers[n];t.state||(t.state=ve,t.pure?q.push(t):R.push(t),t.observers&&ht(t))}}function ce(e){let n;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),r=e.sourceSlots.pop(),l=t.observers;if(l&&l.length){const s=l.pop(),o=t.observerSlots.pop();r<l.length&&(s.sourceSlots[o]=r,l[r]=s,t.observerSlots[r]=o)}}if(e.tOwned){for(n=e.tOwned.length-1;n>=0;n--)ce(e.tOwned[n]);delete e.tOwned}if(e.owned){for(n=e.owned.length-1;n>=0;n--)ce(e.owned[n]);e.owned=null}if(e.cleanups){for(n=e.cleanups.length-1;n>=0;n--)e.cleanups[n]();e.cleanups=null}e.state=0}function Dt(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function gt(e,n=$){throw Dt(e)}function Ne(e){if(typeof e=="function"&&!e.length)return Ne(e());if(Array.isArray(e)){const n=[];for(let t=0;t<e.length;t++){const r=Ne(e[t]);Array.isArray(r)?n.push.apply(n,r):n.push(r)}return n}return e}function Ht(e,n){return function(r){let l;return O(()=>l=N(()=>($.context={...$.context,[e]:r.value},ct(()=>r.children))),void 0),l}}const It=Symbol("fallback");function Xe(e){for(let n=0;n<e.length;n++)e[n]()}function Bt(e,n,t={}){let r=[],l=[],s=[],o=0,i=n.length>1?[]:null;return Oe(()=>Xe(s)),()=>{let a=e()||[],d=a.length,u,c;return a[Le],N(()=>{let f,b,A,z,I,E,S,g,v;if(d===0)o!==0&&(Xe(s),s=[],r=[],l=[],o=0,i&&(i=[])),t.fallback&&(r=[It],l[0]=ae(y=>(s[0]=y,t.fallback())),o=1);else if(o===0){for(l=new Array(d),c=0;c<d;c++)r[c]=a[c],l[c]=ae(p);o=d}else{for(A=new Array(d),z=new Array(d),i&&(I=new Array(d)),E=0,S=Math.min(o,d);E<S&&r[E]===a[E];E++);for(S=o-1,g=d-1;S>=E&&g>=E&&r[S]===a[g];S--,g--)A[g]=l[S],z[g]=s[S],i&&(I[g]=i[S]);for(f=new Map,b=new Array(g+1),c=g;c>=E;c--)v=a[c],u=f.get(v),b[c]=u===void 0?-1:u,f.set(v,c);for(u=E;u<=S;u++)v=r[u],c=f.get(v),c!==void 0&&c!==-1?(A[c]=l[u],z[c]=s[u],i&&(I[c]=i[u]),c=b[c],f.set(v,c)):s[u]();for(c=E;c<d;c++)c in A?(l[c]=A[c],s[c]=z[c],i&&(i[c]=I[c],i[c](c))):l[c]=ae(p);l=l.slice(0,o=d),r=a.slice(0)}return l});function p(f){if(s[c]=f,i){const[b,A]=H(c);return i[c]=A,n(a[c],b)}return n(a[c])}}}function h(e,n){return N(()=>e(n||{}))}const mt=e=>`Stale read from <${e}>.`;function pt(e){const n="fallback"in e&&{fallback:()=>e.fallback};return C(Bt(()=>e.each,e.children,n||void 0))}function D(e){const n=e.keyed,t=C(()=>e.when,void 0,void 0),r=n?t:C(t,void 0,{equals:(l,s)=>!l==!s});return C(()=>{const l=r();if(l){const s=e.children;return typeof s=="function"&&s.length>0?N(()=>s(n?l:()=>{if(!N(r))throw mt("Show");return t()})):s}return e.fallback},void 0,void 0)}function yt(e){const n=ct(()=>e.children),t=C(()=>{const r=n(),l=Array.isArray(r)?r:[r];let s=()=>{};for(let o=0;o<l.length;o++){const i=o,a=l[o],d=s,u=C(()=>d()?void 0:a.when,void 0,void 0),c=a.keyed?u:C(u,void 0,{equals:(p,f)=>!p==!f});s=()=>d()||(c()?[i,u,a]:void 0)}return s});return C(()=>{const r=t()();if(!r)return e.fallback;const[l,s,o]=r,i=o.children;return typeof i=="function"&&i.length>0?N(()=>i(o.keyed?s():()=>{var d;if(((d=N(t)())==null?void 0:d[0])!==l)throw mt("Match");return s()})):i},void 0,void 0)}function M(e){return e}const x=e=>C(()=>e());function Rt(e,n,t){let r=t.length,l=n.length,s=r,o=0,i=0,a=n[l-1].nextSibling,d=null;for(;o<l||i<s;){if(n[o]===t[i]){o++,i++;continue}for(;n[l-1]===t[s-1];)l--,s--;if(l===o){const u=s<r?i?t[i-1].nextSibling:t[s-i]:a;for(;i<s;)e.insertBefore(t[i++],u)}else if(s===i)for(;o<l;)(!d||!d.has(n[o]))&&n[o].remove(),o++;else if(n[o]===t[s-1]&&t[i]===n[l-1]){const u=n[--l].nextSibling;e.insertBefore(t[i++],n[o++].nextSibling),e.insertBefore(t[--s],u),n[l]=t[s]}else{if(!d){d=new Map;let c=i;for(;c<s;)d.set(t[c],c++)}const u=d.get(n[o]);if(u!=null)if(i<u&&u<s){let c=o,p=1,f;for(;++c<l&&c<s&&!((f=d.get(n[c]))==null||f!==u+p);)p++;if(p>u-i){const b=n[o];for(;i<u;)e.insertBefore(t[i++],b)}else e.replaceChild(t[i++],n[o++])}else o++;else n[o++].remove()}}}const Ge="_$DX_DELEGATE";function Vt(e,n,t,r={}){let l;return ae(s=>{l=s,n===document?e():m(n,e(),n.firstChild?null:void 0,t)},r.owner),()=>{l(),n.textContent=""}}function _(e,n,t,r){let l;const s=()=>{const i=r?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return i.innerHTML=e,t?i.content.firstChild.firstChild:r?i.firstChild:i.content.firstChild},o=n?()=>N(()=>document.importNode(l||(l=s()),!0)):()=>(l||(l=s())).cloneNode(!0);return o.cloneNode=o,o}function Ft(e,n=window.document){const t=n[Ge]||(n[Ge]=new Set);for(let r=0,l=e.length;r<l;r++){const s=e[r];t.has(s)||(t.add(s),n.addEventListener(s,Wt))}}function Te(e,n,t){t==null?e.removeAttribute(n):e.setAttribute(n,t)}function Kt(e,n){n==null?e.removeAttribute("class"):e.className=n}function Ut(e,n,t,r){Array.isArray(t)?(e[`$$${n}`]=t[0],e[`$$${n}Data`]=t[1]):e[`$$${n}`]=t}function Xt(e,n,t={}){const r=Object.keys(n||{}),l=Object.keys(t);let s,o;for(s=0,o=l.length;s<o;s++){const i=l[s];!i||i==="undefined"||n[i]||(Ye(e,i,!1),delete t[i])}for(s=0,o=r.length;s<o;s++){const i=r[s],a=!!n[i];!i||i==="undefined"||t[i]===a||!a||(Ye(e,i,!0),t[i]=a)}return t}function Gt(e,n,t){if(!n)return t?Te(e,"style"):n;const r=e.style;if(typeof n=="string")return r.cssText=n;typeof t=="string"&&(r.cssText=t=void 0),t||(t={}),n||(n={});let l,s;for(s in t)n[s]==null&&r.removeProperty(s),delete t[s];for(s in n)l=n[s],l!==t[s]&&(r.setProperty(s,l),t[s]=l);return t}function We(e,n,t){t!=null?e.style.setProperty(n,t):e.style.removeProperty(n)}function $e(e,n,t){return N(()=>e(n,t))}function m(e,n,t,r){if(t!==void 0&&!r&&(r=[]),typeof n!="function")return xe(e,n,r,t);O(l=>xe(e,n(),l,t),r)}function Ye(e,n,t){const r=n.trim().split(/\s+/);for(let l=0,s=r.length;l<s;l++)e.classList.toggle(r[l],t)}function Wt(e){let n=e.target;const t=`$$${e.type}`,r=e.target,l=e.currentTarget,s=a=>Object.defineProperty(e,"target",{configurable:!0,value:a}),o=()=>{const a=n[t];if(a&&!n.disabled){const d=n[`${t}Data`];if(d!==void 0?a.call(n,d,e):a.call(n,e),e.cancelBubble)return}return n.host&&typeof n.host!="string"&&!n.host._$host&&n.contains(e.target)&&s(n.host),!0},i=()=>{for(;o()&&(n=n._$host||n.parentNode||n.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),e.composedPath){const a=e.composedPath();s(a[0]);for(let d=0;d<a.length-2&&(n=a[d],!!o());d++){if(n._$host){n=n._$host,i();break}if(n.parentNode===l)break}}else i();s(r)}function xe(e,n,t,r,l){for(;typeof t=="function";)t=t();if(n===t)return t;const s=typeof n,o=r!==void 0;if(e=o&&t[0]&&t[0].parentNode||e,s==="string"||s==="number"){if(s==="number"&&(n=n.toString(),n===t))return t;if(o){let i=t[0];i&&i.nodeType===3?i.data!==n&&(i.data=n):i=document.createTextNode(n),t=Y(e,t,r,i)}else t!==""&&typeof t=="string"?t=e.firstChild.data=n:t=e.textContent=n}else if(n==null||s==="boolean")t=Y(e,t,r);else{if(s==="function")return O(()=>{let i=n();for(;typeof i=="function";)i=i();t=xe(e,i,t,r)}),()=>t;if(Array.isArray(n)){const i=[],a=t&&Array.isArray(t);if(je(i,n,t,l))return O(()=>t=xe(e,i,t,r,!0)),()=>t;if(i.length===0){if(t=Y(e,t,r),o)return t}else a?t.length===0?Qe(e,i,r):Rt(e,t,i):(t&&Y(e),Qe(e,i));t=i}else if(n.nodeType){if(Array.isArray(t)){if(o)return t=Y(e,t,r,n);Y(e,t,null,n)}else t==null||t===""||!e.firstChild?e.appendChild(n):e.replaceChild(n,e.firstChild);t=n}}return t}function je(e,n,t,r){let l=!1;for(let s=0,o=n.length;s<o;s++){let i=n[s],a=t&&t[e.length],d;if(!(i==null||i===!0||i===!1))if((d=typeof i)=="object"&&i.nodeType)e.push(i);else if(Array.isArray(i))l=je(e,i,a)||l;else if(d==="function")if(r){for(;typeof i=="function";)i=i();l=je(e,Array.isArray(i)?i:[i],Array.isArray(a)?a:[a])||l}else e.push(i),l=!0;else{const u=String(i);a&&a.nodeType===3&&a.data===u?e.push(a):e.push(document.createTextNode(u))}}return l}function Qe(e,n,t=null){for(let r=0,l=n.length;r<l;r++)e.insertBefore(n[r],t)}function Y(e,n,t,r){if(t===void 0)return e.textContent="";const l=r||document.createTextNode("");if(n.length){let s=!1;for(let o=n.length-1;o>=0;o--){const i=n[o];if(l!==i){const a=i.parentNode===e;!s&&!o?a?e.replaceChild(l,i):e.insertBefore(l,t):a&&i.remove()}else s=!0}}else e.insertBefore(l,t);return[l]}const Yt=[{name:"dummy_1",label:"Dummy",stats:{health:10,maxHealth:10,phys_res:1,mag_res:1,att_dam:0,agility:0,att_delay:2e4},experience:4,icon:"enemy_dummy_1"}],Qt=[{name:"town_1",type:"story",text:"You are in a town...",options:[{text:"Fight Dummies",goto:"dummies_1"},{text:"Guild Quarter",goto:"guilds_1"},{text:"Home",goto:"home_1"},{text:"Merchants",goto:"merchants_1"}]},{name:"dummies_1",type:"zone",text:"Fighting dummies",cooldown:1e3,options:[{text:"Go back...",goto:"town_1"}],encounters:[{type:"enemy",name:"dummy_1",chance:1,drops:[{name:"hay_1",chance:.1}]}]}],Jt=[{label:"Hay",name:"hay_1",stackable:!0,icon:"item_hay_1",max_stack:100,vp:32},{label:"Wooden Sword",name:"wooden_sword_1",stackable:!1,icon:"item_wooden_sword_1",equip_type:"weapon",vp:32,mastery_type:"sword",stats:{attack_min:2,attack_max:4,att_speed:.5}}];var Zt=_('<svg><g class transform=translate(0,0) style><path d="m264.11 24.357-8.022 39.594-28.2-25.122 9.624 25.83-41.48-16.638 41.52 39.777c-9.3 6.495-15.388 17.393-15.388 29.89 0 20.188 15.884 36.22 35.555 36.22 19.67 0 35.555-16.032 35.555-36.22 0-13.184-6.774-24.59-16.95-30.923l24.79-42.37-27.863 17.69-9.143-37.727zM101.776 67.01c-6.163 0-11.688 2.68-15.52 6.92l-39.075-5.62-2.66 18.5 30.865 4.438-58.524 41.41 41.198-8.55-8.027 35.87 25.852-21.962 18.504 34.08-.82-64.887a20.884 20.884 0 0 0 8.207 1.67c3.056 0 5.95-.668 8.567-1.845 13.156 16.754 30.582 30.514 56.65 39.242-7.11 6.444-14.18 12.935-21.303 19.362 48.007 2.993 81.67 49.824 90.275 97.98-6.853 1.445-13.963 3.815-21.307 7.2 28.664 57.982-21.168 129.288-33.297 164.05l5.285.192-34.125 41.227 37.58-18.92 1.53 36.722 19.288-27.903 26.69 28.128-14.5-57.935 6.728.244c.643-48.52 13.678-85.638 21.662-140.625 6.06 49.21 18.806 98.424 6.37 147.635l6.263-.746-14.87 52.83 26.693-28.128 19.287 27.9 1.53-36.72 37.582 18.917-32.63-39.276 5.202-.62c-7.866-38.65-40.228-108.407-19.248-165.44-6.265-4.002-13.042-6.928-20.272-8.65 12.328-43.742 46.016-86.71 85.612-94.556l-7.616-12.46c25.346-10.523 39.26-26.136 48.553-43.866 2.37.82 4.912 1.272 7.56 1.272 1.65 0 3.258-.174 4.81-.502l13.74 59.543 7.71-41.362 30.143 21.032-10.514-32.248 38.557-4.207-55.183-21.805 52.47-6.725-2.374-18.537-60.85 7.797c-4.22-5.62-10.94-9.254-18.51-9.254-9.673 0-17.955 5.94-21.41 14.37L305.49 91.76a54.915 54.915 0 0 1 5.908 18.084l47.694-6.112c-11.316 8.315-20.168 19.095-25.875 33.018l-5.9-9.65c-8.985 9.427-17.88 17.535-26.672 24.047-9.928 13.01-25.47 21.45-42.926 21.45-18.198 0-34.312-9.17-44.156-23.13-6.782-6.855-13.448-15.606-19.984-26.455-5.158 4.28-10.225 8.667-15.248 13.105-8.67-13.547-18.666-25.162-30.402-34.435l56.123 8.072a54.935 54.935 0 0 1 5.914-18.03L120.62 78.87c-3.382-7.012-10.537-11.862-18.843-11.862zm112.88 203.81c0-.002 0-.005-.003-.007l-.002.01.006-.003z"fill=#fff fill-opacity=1></svg>',!1,!0,!1),en=_('<svg><g class transform=translate(0,0) style><path d="M255.157 123c-68.66 0-137.1 18.922-182.867 55.275.234 14.35 1.818 35.624 9.332 48.23 110.634-60.336 236.436-60.336 347.07 0 7.513-12.606 9.098-33.88 9.332-48.23C392.257 141.922 323.817 123 255.157 123zm199.81 76.057c-.324 2.98-.718 6.02-1.246 9.082-2.226 12.93-6.213 26.458-15.99 35.98-14.436 18.637-40.806 30.462-72.858 38.603C332.392 290.973 293.79 295 255.157 295c-38.632 0-77.235-4.028-109.715-12.277-31.907-8.104-58.17-19.868-72.648-38.36-11.983-11.982-16.234-28.786-17.77-43.857-13.73 27.256-11.503 62.122.672 98.648C69.988 342.03 129.406 389 255.156 389c125.75 0 185.17-46.97 199.462-89.846l.1-.297.12-.287c15.134-36.712 15.61-71.983.13-99.513z"fill=#fff fill-opacity=1></svg>',!1,!0,!1),tn=_('<svg><g class transform=translate(0,0) style><path d="M436 439.525V298.348c-30-28.235-60-56.47-60-84.706 0-56.47 30-141.176 120-169.41 0 0-30-28.237-60-28.237h-90c0 56.47-60 84.706-90 84.706s-90-28.234-90-84.705H76c-30 0-60 28.236-60 28.236 90 28.236 120 112.942 120 169.412 0 28.236-30 56.47-60 84.706v141.177c60 28.235 120 56.47 180 56.47s120-28.235 180-56.47z"fill=#fff fill-opacity=1></svg>',!1,!0,!1),nn=_('<svg><g class transform=translate(0,0) style><path d="m269 23.95-87.7.1c1.1 61.4-2.4 116.05-14 159.45-9 34-23.6 61.6-45.2 79-.1 9.5-.8 19-2.1 28.6-3.1 22.9-13.5 43.2-22.75 65 23.55-1.3 43.55-11.6 65.35-24.8 20.6-12.5 42.4-27.5 68.9-37.8-.2-1.4-.4-2.9-.4-4.2-1.9-23.7.1-52.2 4.1-83.2C243 147.6 257.9 81.05 269 23.95zm-105.7.1H80.65c-1.6 36.5 10.1 76.15 21.65 119.15 8.3 30.4 16.5 62.3 19 95.7 12.6-14.3 21.8-34.4 28.6-60 10.8-40.6 14.4-94.15 13.4-154.85zm41.8 14.9a9 9 0 0 1 .1 0 9 9 0 0 1 9 9 9 9 0 0 1-9 9 9 9 0 0 1-9-9 9 9 0 0 1 8.9-9zm-2.4 52.5a9 9 0 0 1 .1 0 9 9 0 0 1 9 8.95 9 9 0 0 1-9 9 9 9 0 0 1-9-9 9 9 0 0 1 8.9-8.95zm-5.9 56.25a9 9 0 0 1 .1 0 9 9 0 0 1 9 9 9 9 0 0 1-9 9 9 9 0 0 1-9-9 9 9 0 0 1 8.9-9zm-16 60.6a9 9 0 0 1 .1 0 9 9 0 0 1 9 9 9 9 0 0 1-9 9 9 9 0 0 1-9-9 9 9 0 0 1 8.9-9zm-32 48.1a9 9 0 0 1 .1 0 9 9 0 0 1 9 9 9 9 0 0 1-9 9 9 9 0 0 1-9-9 9 9 0 0 1 8.9-9zm85.7 55.3c-22.6 9.6-42.3 22.9-62.6 35-24.6 14.9-50.5 27.9-81.85 27.5-8.2 22.7-13.8 48-10 79.9h82.35c13.2-41.4 42.9-78 95.1-106.8-1.4-1-2.9-2.1-4.3-3.2-9.6-7.6-15.3-18.8-18.7-32.4zm40.2 46.7c-52.1 26.2-80.4 58.5-93.6 95.7h127.4c0-14.3.6-29 3.9-43.6 2.6-11.5 7-22.9 14-33.9-16.1-3.3-33.5-8.1-51.7-18.2zm70.8 21.8c-8.2 10.9-12.8 22.3-15.5 34.3-2.8 12.5-3.5 25.8-3.5 39.6h104c-2-17.8-12.5-39.8-28.1-52.1-17.8-13.9-36-17.9-56.9-21.8zm8.3 10.5a9 9 0 0 1 9 9 9 9 0 0 1-9 9 9 9 0 0 1-9-9 9 9 0 0 1 9-9zm-254.05 35a9 9 0 0 1 .1 0 9 9 0 0 1 8.95 9 9 9 0 0 1-8.95 9 9 9 0 0 1-9-9 9 9 0 0 1 8.9-9zm44.85.6a9 9 0 0 1 .1 0 9 9 0 0 1 9 9 9 9 0 0 1-9 9 9 9 0 0 1-9-9 9 9 0 0 1 8.9-9zm201.5.1a9 9 0 0 1 9 9 9 9 0 0 1-9 9 9 9 0 0 1-9-9 9 9 0 0 1 9-9zM72.05 470v18.1H440V470z"fill=#fff fill-opacity=1></svg>',!1,!0,!1),rn=_('<svg><g class transform=translate(0,0) style><path d="M123.153 24.602c-11.349.764-48.792 83.005-63.545 132.174-8.046 26.818 2.983 74.734 41.723 106.45 8.813-1.502 16.946-3.047 24.434-4.626-22.473-24.22-39.048-50.488-47.772-82.059l-1.021-3.699 1.963-3.299c26.135-43.925 37.681-68.548 50.85-112.24l3.849-12.773 10.402 8.351c14.624 11.743 23.72 18.084 32.098 21.809-14.428-22.99-31.841-41.36-52.46-50.06a2.164 2.164 0 0 0-.52-.028zm19.791 50.203c-11.724 36.176-24.141 62.49-46.508 100.379 9.004 29.978 25.746 54.616 49.733 78.65 18.744-4.857 32.588-9.929 43.383-14.978 16.875-7.894 26.514-15.73 36.92-23.701-6.532-34.91-18.944-80.14-38.018-118.375-14.754-2.769-27.196-8.373-45.51-21.975zm90.094 158.008c-9.156 7.022-19.796 14.833-35.861 22.347-17.365 8.123-40.947 15.887-76.29 22.793 35.349 28.759 64.905 62.213 112.643 82.157 2.79-15.613 10.509-29.532 20.61-39.782 9.547-9.688 21.609-16.383 34.252-16.82 2.202-5.202 5.378-10.557 10.593-14.93 6.41-5.374 15.626-8.323 26.932-8.156a35.046 35.046 0 0 1 4.807-5.424c-7.384-1.603-16.19-3.168-27.145-5.586zm120.275 50.299c-.04.009-.084.012-.125.021-11.264 3.729-12.514 6.776-16.947 16.078-8.484-1.005-19.247-2.081-25.69 3.16-6.017 6.313-7.279 12.696-9.685 20.715-14.012-3.276-25.77 1.842-33.904 9.877-8.032 8.15-14.35 20.016-16.082 32.65 5.926 2.628 12.109 4.214 18.139 5.727 12.69-15.498 32.27-33.513 50.66-36.851 12.995-13.444 28.669-18.08 41.183-19.891a60.105 60.105 0 0 1 11.764-8.4c-6.632-11.786-12.405-18.622-19.313-23.086zm-232.011 18.882c-1.967 12.934-7.997 24.573-.64 46.305 32.36 70.655 41.042 23.73 93.735 22.953-38.944-18.938-66.126-45.737-93.095-69.258zm267.765 17.102c-4.87.972-9.343 3.536-13.062 6.28 9.197 12.249 16.987 27.313 23.28 43.81 7.916-2.052 14.75-4.612 21.103-7.506-6.473-26.762-18.951-37.976-31.32-42.584zm-29.935 13.906c-7.676 1.509-15.588 4.36-22.774 10.35 8.367 8.844 20.976 24.773 26.053 43.283 7.632-1.268 15.91-3.698 21.006-8.576-6.608-17.858-15.058-33.73-24.285-45.057zm-38.139 19.668c-14.313 5.357-25.257 14.981-34.674 25.938l19.383 26.324c13.696-1.49 26.639-6.254 39.39-13.299-4.69-15.098-18.62-32.912-24.447-38.607zm108.848 24.365c-6.679 3.099-13.973 5.985-22.237 8.375 6.323 10.32 11.618 21.138 15.602 32.543 7.703-3.07 14.902-6.372 21.264-10.082-3.964-11.28-8.68-22.055-14.63-30.836zM164.687 408.39l49.638 43.377c11.274-13.516 27.044-23.94 42.492-33.942l-22.02-25.32c-24.334-8.01-52.756 2.355-70.11 15.885zM391.9 394.153c-6.866 5.056-14.143 7.727-21.795 9.377 5.371 9.31 10.375 19.502 14.354 29.755 7.946-2.139 15.451-4.432 22.344-7.775-3.648-10.897-8.68-21.303-14.903-31.357zm-39.88 14.105c-11.759 6.313-24.191 11.162-37.42 13.545l13.316 27.447c14.663-2.177 28.099-3.684 39.666-9.746-4.195-10.706-9.777-21.706-15.563-31.246zm98.017 17.156c-6.627 3.604-13.647 6.703-20.846 9.534 2.83 7.167 5.28 14.119 7.21 20.757 10.397-1.435 20.263-5.912 18.179-13.869-1.423-5.296-2.923-10.83-4.543-16.422zM268.82 431.54c-16.062 10.564-31.09 20.975-40.728 32.256l1.392 1.217c16.648 14.548 36.256 20.475 44.95 9.13 8.522-11.12 10.536-24.116-5.614-42.603zm144.01 10.957c-7.166 3.334-14.4 5.634-21.465 7.58 3.051 6.991 5.842 13.849 8.244 20.48 9.2-.457 17.732-4.025 19.33-10.442-1.622-5.49-3.688-11.409-6.109-17.618zm-38.437 13.69c-12.724 6.396-25.866 8.467-38.184 10.154l6 12.367c10.038 10.705 32.656 11.336 42.21 2.944-2.654-7.907-6.1-16.516-10.026-25.465z"fill=#fff fill-opacity=1></svg>',!1,!0,!1),sn=_('<svg><g class transform=translate(0,0) style><path d="M256 34.162c-.135.22-.175.203-.314.447-1.975 3.46-4.37 9.255-6.72 16.347-4.703 14.183-9.438 33.67-13.575 53.223-4.137 19.553-7.708 39.222-10.238 54.084-1.264 7.43-2.27 13.66-2.957 18.07a518.223 518.223 0 0 0-.78 5.158 61.5 61.5 0 0 0-.15 1.065c.095 1.402 1.882 4.45 8.008 7.433 6.302 3.07 15.98 5.293 26.727 5.293 10.748 0 20.425-2.223 26.727-5.293 6.126-2.984 7.913-6.03 8.01-7.433l-.15-1.065c-.176-1.2-.44-2.954-.782-5.158-.687-4.41-1.693-10.64-2.957-18.07-2.53-14.862-6.1-34.53-10.24-54.084-4.136-19.554-8.87-39.04-13.573-53.223-2.35-7.092-4.746-12.886-6.72-16.348-.14-.245-.18-.23-.315-.448zM87.066 53.222c-39.793 29.842-65.173 69.95-65.173 114.284 0 30.934 11.92 59.887 32.646 84.695l27.13-78.23c-11.335-17.452-17.668-36.89-17.668-57.384 0-22.984 8.953-44.332 23.064-63.363zm337.883.016c14.094 19.032 23.064 40.38 23.064 63.364 0 20.493-6.333 39.928-17.664 57.377l27.123 78.208c20.718-24.805 32.634-53.753 32.634-84.682 0-44.333-25.38-84.443-65.158-114.268zM214.26 129.043c-36.194 9.176-61.82 31.89-80.563 70.234-24.892 50.927-35.985 130.406-36.304 239.645 43.728 24.578 91.336 38.24 139.99 40.765-.34-38.18-6.926-98.547-11.704-137.69-66.903-5.935-95.838-29.493-95.838-29.493s3.777-27.682 6.396-39.936c38.412 12.937 78.856 19.46 119.776 19.22 40.904.223 81.347-6.283 119.76-19.22 2.618 12.254 6.398 39.936 6.398 39.936s-27.968 24-95.875 29.648c-4.778 39.148-11.345 99.41-11.687 137.536 48.655-2.526 96.263-16.188 139.99-40.766-.318-109.24-11.41-188.718-36.302-239.645-18.74-38.345-44.368-61.058-80.562-70.234a1572.08 1572.08 0 0 1 4.617 25.748c.345.185.697.36 1.036.55 12.55 6.98 21.67 17.51 23.542 30.355l6.01 41.295-.815 1.998c-5.284 12.98-18.74 20.31-33.104 25.653-14.363 5.344-30.252 8.233-42.947 8.356h-.158c-12.69-.13-28.578-3.02-42.94-8.36-14.365-5.342-27.82-12.666-33.105-25.648l-.814-1.998 6.008-41.295c1.87-12.844 10.99-23.374 23.54-30.355.34-.19.692-.365 1.037-.55 1.297-7.6 2.854-16.367 4.617-25.747zm-112.41 35.178-41.44 119.49 29.695 13.71c6.08-42.11 15.602-77.018 29.332-105.11 3.33-6.817 6.94-13.21 10.814-19.2l-28.402-8.89zm308.312 0-28.416 8.895c3.874 5.986 7.482 12.38 10.813 19.194 13.732 28.093 23.256 63.002 29.335 105.116l29.71-13.717-41.44-119.49zm-208.066 19.147a18.537 18.537 0 0 0-1.323 4.615l-5.287 36.332c2.948 4.908 11.57 11.185 23.02 15.442 12.417 4.617 27.205 7.245 37.496 7.363 10.286-.112 25.07-2.738 37.486-7.356 11.45-4.26 20.074-10.54 23.022-15.45l-5.287-36.332a18.507 18.507 0 0 0-1.323-4.615c-1.095.378-2.223.747-3.37 1.112-.98 9.068-8.33 15.628-16.854 19.78-9.16 4.462-20.84 6.896-33.678 6.896-12.84 0-24.52-2.434-33.678-6.896-8.523-4.152-15.873-10.712-16.853-19.78-1.15-.366-2.277-.735-3.372-1.113z"fill=#fff fill-opacity=1></svg>',!1,!0,!1),ln=_('<svg><g class transform=translate(0,0) style><path d="M89.452 32v44.667l166.75 28.9 166.75-28.9V32l-166.75 28.902L89.452 32zm-.405 69.444v186.712c49.478 16.004 90.187 8.72 139.67 0 1.14-34.244 12.925-60.635 27.09-60.672 14.165.04 25.95 26.428 27.09 60.672 49.472 16.003 90.173 8.72 139.65 0V101.444l-166.74 28.813-166.76-28.813zm0 212.25v69.186c45.914 7.332 85.747 13.896 131.648 0v-69.186c-45.915 7.33-85.747 13.895-131.648 0zm201.853 0v69.186c45.914 7.332 85.747 13.896 131.648 0v-69.186c-45.915 7.33-85.747 13.895-131.648 0zm-198.44 94.55v64.2c43.532 6.802 81.302 12.893 124.823 0v-64.2c-43.534 6.8-81.303 12.893-124.824 0zm201.854 0v64.2c43.533 6.802 81.3 12.893 124.822 0v-64.2c-43.534 6.8-81.3 12.893-124.822 0z"fill=#fff fill-opacity=1></svg>',!1,!0,!1),on=_('<svg><g class transform=translate(0,0) style><path d="M289.5 18.23c-1.8 38.71-3.3 77.44-5.1 116.17C193 155.6 90.37 194.8 19.02 245c18.37 36.5 37.26 73.4 53.17 104.7C54 365.3 35.9 381.4 18.32 397.8v96H460.6c-9.3-7.5-18.8-14.9-28.7-22.2l20.5-21.3c10.2 13 19.8 26.6 28.8 40.9l-14 2.6h26.5V249.7l-23.8 30c-6.7-9.4-13.7-18.7-21-27.8l27-57.1c6.3 9.9 12.3 19.9 17.8 29.7V18.23zm17.3 29.34c15.8 5.74 30.8 12.97 45 21.36l-11.9 78.17c-12.4-8.9-25-17-37.6-24.1zm62.2 32.4c16.1 11.1 31 23.83 44.8 37.43l-23.9 70.8c-10.8-10-21.8-19.5-33-28.4zm59.4 52.63c12.9 14.1 24.6 29 35.3 44.2l-27.9 59.3c-10-11.6-20.3-22.8-31.1-33.6zM101.8 264.2l17 73c-11.1-1.2-22.23-2.1-33.33-2.5l-36.75-72.3c17.48-.4 37.15.4 53.08 1.8zm19.8 2.2c20.7 2.6 41.6 6.7 62.4 12l.7 70.8c-15.2-3.8-30.6-7-46.1-9.4zm81.1 17.2c18.8 5.6 37.5 12.3 55.9 20.2L247.7 369c-14.6-5.5-29.4-10.4-44.3-14.7zm73.6 28.1c17.2 8.1 34.2 17.2 50.7 27.4l-19.8 55.8c-13.7-6.7-27.6-13-41.8-18.9zm66.9 37.8c16.4 11 32.3 23.1 47.5 36.2l-25.4 41.1c-13.4-8.1-27.2-15.9-41.4-23.3zm61.6 49c12.4 11.6 24.4 24.1 35.7 37.3l-23.9 24.8c-11.5-8.2-23.3-16.2-35.4-23.9z"fill=#fff fill-opacity=1></svg>',!1,!0,!1),an=_('<svg><g class transform=translate(0,0) style><path d="M124.812 388.907a60.718 60.718 0 0 0 16.564 11.588L107.28 435.07a48.756 48.756 0 0 0-28.35-28.006l34.16-34.576a61.093 61.093 0 0 0 11.722 16.42zm209.598-276.44c-32.754 33.14-57.813 79.127-103.008 124.853-9.13 9.245-40.292 37.355-58.303 53.555l49.223 48.64c15.98-18.24 43.727-49.744 52.858-58.978 45.154-45.726 90.828-71.39 123.57-104.477C452.683 121.485 481 28.492 481 28.492s-92.67 29.4-146.59 83.976zM83.656 430.594a30.92 30.92 0 1 0 .26 43.727 30.817 30.817 0 0 0-.26-43.727zm91.13-40.603c11.16 0 20.822-2.81 24.497-6.56l20.885-21.103-69.88-69.047-20.823 21.135c-7.964 8.068-11.233 43.06 7.85 61.905 10.12 10.026 24.79 13.66 37.47 13.66z"fill=#fff fill-opacity=1></svg>',!1,!0,!1),cn=_('<svg><g class transform=translate(0,0) style><path d="M256 16c25 24 100 72 150 72v96c0 96-75 240-150 312-75-72-150-216-150-312V88c50 0 125-48 150-72z"fill=#fff fill-opacity=1></svg>',!1,!0,!1),un=_('<svg><g xmlns=http://www.w3.org/2000/svg id=surface1><path d="M 34.445117 -0.0647461 L -0.0507812 28.47832 "transform=matrix(0.0255918,0,0,0.0255918,1.40755,26.794626) style=fill:none;stroke-width:64;stroke-linecap:square;stroke-linejoin:miter;stroke:rgb(89.019608%,58.039218%,14.509805%);stroke-opacity:1;stroke-miterlimit:2></path><path d="M 22.562305 11.589063 C 22.562305 5.17832 17.525293 -0.0113281 11.267188 -0.0113281 C 5.009082 -0.0113281 -0.0279297 5.17832 -0.0279297 11.589063 C -0.0279297 17.999805 5.009082 23.189453 11.267188 23.189453 C 17.525293 23.189453 22.562305 17.999805 22.562305 11.589063 Z M 22.562305 11.589063 "transform=matrix(0.0255918,0,0,0.0255918,30.774152,3.390915) style=fill:none;stroke-width:40;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(81.568629%,52.941179%,12.941177%);stroke-opacity:1;stroke-miterlimit:4></path><path d="M 0.0702148 637.516211 L 793.475879 -0.0473633 "transform=matrix(0.0255918,0,0,0.0255918,10.361484,4.005118) style=fill:none;stroke-width:60;stroke-linecap:square;stroke-linejoin:miter;stroke:rgb(80.392158%,54.11765%,12.156863%);stroke-opacity:1;stroke-miterlimit:2></path><path d="M -0.00478516 116.980469 L 146.984375 0.0607422 "transform=matrix(0.0255918,0,0,0.0255918,4.363404,22.162508) style=fill:none;stroke-width:80;stroke-linecap:square;stroke-linejoin:miter;stroke:rgb(58.039218%,44.313726%,25.490198%);stroke-opacity:1;stroke-miterlimit:2></path><path d="M 59.972949 315.034668 C -20.466602 179.493262 -20.008691 82.721582 61.499316 24.719629 C 142.854688 -33.434961 228.941797 11.134961 319.608008 158.276758 L 320.981738 158.276758 "transform=matrix(0.0255918,0,0,0.0255918,1.90659,18.285349) style=fill:none;stroke-width:46;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(69.803923%,52.549022%,28.627452%);stroke-opacity:1;stroke-miterlimit:4></svg>',!1,!0,!1),fn=_('<svg><g xmlns=http://www.w3.org/2000/svg id=surface1><path d="M -0.000112122 12.263409 C 7.395786 4.071515 8.037779 -0.016083 1.92772 0.000616264 "transform=matrix(2.105263,0,0,2.105263,0.523674,6.02214) style=fill:none;stroke-width:0.36;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(79.607844%,77.254903%,22.745098%);stroke-opacity:1;stroke-miterlimit:4></path><path d="M -0.000268078 9.613189 C 5.439966 3.677544 9.896802 0.47315 13.37024 0.00000543594 "transform=matrix(2.105263,0,0,2.105263,2.984939,8.640614) style=fill:none;stroke-width:0.36;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(79.607844%,77.254903%,22.745098%);stroke-opacity:1;stroke-miterlimit:4></path><path d="M 10.746156 0.000911999 C 12.096937 0.266244 9.664417 3.619076 3.444886 10.061264 C 3.669398 6.919955 2.520863 6.86058 -0.000719225 9.886849 "transform=matrix(2.105263,0,0,2.105263,0.759327,1.806674) style=fill:none;stroke-width:0.36;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(79.607844%,77.254903%,22.745098%);stroke-opacity:1;stroke-miterlimit:4></path><path d="M 0 4.304128 L 3.707227 -0.000559235 "transform=matrix(2.105263,0,0,2.105263,0,22.544146) style=fill:none;stroke-width:0.36;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(79.607844%,77.254903%,22.745098%);stroke-opacity:1;stroke-miterlimit:4></path><path d="M 0.000180471 4.539165 C 0.124497 4.364751 1.484555 2.852544 4.078501 0.000688744 "transform=matrix(2.105263,0,0,2.105263,0.890245,22.7798) style=fill:none;stroke-width:0.36;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(79.607844%,77.254903%,22.745098%);stroke-opacity:1;stroke-miterlimit:4></path><path d="M -0.000371075 7.110293 C 0.123945 6.930313 5.725605 0.877774 3.88127 0.438027 C 2.651094 0.146719 2.036934 0.000136852 2.036934 0.000136852 "transform=matrix(2.105263,0,0,2.105263,9.45,6.347368) style=fill:none;stroke-width:0.36;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(79.607844%,77.254903%,22.745098%);stroke-opacity:1;stroke-miterlimit:4></path><path d="M -0.000371075 1.589029 C 5.181953 -0.54105 8.219355 -0.529917 9.111836 1.622427 "transform=matrix(2.105263,0,0,2.105263,9.45,18.420302) style=fill:none;stroke-width:0.36;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(79.607844%,77.254903%,22.745098%);stroke-opacity:1;stroke-miterlimit:4></path><path d="M 6.989939 11.249215 C 4.451658 7.118941 4.451658 7.13193 0.000388145 7.504879 C 5.60947 2.105465 8.765623 -0.380863 9.470701 0.0477499 "transform=matrix(2.105263,0,0,2.105263,9.452308,6.508849) style=fill:none;stroke-width:0.36;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(79.607844%,77.254903%,22.745098%);stroke-opacity:1;stroke-miterlimit:4></path><path d="M 1.901719 6.255606 C 3.048399 2.490859 3.018711 0.505508 1.810801 0.303262 C 0.602891 0.101016 -0.000136614 0.000820351 -0.000136614 0.000820351 "transform=matrix(2.105263,0,0,2.105263,4.902631,8.83421) style=fill:none;stroke-width:0.36;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(79.607844%,77.254903%,22.745098%);stroke-opacity:1;stroke-miterlimit:4></svg>',!1,!0,!1),dn=_("<svg xmlns=http://www.w3.org/2000/svg>");const De=e=>(()=>{var n=dn();return m(n,h(yt,{get children(){return[h(M,{get when(){return e.name==="enemy_dummy_1"},get children(){return Zt()}}),h(M,{get when(){return e.name==="equip_accessory"},get children(){return en()}}),h(M,{get when(){return e.name==="equip_chest"},get children(){return tn()}}),h(M,{get when(){return e.name==="equip_foot"},get children(){return[nn(),","]}}),h(M,{get when(){return e.name==="equip_hand"},get children(){return rn()}}),h(M,{get when(){return e.name==="equip_head"},get children(){return[sn(),","]}}),h(M,{get when(){return e.name==="equip_legs"},get children(){return[ln(),","]}}),h(M,{get when(){return e.name==="equip_shoulder"},get children(){return on()}}),h(M,{get when(){return e.name==="equip_weapon"},get children(){return an()}}),h(M,{get when(){return e.name==="equip_shield"},get children(){return cn()}}),h(M,{get when(){return e.name==="item_wooden_sword_1"},get children(){return un()}}),h(M,{get when(){return e.name==="item_hay_1"},get children(){return fn()}})]}})),O(t=>{var r=`${e.class} bg-black dark:bg-transparent`,l=`0 0 ${e.vp??512} ${e.vp??512}`,s=`${e.flip?"transform: scale(-1, 1);":""} height: ${e.w??32}px; width: ${e.w??32}px;`;return r!==t.e&&Te(n,"class",t.e=r),l!==t.t&&Te(n,"viewBox",t.t=l),t.a=Gt(n,s,t.a),t},{e:void 0,t:void 0,a:void 0}),n})(),_t=(e,n)=>{let t;e.addEventListener("mouseover",()=>{const{text:l,className:s}=n();if(t||!l)return;const o=hn(e);t=document.createElement("div"),t.className=s??"p-1 bg-gray-100 dark:bg-[#2F2F2F] border rounded",t.classList.add("absolute"),t.style.left=o.left+"px",t.style.top=o.top+"px",t.innerHTML=l,t.style.transform="translate(-50%, 0)",document.body.appendChild(t),r()});const r=()=>{setTimeout(()=>{e!=null&&e.isConnected?r():(t==null||t.remove(),t=void 0)},100)};e.addEventListener("mouseout",()=>{t==null||t.remove(),t=void 0})};function hn(e){const n=e.getBoundingClientRect();return{left:n.right-n.width/2+window.scrollX,top:n.bottom+window.scrollY}}function gn(e,n,t){let r=t.length,l=n.length,s=r,o=0,i=0,a=n[l-1].nextSibling,d=null;for(;o<l||i<s;){if(n[o]===t[i]){o++,i++;continue}for(;n[l-1]===t[s-1];)l--,s--;if(l===o){const u=s<r?i?t[i-1].nextSibling:t[s-i]:a;for(;i<s;)e.insertBefore(t[i++],u)}else if(s===i)for(;o<l;)(!d||!d.has(n[o]))&&n[o].remove(),o++;else if(n[o]===t[s-1]&&t[i]===n[l-1]){const u=n[--l].nextSibling;e.insertBefore(t[i++],n[o++].nextSibling),e.insertBefore(t[--s],u),n[l]=t[s]}else{if(!d){d=new Map;let c=i;for(;c<s;)d.set(t[c],c++)}const u=d.get(n[o]);if(u!=null)if(i<u&&u<s){let c=o,p=1,f;for(;++c<l&&c<s&&!((f=d.get(n[c]))==null||f!==u+p);)p++;if(p>u-i){const b=n[o];for(;i<u;)e.insertBefore(t[i++],b)}else e.replaceChild(t[i++],n[o++])}else o++;else n[o++].remove()}}}const Je="_$DX_DELEGATE";function mn(e,n,t){const r=document.createElement("template");if(r.innerHTML=e,r.innerHTML.split("<").length-1!==n)throw`The browser resolved template HTML does not match JSX input:
${r.innerHTML}

${e}. Is your HTML properly formed?`;return r.content.firstChild}function pn(e,n=window.document){const t=n[Je]||(n[Je]=new Set);for(let r=0,l=e.length;r<l;r++){const s=e[r];t.has(s)||(t.add(s),n.addEventListener(s,vn))}}function ye(e,n,t){t==null?e.removeAttribute(n):e.setAttribute(n,t)}function yn(e,n,t,r){Array.isArray(t)?(e[`$$${n}`]=t[0],e[`$$${n}Data`]=t[1]):e[`$$${n}`]=t}function Ze(e,n,t={}){const r=Object.keys(n||{}),l=Object.keys(t);let s,o;for(s=0,o=l.length;s<o;s++){const i=l[s];!i||i==="undefined"||n[i]||(tt(e,i,!1),delete t[i])}for(s=0,o=r.length;s<o;s++){const i=r[s],a=!!n[i];!i||i==="undefined"||t[i]===a||!a||(tt(e,i,!0),t[i]=a)}return t}function et(e,n,t){if(!n)return t?ye(e,"style"):n;const r=e.style;if(typeof n=="string")return r.cssText=n;typeof t=="string"&&(r.cssText=t=void 0),t||(t={}),n||(n={});let l,s;for(s in t)n[s]==null&&r.removeProperty(s),delete t[s];for(s in n)l=n[s],l!==t[s]&&(r.setProperty(s,l),t[s]=l);return t}function _n(e,n,t){return N(()=>e(n,t))}function He(e,n,t,r){if(t!==void 0&&!r&&(r=[]),typeof n!="function")return ke(e,n,r,t);O(l=>ke(e,n(),l,t),r)}function tt(e,n,t){const r=n.trim().split(/\s+/);for(let l=0,s=r.length;l<s;l++)e.classList.toggle(r[l],t)}function vn(e){const n=`$$${e.type}`;let t=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==t&&Object.defineProperty(e,"target",{configurable:!0,value:t}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),it.registry;t;){const r=t[n];if(r&&!t.disabled){const l=t[`${n}Data`];if(l!==void 0?r.call(t,l,e):r.call(t,e),e.cancelBubble)return}t=t._$host||t.parentNode||t.host}}function ke(e,n,t,r,l){for(it.context;typeof t=="function";)t=t();if(n===t)return t;const s=typeof n,o=r!==void 0;if(e=o&&t[0]&&t[0].parentNode||e,s==="string"||s==="number")if(s==="number"&&(n=n.toString()),o){let i=t[0];i&&i.nodeType===3?i.data=n:i=document.createTextNode(n),t=Q(e,t,r,i)}else t!==""&&typeof t=="string"?t=e.firstChild.data=n:t=e.textContent=n;else if(n==null||s==="boolean")t=Q(e,t,r);else{if(s==="function")return O(()=>{let i=n();for(;typeof i=="function";)i=i();t=ke(e,i,t,r)}),()=>t;if(Array.isArray(n)){const i=[],a=t&&Array.isArray(t);if(Ie(i,n,t,l))return O(()=>t=ke(e,i,t,r,!0)),()=>t;if(i.length===0){if(t=Q(e,t,r),o)return t}else a?t.length===0?nt(e,i,r):gn(e,t,i):(t&&Q(e),nt(e,i));t=i}else if(n instanceof Node){if(Array.isArray(t)){if(o)return t=Q(e,t,r,n);Q(e,t,null,n)}else t==null||t===""||!e.firstChild?e.appendChild(n):e.replaceChild(n,e.firstChild);t=n}else console.warn("Unrecognized value. Skipped inserting",n)}return t}function Ie(e,n,t,r){let l=!1;for(let s=0,o=n.length;s<o;s++){let i=n[s],a=t&&t[s];if(i instanceof Node)e.push(i);else if(!(i==null||i===!0||i===!1))if(Array.isArray(i))l=Ie(e,i,a)||l;else if(typeof i=="function")if(r){for(;typeof i=="function";)i=i();l=Ie(e,Array.isArray(i)?i:[i],Array.isArray(a)?a:[a])||l}else e.push(i),l=!0;else{const d=String(i);d==="<!>"?a&&a.nodeType===8&&e.push(a):a&&a.nodeType===3?(a.data=d,e.push(a)):e.push(document.createTextNode(d))}}return l}function nt(e,n,t=null){for(let r=0,l=n.length;r<l;r++)e.insertBefore(n[r],t)}function Q(e,n,t,r){if(t===void 0)return e.textContent="";const l=r||document.createTextNode("");if(n.length){let s=!1;for(let o=n.length-1;o>=0;o--){const i=n[o];if(l!==i){const a=i.parentNode===e;!s&&!o?a?e.replaceChild(l,i):e.insertBefore(l,t):a&&i.remove()}else s=!0}}else e.insertBefore(l,t);return[l]}const wn="http://www.w3.org/2000/svg";function bn(e,n=!1){return n?document.createElementNS(wn,e):document.createElement(e)}function $n(e){const{useShadow:n}=e,t=document.createTextNode(""),r=()=>e.mount||document.body,l=C(s());function s(){return()=>e.children}return O(()=>{const o=r();if(o instanceof HTMLHeadElement){const[i,a]=H(!1),d=()=>a(!0);ae(u=>He(o,()=>i()?u():l(),null)),Oe(()=>{d()})}else{const i=bn(e.isSVG?"g":"div",e.isSVG),a=n&&i.attachShadow?i.attachShadow({mode:"open"}):i;Object.defineProperty(i,"_$host",{get(){return t.parentNode},configurable:!0}),He(a,l),o.appendChild(i),e.ref&&e.ref(i),Oe(()=>o.removeChild(i))}}),t}const xn='a, button:not(:disabled), input, textarea, select, details, [tabindex]:not([tabindex="-1"])',kn=e=>Array.from(e.querySelectorAll(xn));var Be=(e=>(e.TAB="Tab",e.ESCAPE="Escape",e))(Be||{});const Cn=mn('<div role="presentation"><div aria-modal="true" tabindex="0"></div></div>',4),An={position:"fixed",padding:"1rem",top:"50%",left:"50%",transform:"translate(-50%, -50%)",overflow:"auto",border:"1px solid rgba(200, 200, 200, 0.5)","background-color":"white","border-radius":"1rem","max-height":"90%","max-width":"90%"},En={position:"fixed",inset:"0 0 0 0","background-color":"rgba(255, 255, 255, 0.5)"},qn=e=>{let n,t,r=[];const l={"solid-modal-overlay":!0,[e.overlayClass]:!!e.overlayClass},s={"solid-modal-content":!0,[e.contentClass]:!!e.contentClass},o=u=>{r.length>1?r[0].focus():u.focus()},i=u=>{u<r.length-1?r[u+1].focus():r[0].focus()},a=u=>{u>0?r[u-1].focus():r[r.length-1].focus()};Z(()=>{e.isOpen&&e.children&&n&&(r=kn(n))}),Z(()=>{e.isOpen&&n&&(t=document.activeElement,o(n))}),Z(()=>{!e.isOpen&&t&&t.focus()});const d=u=>{switch(u.key){case Be.TAB:if(u.preventDefault(),document.activeElement===n&&r.length>0){u.shiftKey?r[r.length-1].focus():r[0].focus();return}const c=r.findIndex(p=>p===document.activeElement);c>-1&&(u.shiftKey?a(c):i(c));return;case Be.ESCAPE:u.stopPropagation(),e.onCloseRequest();return;default:return}};return h($n,{get children(){return h(D,{get when(){return e.isOpen},get children(){const u=Cn.cloneNode(!0),c=u.firstChild;yn(u,"click",e.closeOnOutsideClick?e.onCloseRequest:void 0),c.$$click=f=>f.stopImmediatePropagation();const p=n;return typeof p=="function"?_n(p,c):n=c,c.$$keydown=d,He(c,()=>e.children),O(f=>{const b=e.overlayClass?e.overlayStyle:{...En,...e.overlayStyle},A=l,z=e.ariaLabelledBy,I=e.ariaLabel,E=e.contentClass?e.contentStyle:{...An,...e.overlayStyle},S=s,g=e.role??"dialog";return f._v$=et(u,b,f._v$),f._v$2=Ze(u,A,f._v$2),z!==f._v$3&&ye(c,"aria-labelledby",f._v$3=z),I!==f._v$4&&ye(c,"aria-label",f._v$4=I),f._v$5=et(c,E,f._v$5),f._v$6=Ze(c,S,f._v$6),g!==f._v$7&&ye(c,"role",f._v$7=g),f},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0}),u}})}})};pn(["click","keydown"]);const Re=Symbol("store-raw"),ee=Symbol("store-node"),B=Symbol("store-has"),vt=Symbol("store-self");function wt(e){let n=e[G];if(!n&&(Object.defineProperty(e,G,{value:n=new Proxy(e,zn)}),!Array.isArray(e))){const t=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let l=0,s=t.length;l<s;l++){const o=t[l];r[o].get&&Object.defineProperty(e,o,{enumerable:r[o].enumerable,get:r[o].get.bind(n)})}}return n}function Ce(e){let n;return e!=null&&typeof e=="object"&&(e[G]||!(n=Object.getPrototypeOf(e))||n===Object.prototype||Array.isArray(e))}function ue(e,n=new Set){let t,r,l,s;if(t=e!=null&&e[Re])return t;if(!Ce(e)||n.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):n.add(e);for(let o=0,i=e.length;o<i;o++)l=e[o],(r=ue(l,n))!==l&&(e[o]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):n.add(e);const o=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let a=0,d=o.length;a<d;a++)s=o[a],!i[s].get&&(l=e[s],(r=ue(l,n))!==l&&(e[s]=r))}return e}function Ae(e,n){let t=e[n];return t||Object.defineProperty(e,n,{value:t=Object.create(null)}),t}function fe(e,n,t){if(e[n])return e[n];const[r,l]=H(t,{equals:!1,internal:!0});return r.$=l,e[n]=r}function Sn(e,n){const t=Reflect.getOwnPropertyDescriptor(e,n);return!t||t.get||!t.configurable||n===G||n===ee||(delete t.value,delete t.writable,t.get=()=>e[G][n]),t}function bt(e){Pe()&&fe(Ae(e,ee),vt)()}function Mn(e){return bt(e),Reflect.ownKeys(e)}const zn={get(e,n,t){if(n===Re)return e;if(n===G)return t;if(n===Le)return bt(e),t;const r=Ae(e,ee),l=r[n];let s=l?l():e[n];if(n===ee||n===B||n==="__proto__")return s;if(!l){const o=Object.getOwnPropertyDescriptor(e,n);Pe()&&(typeof s!="function"||e.hasOwnProperty(n))&&!(o&&o.get)&&(s=fe(r,n,s)())}return Ce(s)?wt(s):s},has(e,n){return n===Re||n===G||n===Le||n===ee||n===B||n==="__proto__"?!0:(Pe()&&fe(Ae(e,B),n)(),n in e)},set(){return!0},deleteProperty(){return!0},ownKeys:Mn,getOwnPropertyDescriptor:Sn};function Ee(e,n,t,r=!1){if(!r&&e[n]===t)return;const l=e[n],s=e.length;t===void 0?(delete e[n],e[B]&&e[B][n]&&l!==void 0&&e[B][n].$()):(e[n]=t,e[B]&&e[B][n]&&l===void 0&&e[B][n].$());let o=Ae(e,ee),i;if((i=fe(o,n,l))&&i.$(()=>t),Array.isArray(e)&&e.length!==s){for(let a=e.length;a<s;a++)(i=o[a])&&i.$();(i=fe(o,"length",s))&&i.$(e.length)}(i=o[vt])&&i.$()}function $t(e,n){const t=Object.keys(n);for(let r=0;r<t.length;r+=1){const l=t[r];Ee(e,l,n[l])}}function Ln(e,n){if(typeof n=="function"&&(n=n(e)),n=ue(n),Array.isArray(n)){if(e===n)return;let t=0,r=n.length;for(;t<r;t++){const l=n[t];e[t]!==l&&Ee(e,t,l)}Ee(e,"length",r)}else $t(e,n)}function oe(e,n,t=[]){let r,l=e;if(n.length>1){r=n.shift();const o=typeof r,i=Array.isArray(e);if(Array.isArray(r)){for(let a=0;a<r.length;a++)oe(e,[r[a]].concat(n),t);return}else if(i&&o==="function"){for(let a=0;a<e.length;a++)r(e[a],a)&&oe(e,[a].concat(n),t);return}else if(i&&o==="object"){const{from:a=0,to:d=e.length-1,by:u=1}=r;for(let c=a;c<=d;c+=u)oe(e,[c].concat(n),t);return}else if(n.length>1){oe(e[r],n,[r].concat(t));return}l=e[r],t=[r].concat(t)}let s=n[0];typeof s=="function"&&(s=s(l,t),s===l)||r===void 0&&s==null||(s=ue(s),r===void 0||Ce(l)&&Ce(s)&&!Array.isArray(s)?$t(l,s):Ee(e,r,s))}function On(...[e,n]){const t=ue(e||{}),r=Array.isArray(t),l=wt(t);function s(...o){Lt(()=>{r&&o.length===1?Ln(t,o[0]):oe(t,o)})}return[l,s]}var Pn=_('<div class="flex flex-col gap-5 lg:pl-5 mt-5 p-2"><div class="flex lg:flex-row flex-col gap-5 justify-center w-full">'),Nn=_('<div class="grid grid-cols-5 lg:grid-cols-12 gap-1">'),j=_("<div>"),Tn=_('<div class="flex flex-row gap-5 items-center"><span class="text-lg font-bold"> (<!>)</span><div>'),jn=_('<div class="w-full mt-5">'),Dn=_('<div class="absolute right-2 bottom-1">'),Hn=_("<div class=h-16>"),In=_("<ul><li>Welcome to Idleology!"),Bn=_("<div>Strength"),Rn=_("<div>Intelligence"),Vn=_("<div>Constitution"),Fn=_("<div>Agility"),Kn=_("<div class=mb-5>Charisma"),J=_("<div class=col-span-2>"),Un=_("<div>Attack Damage"),Xn=_("<div> - "),Gn=_("<div>Physical Res."),Wn=_("<div>Magical Res."),Yn=_("<div>Critical Chance"),rt=_("<div>%"),Qn=_("<div>Critical Damage"),Jn=_("<div>Fortitude"),Zn=_("<div>Attack rate"),er=_("<div> p/s"),tr=_('<div class="flex flex-col justify-between h-full"><div class="grid grid-cols-2 gap-1 [&amp;>div]:odd:text-left [&amp;>div]:even:text-right"></div><div class="flex flex-row justify-between mt-5 gap-5"><div></div><div></div><div>'),nr=_('<div class="flex flex-row gap-5"><div class="flex flex-col gap-5"></div><div class="flex flex-col w-full"><div class="flex flex-row justify-center gap-5"></div><div class="flex flex-row justify-center mt-5 gap-5"></div><div class="flex flex-row justify-center mt-5 gap-5"></div><div class="flex flex-row justify-center mt-5 gap-5">'),rr=_("<div class=mt-5>"),sr=_('<div class="flex flex-col justify-center gap-2 min-w-64 justify-center text-center"><div>'),lr=_('<div class="flex flex-col gap-5 mt-5">'),ir=_("<div class=cursor-pointer>"),or=_('<div class="w-full outline hover:outline-2 cursor-pointer p-1"><div class="outline p-1">'),ar=_('<div><div class="absolute -top-3 left-3 bg-white dark:bg-[#242424]">'),cr=_('<div class=relative><progress max=100 class="h-8 [&amp;::-webkit-progress-bar]:rounded-xl [&amp;::-webkit-progress-value]:rounded-xl [&amp;::-webkit-progress-bar]:bg-slate-300 w-full"></progress><div class="absolute top-0.5 left-[50%] -translate-x-1/2 text-black whitespace-nowrap">'),ur=_('<div class="border w-full rounded-xl"><span class="block h-1 bg-yellow-500 rounded-xl">');const fr=20,xt=4250,kt=e=>Qt.find(n=>n.name===e),dr=e=>Yt.find(n=>n.name===e),Ct=e=>Jt.find(n=>n.name===e);let st;const ze=[[10,[2,3]],[20,[5,6]],[30,[10,14]],[40,[12,18]],[50,[15,20]],[60,[18,24]],[70,[25,30]],[80,[35,55]],[90,[45,90]],[100,[100,100]]];class hr{constructor(n,t){V(this,"stats");V(this,"mastery");V(this,"masteryExp");V(this,"equipment",[]);this.stats=n,this.mastery=t,this.masteryExp={bare_hand:0,sword:0,shield:0}}weaponMastery(){const n=this.equipment.find(t=>t.equip_type==="weapon");return(n==null?void 0:n.mastery_type)??"bare_hand"}attackDamage(){const n=this.weaponMastery(),t=Math.min(this.mastery[n],100),r=1+Math.pow(this.stats.strength/100,.7);let l=this.equipment.reduce((a,d)=>{var u;return a+(((u=d.stats)==null?void 0:u.attack_min)??0)},0),s=this.equipment.reduce((a,d)=>{var u;return a+(((u=d.stats)==null?void 0:u.attack_max)??0)},0);if(n==="bare_hand"){const a=ze.findIndex(d=>d[0]>=t);a>0&&(l+=ze[a-1][1][0],s+=ze[a-1][1][1])}const o=Math.round((1+l)*(1+t/100)*r),i=Math.round((1+s)*(1+t/100)*r);return[o,i]}attackRate(){const t=Math.min(100,Math.max(1,this.stats.agility)),r=250,l=2e3,s=Math.sqrt(t/100),o=l*s,i=1e3,a=Math.min(this.equipment.reduce((p,f)=>{var b;return p+(((b=f.stats)==null?void 0:b.att_speed)??0)},0),1),d=a*i,c=1e3*(s*a);return Math.max(xt-o-d-c,r)}}const T=new Array(495).fill(1).map((e,n)=>Math.floor(80*Math.pow(n+1,1.7))),gr={head:1,shield:1,weapon:1,shoulder:2,foot:2,hand:2,chest:1,legs:1,accessory:2},se=Pt(),mr=()=>{const[e,n]=H("town_1"),[t,r]=H(new Array(fr).fill(null)),[l,s]=H(!1),[o,i]=On(new hr({experience:0,level:1,points:0,health:10,max_health:10,mana:0,max_mana:0,strength:1,intelligence:1,constitution:1,agility:1,charisma:1,attack_min:1,attack_max:1,phys_res:1,mag_res:1,crit_chance:0,crit_damage:1,fortitude:1},{bare_hand:0,sword:0,shield:0}));Ot(()=>{const g=Ct("wooden_sword_1");g&&p(g)});const a=g=>n(g),d=C(()=>e()?kt(e()):void 0),u=C(()=>{var g;if(((g=d())==null?void 0:g.type)==="zone")return new wr(d())});document.addEventListener("visibilitychange",()=>{const g=u(),v=d();if(document.hidden&&g)s(!0),st=Date.now();else if(g&&v){let y=Date.now()-st;const w=o.attackRate(),L=v.cooldown;if(y<=Math.max(w,L)){s(!1);return}g.health()>0?y-=w:y-=L,requestIdleCallback(()=>c(w,L,y,g))}});const c=(g,v,y,w,L=[],pe=0)=>{var Fe;if(y<=0){L.forEach(Se=>p(Se)),s(!1);return}if(w.health()>0){const[Se,At]=w.onAction(...o.attackDamage())??[0,0];S(o.weaponMastery(),Se),At<=0?(E==null||E("experience",(Fe=w.encounter())==null?void 0:Fe.entity.experience),L.push(...w.onKill()??[]),y-=v):y-=g}else y-=g,w.loadEncounter();pe++,pe%10===0?requestIdleCallback(()=>c(g,v,y,w,L,pe)):c(g,v,y,w,L,pe)},p=g=>{if(g.stackable&&g.max_stack){const y=t().findIndex(w=>(w==null?void 0:w.name)===g.name&&(w.stack??1)<(g.max_stack??1));if(y>-1)return r([...t().map((w,L)=>L===y&&w?{...w,stack:(w.stack??1)+1}:w)]),!0}const v=t().findIndex(y=>y===null);return v<0?!1:(r([...t().map((y,w)=>w===v?{...g,stack:1}:y)]),!0)},f=g=>{s(!0);const v=b(g);return s(!1),v},b=g=>{if(!g.equip_type||!o.equipment)return!1;I(g);const v=o.equipment.reduce((y,w,L)=>(w.equip_type===g.equip_type&&y.push(L),y),[]);return v.length<gr[g.equip_type]?(i("equipment",[...o.equipment,g]),!0):(i("equipment",[...o.equipment.map((y,w)=>w===v[0]?g:y)]),!0)},A=g=>{s(!0);const v=z(g);return s(!1),v},z=g=>{var y;const v=(y=o.equipment)==null?void 0:y.indexOf(g);return v<0||!p(g)?!1:(i("equipment",[...o.equipment.filter((w,L)=>L!==v)]),!0)},I=g=>{const v=t().findIndex(y=>(y==null?void 0:y.name)===g.name);return v<0?!1:(r([...t().map((y,w)=>y!=null&&y.stack?w===v?y.stack===1?null:{...y,stack:y.stack-1}:y:null).sort(y=>y===null?1:-1)]),!0)},E=(g,v=1)=>{const y=o.stats[g]+v;i("stats",g,y),g==="experience"&&y>=T[o.stats.level-1]&&(i("stats","level",o.stats.level+1),i("stats","points",o.stats.points+1))},S=(g,v=1)=>{const y=o.masteryExp[g]+v;i("masteryExp",g,y),y>=T[o.mastery[g]]&&i("mastery",g,o.mastery[g]+1)};return[h(qn,{get isOpen(){return l()},onCloseRequest:()=>{},children:"Catching up..."}),h(se.Provider,{value:{player:o,setPlayer:i,addInventory:p,removeInventory:I,inventory:t,onAddStat:E,equip:f,unequip:A,onAddMastery:S},get children(){var g=Pn(),v=g.firstChild;return m(v,h(br,{get storyName(){return e()},onNavigate:a,get handler(){return u()},get pause(){return l()}}),null),m(v,h(_r,{}),null),m(v,h(vr,{}),null),m(g,h(pr,{}),null),m(g,h(yr,{}),null),g}})]},pr=()=>{const[e,n]=H(),{removeInventory:t,inventory:r,equip:l}=ge(se)??{},s=C(()=>{const o=e()??-1;return o<0?null:(r==null?void 0:r()[o])??null});return h(W,{label:"Inventory",get children(){return[(()=>{var o=Nn();return m(o,h(pt,{get each(){return r==null?void 0:r()},children:(i,a)=>{let d;return h(W,{ref(u){var c=d;typeof c=="function"?c(u):d=u},get class(){return`${e()===a()?"bg-blue-200":""}`},get tooltip(){return i==null?void 0:i.label},padding:"p-1",get children(){var u=j();return u.$$click=()=>n(a()),u.classList.toggle("cursor-pointer",!!i),m(u,h(D,{when:i,get fallback(){return Hn()},get children(){return[h(De,{get name(){return i.icon},get vp(){return i==null?void 0:i.vp},w:64}),(()=>{var c=Dn();return m(c,(()=>{var p=x(()=>(i.stack??1)>1);return()=>p()?i.stack:""})()),c})()]}})),u}})}})),o})(),(()=>{var o=jn();return m(o,h(D,{get when(){return s()},get children(){var i=Tn(),a=i.firstChild,d=a.firstChild,u=d.nextSibling;u.nextSibling;var c=a.nextSibling;return m(a,()=>{var p;return(p=s())==null?void 0:p.label},d),m(a,()=>{var p;return((p=s())==null?void 0:p.stack)??1},u),m(i,h(D,{get when(){var p;return(p=s())==null?void 0:p.equip_type},get children(){var p=j();return m(p,h(X,{onClick:()=>l==null?void 0:l(s()),children:"Equip"})),p}}),c),m(c,h(X,{onClick:()=>t==null?void 0:t(s()),children:"Drop"})),i}})),o})()]}})},yr=()=>h(W,{label:"Log",get children(){return In()}}),_r=()=>{const[e,n]=H("stats"),{player:t}=ge(se)??{},r=C(()=>{const i=t==null?void 0:t.stats;if(!i)return 0;const a=i.experience-(T[i.level-2]??0),d=T[i.level-1]-(T[i.level-2]??0);return a?a/d*100:0}),l=i=>{const a=T.findIndex(c=>c>i),d=i-(T[a-1]??0),u=T[a]-(T[a-1]??0);return d?d/u*100:0},s=i=>{const a=T.findIndex(d=>d>i);return T[a]},o=C(()=>t?t.attackDamage():[0,0]);return h(W,{label:"Stats",get children(){var i=tr(),a=i.firstChild,d=a.nextSibling,u=d.firstChild,c=u.nextSibling,p=c.nextSibling;return m(a,h(yt,{get children(){return[h(M,{get when(){return e()==="stats"},get children(){return[Bn(),(()=>{var f=j();return m(f,()=>t==null?void 0:t.stats.strength),f})(),Rn(),(()=>{var f=j();return m(f,()=>t==null?void 0:t.stats.intelligence),f})(),Vn(),(()=>{var f=j();return m(f,()=>t==null?void 0:t.stats.constitution),f})(),Fn(),(()=>{var f=j();return m(f,()=>t==null?void 0:t.stats.agility),f})(),Kn(),(()=>{var f=j();return m(f,()=>t==null?void 0:t.stats.charisma),f})(),(()=>{var f=J();return m(f,h(F,{type:"Level",get value(){return r()},get children(){return["Exp. ",x(()=>t==null?void 0:t.stats.experience)," / ",x(()=>[T[((t==null?void 0:t.stats.level)??1)-1]])]}})),f})(),(()=>{var f=J();return m(f,h(F,{type:"Health",value:100,get children(){return["Health ",x(()=>t==null?void 0:t.stats.health)," / ",x(()=>t==null?void 0:t.stats.max_health)]}})),f})(),h(D,{get when(){return t==null?void 0:t.stats.max_mana},get children(){var f=J();return m(f,h(F,{type:"Mana",value:100,get children(){return["Mana ",x(()=>t==null?void 0:t.stats.mana)," / ",x(()=>t==null?void 0:t.stats.max_mana)]}})),f}})]}}),h(M,{get when(){return e()==="stats_2"},get children(){return[Un(),(()=>{var f=Xn(),b=f.firstChild;return m(f,()=>o()[0],b),m(f,()=>o()[1],null),f})(),Gn(),(()=>{var f=j();return m(f,()=>t==null?void 0:t.stats.phys_res),f})(),Wn(),(()=>{var f=j();return m(f,()=>t==null?void 0:t.stats.mag_res),f})(),Yn(),(()=>{var f=rt(),b=f.firstChild;return m(f,()=>((t==null?void 0:t.stats.crit_chance)??0)*100,b),f})(),Qn(),(()=>{var f=rt(),b=f.firstChild;return m(f,()=>((t==null?void 0:t.stats.crit_damage)??0)*100,b),f})(),Jn(),(()=>{var f=j();return m(f,()=>t==null?void 0:t.stats.fortitude),f})(),Zn(),(()=>{var f=er(),b=f.firstChild;return m(f,()=>(1e3/((t==null?void 0:t.attackRate())??xt)).toFixed(2),b),f})()]}}),h(M,{get when(){return e()==="mastery"},get children(){return[h(D,{get when(){return t==null?void 0:t.masteryExp.bare_hand},get children(){var f=J();return m(f,h(F,{type:"Level",get value(){return l((t==null?void 0:t.masteryExp.bare_hand)??0)},get children(){return["Bare Hand - ",x(()=>t==null?void 0:t.mastery.bare_hand)," (",x(()=>t==null?void 0:t.masteryExp.bare_hand)," / ",x(()=>s((t==null?void 0:t.masteryExp.bare_hand)??0)),")"]}})),f}}),h(D,{get when(){return t==null?void 0:t.masteryExp.sword},get children(){var f=J();return m(f,h(F,{type:"Level",get value(){return l((t==null?void 0:t.masteryExp.sword)??0)},get children(){return["Sword - ",x(()=>t==null?void 0:t.mastery.sword)," (",x(()=>t==null?void 0:t.masteryExp.sword)," / ",x(()=>s((t==null?void 0:t.masteryExp.sword)??0)),")"]}})),f}}),h(D,{get when(){return t==null?void 0:t.masteryExp.shield},get children(){var f=J();return m(f,h(F,{type:"Level",get value(){return l((t==null?void 0:t.masteryExp.shield)??0)},get children(){return["Shield - ",x(()=>t==null?void 0:t.mastery.shield)," (",x(()=>t==null?void 0:t.masteryExp.shield)," / ",x(()=>s((t==null?void 0:t.masteryExp.shield)??0)),")"]}})),f}})]}})]}})),m(u,h(X,{onClick:()=>n("stats"),children:"Stats"})),m(c,h(X,{onClick:()=>n("stats_2"),children:"Attrs"})),m(p,h(X,{onClick:()=>n("mastery"),children:"Mastery"})),i}})},vr=()=>{const{player:e}=ge(se)??{},n=(t,r=0)=>{const l=e==null?void 0:e.equipment.filter(s=>s.equip_type===t);return l==null?void 0:l[r]};return h(W,{label:"Equipment",get children(){var t=nr(),r=t.firstChild,l=r.nextSibling,s=l.firstChild,o=s.nextSibling,i=o.nextSibling,a=i.nextSibling;return m(r,h(P,{icon:"equip_accessory",get equip(){return n("accessory")}}),null),m(r,h(P,{icon:"equip_accessory",get equip(){return n("accessory",1)}}),null),m(s,h(P,{icon:"equip_weapon",get equip(){return n("weapon")}}),null),m(s,h(P,{icon:"equip_head",get equip(){return n("head")}}),null),m(s,h(P,{icon:"equip_shield",get equip(){return n("shield")}}),null),m(o,h(P,{icon:"equip_shoulder",get equip(){return n("shoulder")}}),null),m(o,h(P,{icon:"equip_chest",get equip(){return n("chest")}}),null),m(o,h(P,{icon:"equip_shoulder",get equip(){return n("shoulder",1)},flip:!0}),null),m(i,h(P,{icon:"equip_hand",get equip(){return n("hand")},flip:!0}),null),m(i,h(P,{icon:"equip_legs",get equip(){return n("legs")}}),null),m(i,h(P,{icon:"equip_hand",get equip(){return n("hand",1)}}),null),m(a,h(P,{icon:"equip_foot",get equip(){return n("hand")},flip:!0}),null),m(a,h(P,{icon:"equip_foot",get equip(){return n("hand",1)}}),null),t}})};var te,de,he,ne;class wr{constructor(n){V(this,"encounter");V(this,"killCount");V(this,"health");le(this,te);le(this,de);le(this,he);le(this,ne);ie(this,ne,n);const[t,r]=H(),[l,s]=H(0),[o,i]=H(0);this.encounter=t,ie(this,de,r),this.killCount=l,ie(this,he,s),this.health=o,ie(this,te,i)}loadEncounter(){var s;const n=Math.random();let t=0;if(((s=U(this,ne))==null?void 0:s.type)!=="zone")return;const r=U(this,ne).encounters.find(o=>(t+=o.chance,n<=t)),l=r&&dr(r.name);!r||!l||(U(this,de).call(this,structuredClone({...r,entity:l})),U(this,te).call(this,l.stats.maxHealth))}onKill(){var s;U(this,he).call(this,this.killCount()+1);const n=0;let t=0;const r=(s=this.encounter())==null?void 0:s.drops.find(o=>(t+=o.chance,n<=t)),l=r&&Ct(r==null?void 0:r.name);if(l)return[l]}onAction(n,t){const r=n+Math.round(Math.random()*(t-n));if(!this.encounter())return;const s=(this.health()??0)-r;return U(this,te).call(this,Math.max(s,0)),[r,s]}}te=new WeakMap,de=new WeakMap,he=new WeakMap,ne=new WeakMap;const br=e=>{const n=C(()=>kt(e.storyName)),{player:t,addInventory:r,onAddStat:l,onAddMastery:s}=ge(se)??{};Z(a=>{var d,u,c;return a&&!e.pause&&((d=e.handler)!=null&&d.health()||(u=e.handler)==null||u.loadEncounter()),e.handler&&e.handler.encounter()===void 0&&((c=e.handler)==null||c.loadEncounter()),e.pause??!1},e.pause??!1);const o=()=>{var u,c,p,f;if(e.pause)return;const[a,d]=((u=e.handler)==null?void 0:u.onAction(...(t==null?void 0:t.attackDamage())??[1,1]))??[0,0];if(t&&s&&s(t.weaponMastery(),a),d<=0){l==null||l("experience",(p=(c=e.handler)==null?void 0:c.encounter())==null?void 0:p.entity.experience);const b=(f=e.handler)==null?void 0:f.onKill();b==null||b.forEach(z=>r==null?void 0:r(z));const A=n();(A==null?void 0:A.type)==="zone"&&setTimeout(()=>{var z;e.pause||(z=e.handler)==null||z.loadEncounter()},(A==null?void 0:A.cooldown)??1e3)}},i=C(()=>{var c,p,f;const a=(p=(c=e.handler)==null?void 0:c.encounter())==null?void 0:p.entity,d=(f=e.handler)==null?void 0:f.health();if(!a||!d)return 0;const u=d/a.stats.maxHealth;return isNaN(u)?0:u*100});return h(W,{label:"Story",get children(){return[(()=>{var a=sr(),d=a.firstChild;return m(d,()=>{var u;return(u=n())==null?void 0:u.text}),m(a,h(D,{get when(){return e.handler},fallback:"Waiting...",get children(){return[(()=>{var u=j();return m(u,h(F,{type:"Health",get value(){return((t==null?void 0:t.stats.health)??0)*100},get children(){return["You ",x(()=>t==null?void 0:t.stats.health)," / ",x(()=>t==null?void 0:t.stats.max_health)]}}),null),m(u,h(lt,{get timeMs(){return(t==null?void 0:t.attackRate())??4500},onEnd:o,get start(){return x(()=>!e.pause)()&&e.handler.health()>0}}),null),u})(),(()=>{var u=rr();return m(u,h(F,{get value(){return i()},type:"Encounter",get children(){return[x(()=>{var c,p;return(p=(c=e.handler)==null?void 0:c.encounter())==null?void 0:p.entity.label})," ",x(()=>{var c;return(c=e.handler)==null?void 0:c.health()})," / ",x(()=>{var c,p;return(p=(c=e.handler)==null?void 0:c.encounter())==null?void 0:p.entity.stats.maxHealth})]}}),null),m(u,h(lt,{get timeMs(){var c,p;return((p=(c=e.handler)==null?void 0:c.encounter())==null?void 0:p.entity.stats.att_delay)??1e3},onEnd:()=>{}}),null),u})(),"Kills: ",x(()=>{var u;return(u=e.handler)==null?void 0:u.killCount()})]}}),null),a})(),(()=>{var a=lr();return m(a,h(pt,{get each(){var d;return(d=n())==null?void 0:d.options},children:d=>h(X,{onClick:()=>e.onNavigate(d.goto),get children(){return d.text}})}),null),m(a,h(D,{get when(){var d;return!((d=n())!=null&&d.options.length)},get children(){return h(X,{onClick:()=>e.onNavigate("town_1"),children:"Go back"})}}),null),a})()]}})},P=e=>{const{unequip:n}=ge(se)??{};return h(W,{get padding(){var t;return(t=e.equip)!=null&&t.icon?"p-1":void 0},get children(){return h(D,{get when(){var t;return(t=e.equip)==null?void 0:t.icon},get fallback(){return h(De,{class:"opacity-20",get name(){return e.icon},get flip(){return e.flip}})},get children(){var t=ir();return t.$$click=()=>n==null?void 0:n(e.equip),$e(_t,t,()=>({text:e.equip.label})),m(t,h(De,{get name(){return e.equip.icon},w:64,get vp(){return e.equip.vp}})),t}})}})},X=e=>(()=>{var n=or(),t=n.firstChild;return Ut(n,"click",e.onClick),m(t,()=>e.children),n})(),W=e=>(()=>{var n=ar(),t=n.firstChild;$e(_t,n,()=>({text:e.tooltip??""}));var r=e.ref;return typeof r=="function"?$e(r,n):e.ref=n,m(n,()=>e.children,t),m(t,()=>e.label??""),O(()=>Kt(n,`${e.class} rounded-lg border ${e.padding??"p-5"} relative`)),n})(),F=e=>(()=>{var n=cr(),t=n.firstChild,r=t.nextSibling;return m(r,()=>e.children),O(l=>{var s={"[&::-webkit-progress-value]:bg-black [&::-moz-progress-bar]:bg-black":e.type==="Encounter","[&::-webkit-progress-value]:bg-yellow-400 [&::-moz-progress-bar]:bg-yellow-400":e.type==="Level","[&::-webkit-progress-value]:bg-red-400 [&::-moz-progress-bar]:bg-red-400":e.type==="Health","[&::-webkit-progress-value]:bg-blue-400 [&::-moz-progress-bar]:bg-blue-400":e.type==="Mana"},o=e.type==="Encounter";return l.e=Xt(t,s,l.e),o!==l.t&&r.classList.toggle("text-red-500",l.t=o),l},{e:void 0,t:void 0}),O(()=>t.value=e.value),n})(),lt=e=>{let n;return Z(()=>n==null?void 0:n.addEventListener("animationiteration",e.onEnd,!1)),(()=>{var t=ur(),r=t.firstChild,l=n;return typeof l=="function"?$e(l,r):n=r,We(r,"width","0%"),O(s=>We(r,"animation",e.start?`${e.timeMs}ms linear 0s infinite progress`:"")),t})()};Ft(["click"]);const $r=document.getElementById("root");Vt(()=>h(mr,{}),$r);
