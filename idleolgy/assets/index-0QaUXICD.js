var jt=Object.defineProperty;var tt=e=>{throw TypeError(e)};var Dt=(e,t,n)=>t in e?jt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var W=(e,t,n)=>Dt(e,typeof t!="symbol"?t+"":t,n),nt=(e,t,n)=>t.has(e)||tt("Cannot "+n);var Y=(e,t,n)=>(nt(e,t,"read from private field"),n?n.call(e):t.get(e)),ce=(e,t,n)=>t.has(e)?tt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ue=(e,t,n,s)=>(nt(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();const yt={context:void 0,registry:void 0},Ht=!1,It=(e,t)=>e===t,J=Symbol("solid-proxy"),Re=Symbol("solid-track"),Ae={equals:It};let wt=kt;const G=1,Ee=2,vt={owned:null,cleanups:null,context:null,owner:null};var k=null;let De=null,Rt=null,A=null,P=null,K=null,Te=0;function me(e,t){const n=A,s=k,r=e.length===0,l=t===void 0?s:t,o=r?vt:{owned:null,cleanups:null,context:l?l.context:null,owner:l},i=r?e:()=>e(()=>H(()=>pe(o)));k=o,A=null;try{return oe(i,!0)}finally{A=n,k=s}}function D(e,t){t=t?Object.assign({},Ae,t):Ae;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=r=>(typeof r=="function"&&(r=r(n.value)),$t(n,r));return[xt.bind(n),s]}function T(e,t,n){const s=Je(e,t,!1,G);xe(s)}function re(e,t,n){wt=Xt;const s=Je(e,t,!1,G);s.user=!0,K?K.push(s):xe(s)}function M(e,t,n){n=n?Object.assign({},Ae,n):Ae;const s=Je(e,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,xe(s),xt.bind(s)}function Bt(e){return oe(e,!1)}function H(e){if(A===null)return e();const t=A;A=null;try{return e()}finally{A=t}}function Vt(e){re(()=>H(e))}function Be(e){return k===null||(k.cleanups===null?k.cleanups=[e]:k.cleanups.push(e)),e}function Ve(){return A}function Ft(e,t){const n=Symbol("context");return{id:n,Provider:Wt(n),defaultValue:e}}function be(e){let t;return k&&k.context&&(t=k.context[e.id])!==void 0?t:e.defaultValue}function bt(e){const t=M(e),n=M(()=>Fe(t()));return n.toArray=()=>{const s=n();return Array.isArray(s)?s:s!=null?[s]:[]},n}function xt(){if(this.sources&&this.state)if(this.state===G)xe(this);else{const e=P;P=null,oe(()=>Se(this),!1),P=e}if(A){const e=this.observers?this.observers.length:0;A.sources?(A.sources.push(this),A.sourceSlots.push(e)):(A.sources=[this],A.sourceSlots=[e]),this.observers?(this.observers.push(A),this.observerSlots.push(A.sources.length-1)):(this.observers=[A],this.observerSlots=[A.sources.length-1])}return this.value}function $t(e,t,n){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&oe(()=>{for(let r=0;r<e.observers.length;r+=1){const l=e.observers[r],o=De&&De.running;o&&De.disposed.has(l),(o?!l.tState:!l.state)&&(l.pure?P.push(l):K.push(l),l.observers&&Ct(l)),o||(l.state=G)}if(P.length>1e6)throw P=[],new Error},!1)),t}function xe(e){if(!e.fn)return;pe(e);const t=Te;Kt(e,e.value,t)}function Kt(e,t,n){let s;const r=k,l=A;A=k=e;try{s=e.fn(t)}catch(o){return e.pure&&(e.state=G,e.owned&&e.owned.forEach(pe),e.owned=null),e.updatedAt=n+1,At(o)}finally{A=l,k=r}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?$t(e,s):e.value=s,e.updatedAt=n)}function Je(e,t,n,s=G,r){const l={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:k,context:k?k.context:null,pure:n};return k===null||k!==vt&&(k.owned?k.owned.push(l):k.owned=[l]),l}function Me(e){if(e.state===0)return;if(e.state===Ee)return Se(e);if(e.suspense&&H(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Te);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===G)xe(e);else if(e.state===Ee){const s=P;P=null,oe(()=>Se(e,t[0]),!1),P=s}}function oe(e,t){if(P)return e();let n=!1;t||(P=[]),K?n=!0:K=[],Te++;try{const s=e();return Ut(n),s}catch(s){n||(K=null),P=null,At(s)}}function Ut(e){if(P&&(kt(P),P=null),e)return;const t=K;K=null,t.length&&oe(()=>wt(t),!1)}function kt(e){for(let t=0;t<e.length;t++)Me(e[t])}function Xt(e){let t,n=0;for(t=0;t<e.length;t++){const s=e[t];s.user?e[n++]=s:Me(s)}for(t=0;t<n;t++)Me(e[t])}function Se(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const s=e.sources[n];if(s.sources){const r=s.state;r===G?s!==t&&(!s.updatedAt||s.updatedAt<Te)&&Me(s):r===Ee&&Se(s,t)}}}function Ct(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Ee,n.pure?P.push(n):K.push(n),n.observers&&Ct(n))}}function pe(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),s=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const l=r.pop(),o=n.observerSlots.pop();s<r.length&&(l.sourceSlots[o]=s,r[s]=l,n.observerSlots[s]=o)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)pe(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)pe(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Gt(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function At(e,t=k){throw Gt(e)}function Fe(e){if(typeof e=="function"&&!e.length)return Fe(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const s=Fe(e[n]);Array.isArray(s)?t.push.apply(t,s):t.push(s)}return t}return e}function Wt(e,t){return function(s){let r;return T(()=>r=H(()=>(k.context={...k.context,[e]:s.value},bt(()=>s.children))),void 0),r}}const Yt=Symbol("fallback");function rt(e){for(let t=0;t<e.length;t++)e[t]()}function Qt(e,t,n={}){let s=[],r=[],l=[],o=0,i=t.length>1?[]:null;return Be(()=>rt(l)),()=>{let a=e()||[],d=a.length,c,u;return a[Re],H(()=>{let w,C,f,x,q,L,O,N,B;if(d===0)o!==0&&(rt(l),l=[],s=[],r=[],o=0,i&&(i=[])),n.fallback&&(s=[Yt],r[0]=me(U=>(l[0]=U,n.fallback())),o=1);else if(o===0){for(r=new Array(d),u=0;u<d;u++)s[u]=a[u],r[u]=me(p);o=d}else{for(f=new Array(d),x=new Array(d),i&&(q=new Array(d)),L=0,O=Math.min(o,d);L<O&&s[L]===a[L];L++);for(O=o-1,N=d-1;O>=L&&N>=L&&s[O]===a[N];O--,N--)f[N]=r[O],x[N]=l[O],i&&(q[N]=i[O]);for(w=new Map,C=new Array(N+1),u=N;u>=L;u--)B=a[u],c=w.get(B),C[u]=c===void 0?-1:c,w.set(B,u);for(c=L;c<=O;c++)B=s[c],u=w.get(B),u!==void 0&&u!==-1?(f[u]=r[c],x[u]=l[c],i&&(q[u]=i[c]),u=C[u],w.set(B,u)):l[c]();for(u=L;u<d;u++)u in f?(r[u]=f[u],l[u]=x[u],i&&(i[u]=q[u],i[u](u))):r[u]=me(p);r=r.slice(0,o=d),s=a.slice(0)}return r});function p(w){if(l[u]=w,i){const[C,f]=D(u);return i[u]=f,t(a[u],C)}return t(a[u])}}}function h(e,t){return H(()=>e(t||{}))}const Et=e=>`Stale read from <${e}>.`;function ge(e){const t="fallback"in e&&{fallback:()=>e.fallback};return M(Qt(()=>e.each,e.children,t||void 0))}function R(e){const t=e.keyed,n=M(()=>e.when,void 0,void 0),s=t?n:M(n,void 0,{equals:(r,l)=>!r==!l});return M(()=>{const r=s();if(r){const l=e.children;return typeof l=="function"&&l.length>0?H(()=>l(t?r:()=>{if(!H(s))throw Et("Show");return n()})):l}return e.fallback},void 0,void 0)}function Mt(e){const t=bt(()=>e.children),n=M(()=>{const s=t(),r=Array.isArray(s)?s:[s];let l=()=>{};for(let o=0;o<r.length;o++){const i=o,a=r[o],d=l,c=M(()=>d()?void 0:a.when,void 0,void 0),u=a.keyed?c:M(c,void 0,{equals:(p,w)=>!p==!w});l=()=>d()||(u()?[i,c,a]:void 0)}return l});return M(()=>{const s=n()();if(!s)return e.fallback;const[r,l,o]=s,i=o.children;return typeof i=="function"&&i.length>0?H(()=>i(o.keyed?l():()=>{var d;if(((d=H(n)())==null?void 0:d[0])!==r)throw Et("Match");return l()})):i},void 0,void 0)}function z(e){return e}const S=e=>M(()=>e());function Jt(e,t,n){let s=n.length,r=t.length,l=s,o=0,i=0,a=t[r-1].nextSibling,d=null;for(;o<r||i<l;){if(t[o]===n[i]){o++,i++;continue}for(;t[r-1]===n[l-1];)r--,l--;if(r===o){const c=l<s?i?n[i-1].nextSibling:n[l-i]:a;for(;i<l;)e.insertBefore(n[i++],c)}else if(l===i)for(;o<r;)(!d||!d.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[l-1]&&n[i]===t[r-1]){const c=t[--r].nextSibling;e.insertBefore(n[i++],t[o++].nextSibling),e.insertBefore(n[--l],c),t[r]=n[l]}else{if(!d){d=new Map;let u=i;for(;u<l;)d.set(n[u],u++)}const c=d.get(t[o]);if(c!=null)if(i<c&&c<l){let u=o,p=1,w;for(;++u<r&&u<l&&!((w=d.get(t[u]))==null||w!==c+p);)p++;if(p>c-i){const C=t[o];for(;i<c;)e.insertBefore(n[i++],C)}else e.replaceChild(n[i++],t[o++])}else o++;else t[o++].remove()}}}const st="_$DX_DELEGATE";function Zt(e,t,n,s={}){let r;return me(l=>{r=l,t===document?e():m(t,e(),t.firstChild?null:void 0,n)},s.owner),()=>{r(),t.textContent=""}}function y(e,t,n,s){let r;const l=()=>{const i=s?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return i.innerHTML=e,n?i.content.firstChild.firstChild:s?i.firstChild:i.content.firstChild},o=t?()=>H(()=>document.importNode(r||(r=l()),!0)):()=>(r||(r=l())).cloneNode(!0);return o.cloneNode=o,o}function en(e,t=window.document){const n=t[st]||(t[st]=new Set);for(let s=0,r=e.length;s<r;s++){const l=e[s];n.has(l)||(n.add(l),t.addEventListener(l,ln))}}function Ke(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function tn(e,t){t==null?e.removeAttribute("class"):e.className=t}function nn(e,t,n,s){Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n}function rn(e,t,n={}){const s=Object.keys(t||{}),r=Object.keys(n);let l,o;for(l=0,o=r.length;l<o;l++){const i=r[l];!i||i==="undefined"||t[i]||(it(e,i,!1),delete n[i])}for(l=0,o=s.length;l<o;l++){const i=s[l],a=!!t[i];!i||i==="undefined"||n[i]===a||!a||(it(e,i,!0),n[i]=a)}return n}function sn(e,t,n){if(!t)return n?Ke(e,"style"):t;const s=e.style;if(typeof t=="string")return s.cssText=t;typeof n=="string"&&(s.cssText=n=void 0),n||(n={}),t||(t={});let r,l;for(l in n)t[l]==null&&s.removeProperty(l),delete n[l];for(l in t)r=t[l],r!==n[l]&&(s.setProperty(l,r),n[l]=r);return n}function lt(e,t,n){n!=null?e.style.setProperty(t,n):e.style.removeProperty(t)}function qe(e,t,n){return H(()=>e(t,n))}function m(e,t,n,s){if(n!==void 0&&!s&&(s=[]),typeof t!="function")return Le(e,t,s,n);T(r=>Le(e,t(),r,n),s)}function it(e,t,n){const s=t.trim().split(/\s+/);for(let r=0,l=s.length;r<l;r++)e.classList.toggle(s[r],n)}function ln(e){let t=e.target;const n=`$$${e.type}`,s=e.target,r=e.currentTarget,l=a=>Object.defineProperty(e,"target",{configurable:!0,value:a}),o=()=>{const a=t[n];if(a&&!t.disabled){const d=t[`${n}Data`];if(d!==void 0?a.call(t,d,e):a.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&l(t.host),!0},i=()=>{for(;o()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const a=e.composedPath();l(a[0]);for(let d=0;d<a.length-2&&(t=a[d],!!o());d++){if(t._$host){t=t._$host,i();break}if(t.parentNode===r)break}}else i();l(s)}function Le(e,t,n,s,r){for(;typeof n=="function";)n=n();if(t===n)return n;const l=typeof t,o=s!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,l==="string"||l==="number"){if(l==="number"&&(t=t.toString(),t===n))return n;if(o){let i=n[0];i&&i.nodeType===3?i.data!==t&&(i.data=t):i=document.createTextNode(t),n=ee(e,n,s,i)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||l==="boolean")n=ee(e,n,s);else{if(l==="function")return T(()=>{let i=t();for(;typeof i=="function";)i=i();n=Le(e,i,n,s)}),()=>n;if(Array.isArray(t)){const i=[],a=n&&Array.isArray(n);if(Ue(i,t,n,r))return T(()=>n=Le(e,i,n,s,!0)),()=>n;if(i.length===0){if(n=ee(e,n,s),o)return n}else a?n.length===0?ot(e,i,s):Jt(e,n,i):(n&&ee(e),ot(e,i));n=i}else if(t.nodeType){if(Array.isArray(n)){if(o)return n=ee(e,n,s,t);ee(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Ue(e,t,n,s){let r=!1;for(let l=0,o=t.length;l<o;l++){let i=t[l],a=n&&n[e.length],d;if(!(i==null||i===!0||i===!1))if((d=typeof i)=="object"&&i.nodeType)e.push(i);else if(Array.isArray(i))r=Ue(e,i,a)||r;else if(d==="function")if(s){for(;typeof i=="function";)i=i();r=Ue(e,Array.isArray(i)?i:[i],Array.isArray(a)?a:[a])||r}else e.push(i),r=!0;else{const c=String(i);a&&a.nodeType===3&&a.data===c?e.push(a):e.push(document.createTextNode(c))}}return r}function ot(e,t,n=null){for(let s=0,r=t.length;s<r;s++)e.insertBefore(t[s],n)}function ee(e,t,n,s){if(n===void 0)return e.textContent="";const r=s||document.createTextNode("");if(t.length){let l=!1;for(let o=t.length-1;o>=0;o--){const i=t[o];if(r!==i){const a=i.parentNode===e;!l&&!o?a?e.replaceChild(r,i):e.insertBefore(r,n):a&&i.remove()}else l=!0}}else e.insertBefore(r,n);return[r]}const on=[{name:"dummy_1",label:"Dummy",stats:{health:10,maxHealth:10,phys_res:1,mag_res:1,att_dam:0,agility:0,att_delay:2e4},experience:4,icon:"enemy_dummy_1"}],an=[{name:"town_1",type:"story",text:"You are in a town...",options:[{text:"Farmer",goto:"farmer_1"},{text:"Guild Quarter",goto:"guilds_1"},{text:"Home",goto:"home_1"},{text:"Merchants",goto:"merchants_1"}]},{name:"merchants_1",type:"story",text:"A square full of merchants",options:[{text:"Weapon Smith",goto:"weapon_smith_1"}]},{name:"weapon_smith_1",type:"story",text:"Sweaty boi",options:[{text:"Buy atomic plunger (100g)",action:"buy_item",action_args:["atomic_plunger_1",1,100]}]},{name:"farmer_1",type:"story",text:`A farmer is busy hitting his wife...
Hey buddy, I'll buy hay off you if you find any lying around...`,options:[{text:"Sell Hay",action:"town_1_sell_hay"},{text:"Fight some scarecrows",goto:"scarecrows_1"}]},{name:"scarecrows_1",type:"zone",text:"Fighting scarecrows",cooldown:1e3,encounters:[{type:"enemy",name:"dummy_1",chance:1,drops:[{name:"hay_1",chance:.1}]}]}],cn=[{label:"Hay",name:"hay_1",stackable:!0,icon:"item_hay_1",max_stack:100,vp:32},{label:"Wooden Sword",name:"wooden_sword_1",stackable:!1,icon:"item_wooden_sword_1",equip_type:"weapon",vp:32,mastery_type:"sword",stats:{attack_min:2,attack_max:4,att_speed:.5}},{label:"Atomic Plunger",name:"atomic_plunger_1",stackable:!1,icon:"item_wooden_sword_1",equip_type:"weapon",vp:32,mastery_type:"sword",stats:{attack_min:100,attack_max:100,att_speed:1}}];var un=y('<svg><g class transform=translate(0,0) style><path d="m264.11 24.357-8.022 39.594-28.2-25.122 9.624 25.83-41.48-16.638 41.52 39.777c-9.3 6.495-15.388 17.393-15.388 29.89 0 20.188 15.884 36.22 35.555 36.22 19.67 0 35.555-16.032 35.555-36.22 0-13.184-6.774-24.59-16.95-30.923l24.79-42.37-27.863 17.69-9.143-37.727zM101.776 67.01c-6.163 0-11.688 2.68-15.52 6.92l-39.075-5.62-2.66 18.5 30.865 4.438-58.524 41.41 41.198-8.55-8.027 35.87 25.852-21.962 18.504 34.08-.82-64.887a20.884 20.884 0 0 0 8.207 1.67c3.056 0 5.95-.668 8.567-1.845 13.156 16.754 30.582 30.514 56.65 39.242-7.11 6.444-14.18 12.935-21.303 19.362 48.007 2.993 81.67 49.824 90.275 97.98-6.853 1.445-13.963 3.815-21.307 7.2 28.664 57.982-21.168 129.288-33.297 164.05l5.285.192-34.125 41.227 37.58-18.92 1.53 36.722 19.288-27.903 26.69 28.128-14.5-57.935 6.728.244c.643-48.52 13.678-85.638 21.662-140.625 6.06 49.21 18.806 98.424 6.37 147.635l6.263-.746-14.87 52.83 26.693-28.128 19.287 27.9 1.53-36.72 37.582 18.917-32.63-39.276 5.202-.62c-7.866-38.65-40.228-108.407-19.248-165.44-6.265-4.002-13.042-6.928-20.272-8.65 12.328-43.742 46.016-86.71 85.612-94.556l-7.616-12.46c25.346-10.523 39.26-26.136 48.553-43.866 2.37.82 4.912 1.272 7.56 1.272 1.65 0 3.258-.174 4.81-.502l13.74 59.543 7.71-41.362 30.143 21.032-10.514-32.248 38.557-4.207-55.183-21.805 52.47-6.725-2.374-18.537-60.85 7.797c-4.22-5.62-10.94-9.254-18.51-9.254-9.673 0-17.955 5.94-21.41 14.37L305.49 91.76a54.915 54.915 0 0 1 5.908 18.084l47.694-6.112c-11.316 8.315-20.168 19.095-25.875 33.018l-5.9-9.65c-8.985 9.427-17.88 17.535-26.672 24.047-9.928 13.01-25.47 21.45-42.926 21.45-18.198 0-34.312-9.17-44.156-23.13-6.782-6.855-13.448-15.606-19.984-26.455-5.158 4.28-10.225 8.667-15.248 13.105-8.67-13.547-18.666-25.162-30.402-34.435l56.123 8.072a54.935 54.935 0 0 1 5.914-18.03L120.62 78.87c-3.382-7.012-10.537-11.862-18.843-11.862zm112.88 203.81c0-.002 0-.005-.003-.007l-.002.01.006-.003z"fill=#fff fill-opacity=1></svg>',!1,!0,!1),fn=y('<svg><g class transform=translate(0,0) style><path d="M255.157 123c-68.66 0-137.1 18.922-182.867 55.275.234 14.35 1.818 35.624 9.332 48.23 110.634-60.336 236.436-60.336 347.07 0 7.513-12.606 9.098-33.88 9.332-48.23C392.257 141.922 323.817 123 255.157 123zm199.81 76.057c-.324 2.98-.718 6.02-1.246 9.082-2.226 12.93-6.213 26.458-15.99 35.98-14.436 18.637-40.806 30.462-72.858 38.603C332.392 290.973 293.79 295 255.157 295c-38.632 0-77.235-4.028-109.715-12.277-31.907-8.104-58.17-19.868-72.648-38.36-11.983-11.982-16.234-28.786-17.77-43.857-13.73 27.256-11.503 62.122.672 98.648C69.988 342.03 129.406 389 255.156 389c125.75 0 185.17-46.97 199.462-89.846l.1-.297.12-.287c15.134-36.712 15.61-71.983.13-99.513z"fill=#fff fill-opacity=1></svg>',!1,!0,!1),dn=y('<svg><g class transform=translate(0,0) style><path d="M436 439.525V298.348c-30-28.235-60-56.47-60-84.706 0-56.47 30-141.176 120-169.41 0 0-30-28.237-60-28.237h-90c0 56.47-60 84.706-90 84.706s-90-28.234-90-84.705H76c-30 0-60 28.236-60 28.236 90 28.236 120 112.942 120 169.412 0 28.236-30 56.47-60 84.706v141.177c60 28.235 120 56.47 180 56.47s120-28.235 180-56.47z"fill=#fff fill-opacity=1></svg>',!1,!0,!1),hn=y('<svg><g class transform=translate(0,0) style><path d="m269 23.95-87.7.1c1.1 61.4-2.4 116.05-14 159.45-9 34-23.6 61.6-45.2 79-.1 9.5-.8 19-2.1 28.6-3.1 22.9-13.5 43.2-22.75 65 23.55-1.3 43.55-11.6 65.35-24.8 20.6-12.5 42.4-27.5 68.9-37.8-.2-1.4-.4-2.9-.4-4.2-1.9-23.7.1-52.2 4.1-83.2C243 147.6 257.9 81.05 269 23.95zm-105.7.1H80.65c-1.6 36.5 10.1 76.15 21.65 119.15 8.3 30.4 16.5 62.3 19 95.7 12.6-14.3 21.8-34.4 28.6-60 10.8-40.6 14.4-94.15 13.4-154.85zm41.8 14.9a9 9 0 0 1 .1 0 9 9 0 0 1 9 9 9 9 0 0 1-9 9 9 9 0 0 1-9-9 9 9 0 0 1 8.9-9zm-2.4 52.5a9 9 0 0 1 .1 0 9 9 0 0 1 9 8.95 9 9 0 0 1-9 9 9 9 0 0 1-9-9 9 9 0 0 1 8.9-8.95zm-5.9 56.25a9 9 0 0 1 .1 0 9 9 0 0 1 9 9 9 9 0 0 1-9 9 9 9 0 0 1-9-9 9 9 0 0 1 8.9-9zm-16 60.6a9 9 0 0 1 .1 0 9 9 0 0 1 9 9 9 9 0 0 1-9 9 9 9 0 0 1-9-9 9 9 0 0 1 8.9-9zm-32 48.1a9 9 0 0 1 .1 0 9 9 0 0 1 9 9 9 9 0 0 1-9 9 9 9 0 0 1-9-9 9 9 0 0 1 8.9-9zm85.7 55.3c-22.6 9.6-42.3 22.9-62.6 35-24.6 14.9-50.5 27.9-81.85 27.5-8.2 22.7-13.8 48-10 79.9h82.35c13.2-41.4 42.9-78 95.1-106.8-1.4-1-2.9-2.1-4.3-3.2-9.6-7.6-15.3-18.8-18.7-32.4zm40.2 46.7c-52.1 26.2-80.4 58.5-93.6 95.7h127.4c0-14.3.6-29 3.9-43.6 2.6-11.5 7-22.9 14-33.9-16.1-3.3-33.5-8.1-51.7-18.2zm70.8 21.8c-8.2 10.9-12.8 22.3-15.5 34.3-2.8 12.5-3.5 25.8-3.5 39.6h104c-2-17.8-12.5-39.8-28.1-52.1-17.8-13.9-36-17.9-56.9-21.8zm8.3 10.5a9 9 0 0 1 9 9 9 9 0 0 1-9 9 9 9 0 0 1-9-9 9 9 0 0 1 9-9zm-254.05 35a9 9 0 0 1 .1 0 9 9 0 0 1 8.95 9 9 9 0 0 1-8.95 9 9 9 0 0 1-9-9 9 9 0 0 1 8.9-9zm44.85.6a9 9 0 0 1 .1 0 9 9 0 0 1 9 9 9 9 0 0 1-9 9 9 9 0 0 1-9-9 9 9 0 0 1 8.9-9zm201.5.1a9 9 0 0 1 9 9 9 9 0 0 1-9 9 9 9 0 0 1-9-9 9 9 0 0 1 9-9zM72.05 470v18.1H440V470z"fill=#fff fill-opacity=1></svg>',!1,!0,!1),mn=y('<svg><g class transform=translate(0,0) style><path d="M123.153 24.602c-11.349.764-48.792 83.005-63.545 132.174-8.046 26.818 2.983 74.734 41.723 106.45 8.813-1.502 16.946-3.047 24.434-4.626-22.473-24.22-39.048-50.488-47.772-82.059l-1.021-3.699 1.963-3.299c26.135-43.925 37.681-68.548 50.85-112.24l3.849-12.773 10.402 8.351c14.624 11.743 23.72 18.084 32.098 21.809-14.428-22.99-31.841-41.36-52.46-50.06a2.164 2.164 0 0 0-.52-.028zm19.791 50.203c-11.724 36.176-24.141 62.49-46.508 100.379 9.004 29.978 25.746 54.616 49.733 78.65 18.744-4.857 32.588-9.929 43.383-14.978 16.875-7.894 26.514-15.73 36.92-23.701-6.532-34.91-18.944-80.14-38.018-118.375-14.754-2.769-27.196-8.373-45.51-21.975zm90.094 158.008c-9.156 7.022-19.796 14.833-35.861 22.347-17.365 8.123-40.947 15.887-76.29 22.793 35.349 28.759 64.905 62.213 112.643 82.157 2.79-15.613 10.509-29.532 20.61-39.782 9.547-9.688 21.609-16.383 34.252-16.82 2.202-5.202 5.378-10.557 10.593-14.93 6.41-5.374 15.626-8.323 26.932-8.156a35.046 35.046 0 0 1 4.807-5.424c-7.384-1.603-16.19-3.168-27.145-5.586zm120.275 50.299c-.04.009-.084.012-.125.021-11.264 3.729-12.514 6.776-16.947 16.078-8.484-1.005-19.247-2.081-25.69 3.16-6.017 6.313-7.279 12.696-9.685 20.715-14.012-3.276-25.77 1.842-33.904 9.877-8.032 8.15-14.35 20.016-16.082 32.65 5.926 2.628 12.109 4.214 18.139 5.727 12.69-15.498 32.27-33.513 50.66-36.851 12.995-13.444 28.669-18.08 41.183-19.891a60.105 60.105 0 0 1 11.764-8.4c-6.632-11.786-12.405-18.622-19.313-23.086zm-232.011 18.882c-1.967 12.934-7.997 24.573-.64 46.305 32.36 70.655 41.042 23.73 93.735 22.953-38.944-18.938-66.126-45.737-93.095-69.258zm267.765 17.102c-4.87.972-9.343 3.536-13.062 6.28 9.197 12.249 16.987 27.313 23.28 43.81 7.916-2.052 14.75-4.612 21.103-7.506-6.473-26.762-18.951-37.976-31.32-42.584zm-29.935 13.906c-7.676 1.509-15.588 4.36-22.774 10.35 8.367 8.844 20.976 24.773 26.053 43.283 7.632-1.268 15.91-3.698 21.006-8.576-6.608-17.858-15.058-33.73-24.285-45.057zm-38.139 19.668c-14.313 5.357-25.257 14.981-34.674 25.938l19.383 26.324c13.696-1.49 26.639-6.254 39.39-13.299-4.69-15.098-18.62-32.912-24.447-38.607zm108.848 24.365c-6.679 3.099-13.973 5.985-22.237 8.375 6.323 10.32 11.618 21.138 15.602 32.543 7.703-3.07 14.902-6.372 21.264-10.082-3.964-11.28-8.68-22.055-14.63-30.836zM164.687 408.39l49.638 43.377c11.274-13.516 27.044-23.94 42.492-33.942l-22.02-25.32c-24.334-8.01-52.756 2.355-70.11 15.885zM391.9 394.153c-6.866 5.056-14.143 7.727-21.795 9.377 5.371 9.31 10.375 19.502 14.354 29.755 7.946-2.139 15.451-4.432 22.344-7.775-3.648-10.897-8.68-21.303-14.903-31.357zm-39.88 14.105c-11.759 6.313-24.191 11.162-37.42 13.545l13.316 27.447c14.663-2.177 28.099-3.684 39.666-9.746-4.195-10.706-9.777-21.706-15.563-31.246zm98.017 17.156c-6.627 3.604-13.647 6.703-20.846 9.534 2.83 7.167 5.28 14.119 7.21 20.757 10.397-1.435 20.263-5.912 18.179-13.869-1.423-5.296-2.923-10.83-4.543-16.422zM268.82 431.54c-16.062 10.564-31.09 20.975-40.728 32.256l1.392 1.217c16.648 14.548 36.256 20.475 44.95 9.13 8.522-11.12 10.536-24.116-5.614-42.603zm144.01 10.957c-7.166 3.334-14.4 5.634-21.465 7.58 3.051 6.991 5.842 13.849 8.244 20.48 9.2-.457 17.732-4.025 19.33-10.442-1.622-5.49-3.688-11.409-6.109-17.618zm-38.437 13.69c-12.724 6.396-25.866 8.467-38.184 10.154l6 12.367c10.038 10.705 32.656 11.336 42.21 2.944-2.654-7.907-6.1-16.516-10.026-25.465z"fill=#fff fill-opacity=1></svg>',!1,!0,!1),gn=y('<svg><g class transform=translate(0,0) style><path d="M256 34.162c-.135.22-.175.203-.314.447-1.975 3.46-4.37 9.255-6.72 16.347-4.703 14.183-9.438 33.67-13.575 53.223-4.137 19.553-7.708 39.222-10.238 54.084-1.264 7.43-2.27 13.66-2.957 18.07a518.223 518.223 0 0 0-.78 5.158 61.5 61.5 0 0 0-.15 1.065c.095 1.402 1.882 4.45 8.008 7.433 6.302 3.07 15.98 5.293 26.727 5.293 10.748 0 20.425-2.223 26.727-5.293 6.126-2.984 7.913-6.03 8.01-7.433l-.15-1.065c-.176-1.2-.44-2.954-.782-5.158-.687-4.41-1.693-10.64-2.957-18.07-2.53-14.862-6.1-34.53-10.24-54.084-4.136-19.554-8.87-39.04-13.573-53.223-2.35-7.092-4.746-12.886-6.72-16.348-.14-.245-.18-.23-.315-.448zM87.066 53.222c-39.793 29.842-65.173 69.95-65.173 114.284 0 30.934 11.92 59.887 32.646 84.695l27.13-78.23c-11.335-17.452-17.668-36.89-17.668-57.384 0-22.984 8.953-44.332 23.064-63.363zm337.883.016c14.094 19.032 23.064 40.38 23.064 63.364 0 20.493-6.333 39.928-17.664 57.377l27.123 78.208c20.718-24.805 32.634-53.753 32.634-84.682 0-44.333-25.38-84.443-65.158-114.268zM214.26 129.043c-36.194 9.176-61.82 31.89-80.563 70.234-24.892 50.927-35.985 130.406-36.304 239.645 43.728 24.578 91.336 38.24 139.99 40.765-.34-38.18-6.926-98.547-11.704-137.69-66.903-5.935-95.838-29.493-95.838-29.493s3.777-27.682 6.396-39.936c38.412 12.937 78.856 19.46 119.776 19.22 40.904.223 81.347-6.283 119.76-19.22 2.618 12.254 6.398 39.936 6.398 39.936s-27.968 24-95.875 29.648c-4.778 39.148-11.345 99.41-11.687 137.536 48.655-2.526 96.263-16.188 139.99-40.766-.318-109.24-11.41-188.718-36.302-239.645-18.74-38.345-44.368-61.058-80.562-70.234a1572.08 1572.08 0 0 1 4.617 25.748c.345.185.697.36 1.036.55 12.55 6.98 21.67 17.51 23.542 30.355l6.01 41.295-.815 1.998c-5.284 12.98-18.74 20.31-33.104 25.653-14.363 5.344-30.252 8.233-42.947 8.356h-.158c-12.69-.13-28.578-3.02-42.94-8.36-14.365-5.342-27.82-12.666-33.105-25.648l-.814-1.998 6.008-41.295c1.87-12.844 10.99-23.374 23.54-30.355.34-.19.692-.365 1.037-.55 1.297-7.6 2.854-16.367 4.617-25.747zm-112.41 35.178-41.44 119.49 29.695 13.71c6.08-42.11 15.602-77.018 29.332-105.11 3.33-6.817 6.94-13.21 10.814-19.2l-28.402-8.89zm308.312 0-28.416 8.895c3.874 5.986 7.482 12.38 10.813 19.194 13.732 28.093 23.256 63.002 29.335 105.116l29.71-13.717-41.44-119.49zm-208.066 19.147a18.537 18.537 0 0 0-1.323 4.615l-5.287 36.332c2.948 4.908 11.57 11.185 23.02 15.442 12.417 4.617 27.205 7.245 37.496 7.363 10.286-.112 25.07-2.738 37.486-7.356 11.45-4.26 20.074-10.54 23.022-15.45l-5.287-36.332a18.507 18.507 0 0 0-1.323-4.615c-1.095.378-2.223.747-3.37 1.112-.98 9.068-8.33 15.628-16.854 19.78-9.16 4.462-20.84 6.896-33.678 6.896-12.84 0-24.52-2.434-33.678-6.896-8.523-4.152-15.873-10.712-16.853-19.78-1.15-.366-2.277-.735-3.372-1.113z"fill=#fff fill-opacity=1></svg>',!1,!0,!1),pn=y('<svg><g class transform=translate(0,0) style><path d="M89.452 32v44.667l166.75 28.9 166.75-28.9V32l-166.75 28.902L89.452 32zm-.405 69.444v186.712c49.478 16.004 90.187 8.72 139.67 0 1.14-34.244 12.925-60.635 27.09-60.672 14.165.04 25.95 26.428 27.09 60.672 49.472 16.003 90.173 8.72 139.65 0V101.444l-166.74 28.813-166.76-28.813zm0 212.25v69.186c45.914 7.332 85.747 13.896 131.648 0v-69.186c-45.915 7.33-85.747 13.895-131.648 0zm201.853 0v69.186c45.914 7.332 85.747 13.896 131.648 0v-69.186c-45.915 7.33-85.747 13.895-131.648 0zm-198.44 94.55v64.2c43.532 6.802 81.302 12.893 124.823 0v-64.2c-43.534 6.8-81.303 12.893-124.824 0zm201.854 0v64.2c43.533 6.802 81.3 12.893 124.822 0v-64.2c-43.534 6.8-81.3 12.893-124.822 0z"fill=#fff fill-opacity=1></svg>',!1,!0,!1),_n=y('<svg><g class transform=translate(0,0) style><path d="M289.5 18.23c-1.8 38.71-3.3 77.44-5.1 116.17C193 155.6 90.37 194.8 19.02 245c18.37 36.5 37.26 73.4 53.17 104.7C54 365.3 35.9 381.4 18.32 397.8v96H460.6c-9.3-7.5-18.8-14.9-28.7-22.2l20.5-21.3c10.2 13 19.8 26.6 28.8 40.9l-14 2.6h26.5V249.7l-23.8 30c-6.7-9.4-13.7-18.7-21-27.8l27-57.1c6.3 9.9 12.3 19.9 17.8 29.7V18.23zm17.3 29.34c15.8 5.74 30.8 12.97 45 21.36l-11.9 78.17c-12.4-8.9-25-17-37.6-24.1zm62.2 32.4c16.1 11.1 31 23.83 44.8 37.43l-23.9 70.8c-10.8-10-21.8-19.5-33-28.4zm59.4 52.63c12.9 14.1 24.6 29 35.3 44.2l-27.9 59.3c-10-11.6-20.3-22.8-31.1-33.6zM101.8 264.2l17 73c-11.1-1.2-22.23-2.1-33.33-2.5l-36.75-72.3c17.48-.4 37.15.4 53.08 1.8zm19.8 2.2c20.7 2.6 41.6 6.7 62.4 12l.7 70.8c-15.2-3.8-30.6-7-46.1-9.4zm81.1 17.2c18.8 5.6 37.5 12.3 55.9 20.2L247.7 369c-14.6-5.5-29.4-10.4-44.3-14.7zm73.6 28.1c17.2 8.1 34.2 17.2 50.7 27.4l-19.8 55.8c-13.7-6.7-27.6-13-41.8-18.9zm66.9 37.8c16.4 11 32.3 23.1 47.5 36.2l-25.4 41.1c-13.4-8.1-27.2-15.9-41.4-23.3zm61.6 49c12.4 11.6 24.4 24.1 35.7 37.3l-23.9 24.8c-11.5-8.2-23.3-16.2-35.4-23.9z"fill=#fff fill-opacity=1></svg>',!1,!0,!1),yn=y('<svg><g class transform=translate(0,0) style><path d="M124.812 388.907a60.718 60.718 0 0 0 16.564 11.588L107.28 435.07a48.756 48.756 0 0 0-28.35-28.006l34.16-34.576a61.093 61.093 0 0 0 11.722 16.42zm209.598-276.44c-32.754 33.14-57.813 79.127-103.008 124.853-9.13 9.245-40.292 37.355-58.303 53.555l49.223 48.64c15.98-18.24 43.727-49.744 52.858-58.978 45.154-45.726 90.828-71.39 123.57-104.477C452.683 121.485 481 28.492 481 28.492s-92.67 29.4-146.59 83.976zM83.656 430.594a30.92 30.92 0 1 0 .26 43.727 30.817 30.817 0 0 0-.26-43.727zm91.13-40.603c11.16 0 20.822-2.81 24.497-6.56l20.885-21.103-69.88-69.047-20.823 21.135c-7.964 8.068-11.233 43.06 7.85 61.905 10.12 10.026 24.79 13.66 37.47 13.66z"fill=#fff fill-opacity=1></svg>',!1,!0,!1),wn=y('<svg><g class transform=translate(0,0) style><path d="M256 16c25 24 100 72 150 72v96c0 96-75 240-150 312-75-72-150-216-150-312V88c50 0 125-48 150-72z"fill=#fff fill-opacity=1></svg>',!1,!0,!1),vn=y('<svg><g xmlns=http://www.w3.org/2000/svg id=surface1><path d="M 34.445117 -0.0647461 L -0.0507812 28.47832 "transform=matrix(0.0255918,0,0,0.0255918,1.40755,26.794626) style=fill:none;stroke-width:64;stroke-linecap:square;stroke-linejoin:miter;stroke:rgb(89.019608%,58.039218%,14.509805%);stroke-opacity:1;stroke-miterlimit:2></path><path d="M 22.562305 11.589063 C 22.562305 5.17832 17.525293 -0.0113281 11.267188 -0.0113281 C 5.009082 -0.0113281 -0.0279297 5.17832 -0.0279297 11.589063 C -0.0279297 17.999805 5.009082 23.189453 11.267188 23.189453 C 17.525293 23.189453 22.562305 17.999805 22.562305 11.589063 Z M 22.562305 11.589063 "transform=matrix(0.0255918,0,0,0.0255918,30.774152,3.390915) style=fill:none;stroke-width:40;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(81.568629%,52.941179%,12.941177%);stroke-opacity:1;stroke-miterlimit:4></path><path d="M 0.0702148 637.516211 L 793.475879 -0.0473633 "transform=matrix(0.0255918,0,0,0.0255918,10.361484,4.005118) style=fill:none;stroke-width:60;stroke-linecap:square;stroke-linejoin:miter;stroke:rgb(80.392158%,54.11765%,12.156863%);stroke-opacity:1;stroke-miterlimit:2></path><path d="M -0.00478516 116.980469 L 146.984375 0.0607422 "transform=matrix(0.0255918,0,0,0.0255918,4.363404,22.162508) style=fill:none;stroke-width:80;stroke-linecap:square;stroke-linejoin:miter;stroke:rgb(58.039218%,44.313726%,25.490198%);stroke-opacity:1;stroke-miterlimit:2></path><path d="M 59.972949 315.034668 C -20.466602 179.493262 -20.008691 82.721582 61.499316 24.719629 C 142.854688 -33.434961 228.941797 11.134961 319.608008 158.276758 L 320.981738 158.276758 "transform=matrix(0.0255918,0,0,0.0255918,1.90659,18.285349) style=fill:none;stroke-width:46;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(69.803923%,52.549022%,28.627452%);stroke-opacity:1;stroke-miterlimit:4></svg>',!1,!0,!1),bn=y('<svg><g xmlns=http://www.w3.org/2000/svg id=surface1><path d="M -0.000112122 12.263409 C 7.395786 4.071515 8.037779 -0.016083 1.92772 0.000616264 "transform=matrix(2.105263,0,0,2.105263,0.523674,6.02214) style=fill:none;stroke-width:0.36;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(79.607844%,77.254903%,22.745098%);stroke-opacity:1;stroke-miterlimit:4></path><path d="M -0.000268078 9.613189 C 5.439966 3.677544 9.896802 0.47315 13.37024 0.00000543594 "transform=matrix(2.105263,0,0,2.105263,2.984939,8.640614) style=fill:none;stroke-width:0.36;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(79.607844%,77.254903%,22.745098%);stroke-opacity:1;stroke-miterlimit:4></path><path d="M 10.746156 0.000911999 C 12.096937 0.266244 9.664417 3.619076 3.444886 10.061264 C 3.669398 6.919955 2.520863 6.86058 -0.000719225 9.886849 "transform=matrix(2.105263,0,0,2.105263,0.759327,1.806674) style=fill:none;stroke-width:0.36;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(79.607844%,77.254903%,22.745098%);stroke-opacity:1;stroke-miterlimit:4></path><path d="M 0 4.304128 L 3.707227 -0.000559235 "transform=matrix(2.105263,0,0,2.105263,0,22.544146) style=fill:none;stroke-width:0.36;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(79.607844%,77.254903%,22.745098%);stroke-opacity:1;stroke-miterlimit:4></path><path d="M 0.000180471 4.539165 C 0.124497 4.364751 1.484555 2.852544 4.078501 0.000688744 "transform=matrix(2.105263,0,0,2.105263,0.890245,22.7798) style=fill:none;stroke-width:0.36;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(79.607844%,77.254903%,22.745098%);stroke-opacity:1;stroke-miterlimit:4></path><path d="M -0.000371075 7.110293 C 0.123945 6.930313 5.725605 0.877774 3.88127 0.438027 C 2.651094 0.146719 2.036934 0.000136852 2.036934 0.000136852 "transform=matrix(2.105263,0,0,2.105263,9.45,6.347368) style=fill:none;stroke-width:0.36;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(79.607844%,77.254903%,22.745098%);stroke-opacity:1;stroke-miterlimit:4></path><path d="M -0.000371075 1.589029 C 5.181953 -0.54105 8.219355 -0.529917 9.111836 1.622427 "transform=matrix(2.105263,0,0,2.105263,9.45,18.420302) style=fill:none;stroke-width:0.36;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(79.607844%,77.254903%,22.745098%);stroke-opacity:1;stroke-miterlimit:4></path><path d="M 6.989939 11.249215 C 4.451658 7.118941 4.451658 7.13193 0.000388145 7.504879 C 5.60947 2.105465 8.765623 -0.380863 9.470701 0.0477499 "transform=matrix(2.105263,0,0,2.105263,9.452308,6.508849) style=fill:none;stroke-width:0.36;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(79.607844%,77.254903%,22.745098%);stroke-opacity:1;stroke-miterlimit:4></path><path d="M 1.901719 6.255606 C 3.048399 2.490859 3.018711 0.505508 1.810801 0.303262 C 0.602891 0.101016 -0.000136614 0.000820351 -0.000136614 0.000820351 "transform=matrix(2.105263,0,0,2.105263,4.902631,8.83421) style=fill:none;stroke-width:0.36;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(79.607844%,77.254903%,22.745098%);stroke-opacity:1;stroke-miterlimit:4></svg>',!1,!0,!1),xn=y("<svg xmlns=http://www.w3.org/2000/svg>");const Xe=e=>(()=>{var t=xn();return m(t,h(Mt,{get children(){return[h(z,{get when(){return e.name==="enemy_dummy_1"},get children(){return un()}}),h(z,{get when(){return e.name==="equip_accessory"},get children(){return fn()}}),h(z,{get when(){return e.name==="equip_chest"},get children(){return dn()}}),h(z,{get when(){return e.name==="equip_foot"},get children(){return[hn(),","]}}),h(z,{get when(){return e.name==="equip_hand"},get children(){return mn()}}),h(z,{get when(){return e.name==="equip_head"},get children(){return[gn(),","]}}),h(z,{get when(){return e.name==="equip_legs"},get children(){return[pn(),","]}}),h(z,{get when(){return e.name==="equip_shoulder"},get children(){return _n()}}),h(z,{get when(){return e.name==="equip_weapon"},get children(){return yn()}}),h(z,{get when(){return e.name==="equip_shield"},get children(){return wn()}}),h(z,{get when(){return e.name==="item_wooden_sword_1"},get children(){return vn()}}),h(z,{get when(){return e.name==="item_hay_1"},get children(){return bn()}})]}})),T(n=>{var s=`${e.class} bg-black dark:bg-transparent`,r=`0 0 ${e.vp??512} ${e.vp??512}`,l=`${e.flip?"transform: scale(-1, 1);":""} height: ${e.w??32}px; width: ${e.w??32}px;`;return s!==n.e&&Ke(t,"class",n.e=s),r!==n.t&&Ke(t,"viewBox",n.t=r),n.a=sn(t,l,n.a),n},{e:void 0,t:void 0,a:void 0}),t})(),St=(e,t)=>{let n;e.addEventListener("mouseover",()=>{const{text:r,className:l}=t();if(n||!r)return;const o=$n(e);n=document.createElement("div"),n.className=l??"p-1 bg-gray-100 dark:bg-[#2F2F2F] border rounded",n.classList.add("absolute"),n.style.left=o.left+"px",n.style.top=o.top+"px",n.innerHTML=r,n.style.transform="translate(-50%, 0)",document.body.appendChild(n),s()});const s=()=>{setTimeout(()=>{e!=null&&e.isConnected?s():(n==null||n.remove(),n=void 0)},100)};e.addEventListener("mouseout",()=>{n==null||n.remove(),n=void 0})};function $n(e){const t=e.getBoundingClientRect();return{left:t.right-t.width/2+window.scrollX,top:t.bottom+window.scrollY}}function kn(e,t,n){let s=n.length,r=t.length,l=s,o=0,i=0,a=t[r-1].nextSibling,d=null;for(;o<r||i<l;){if(t[o]===n[i]){o++,i++;continue}for(;t[r-1]===n[l-1];)r--,l--;if(r===o){const c=l<s?i?n[i-1].nextSibling:n[l-i]:a;for(;i<l;)e.insertBefore(n[i++],c)}else if(l===i)for(;o<r;)(!d||!d.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[l-1]&&n[i]===t[r-1]){const c=t[--r].nextSibling;e.insertBefore(n[i++],t[o++].nextSibling),e.insertBefore(n[--l],c),t[r]=n[l]}else{if(!d){d=new Map;let u=i;for(;u<l;)d.set(n[u],u++)}const c=d.get(t[o]);if(c!=null)if(i<c&&c<l){let u=o,p=1,w;for(;++u<r&&u<l&&!((w=d.get(t[u]))==null||w!==c+p);)p++;if(p>c-i){const C=t[o];for(;i<c;)e.insertBefore(n[i++],C)}else e.replaceChild(n[i++],t[o++])}else o++;else t[o++].remove()}}}const at="_$DX_DELEGATE";function Cn(e,t,n){const s=document.createElement("template");if(s.innerHTML=e,s.innerHTML.split("<").length-1!==t)throw`The browser resolved template HTML does not match JSX input:
${s.innerHTML}

${e}. Is your HTML properly formed?`;return s.content.firstChild}function An(e,t=window.document){const n=t[at]||(t[at]=new Set);for(let s=0,r=e.length;s<r;s++){const l=e[s];n.has(l)||(n.add(l),t.addEventListener(l,Sn))}}function $e(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function En(e,t,n,s){Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n}function ct(e,t,n={}){const s=Object.keys(t||{}),r=Object.keys(n);let l,o;for(l=0,o=r.length;l<o;l++){const i=r[l];!i||i==="undefined"||t[i]||(ft(e,i,!1),delete n[i])}for(l=0,o=s.length;l<o;l++){const i=s[l],a=!!t[i];!i||i==="undefined"||n[i]===a||!a||(ft(e,i,!0),n[i]=a)}return n}function ut(e,t,n){if(!t)return n?$e(e,"style"):t;const s=e.style;if(typeof t=="string")return s.cssText=t;typeof n=="string"&&(s.cssText=n=void 0),n||(n={}),t||(t={});let r,l;for(l in n)t[l]==null&&s.removeProperty(l),delete n[l];for(l in t)r=t[l],r!==n[l]&&(s.setProperty(l,r),n[l]=r);return n}function Mn(e,t,n){return H(()=>e(t,n))}function Ge(e,t,n,s){if(n!==void 0&&!s&&(s=[]),typeof t!="function")return ze(e,t,s,n);T(r=>ze(e,t(),r,n),s)}function ft(e,t,n){const s=t.trim().split(/\s+/);for(let r=0,l=s.length;r<l;r++)e.classList.toggle(s[r],n)}function Sn(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),yt.registry;n;){const s=n[t];if(s&&!n.disabled){const r=n[`${t}Data`];if(r!==void 0?s.call(n,r,e):s.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function ze(e,t,n,s,r){for(yt.context;typeof n=="function";)n=n();if(t===n)return n;const l=typeof t,o=s!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,l==="string"||l==="number")if(l==="number"&&(t=t.toString()),o){let i=n[0];i&&i.nodeType===3?i.data=t:i=document.createTextNode(t),n=te(e,n,s,i)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||l==="boolean")n=te(e,n,s);else{if(l==="function")return T(()=>{let i=t();for(;typeof i=="function";)i=i();n=ze(e,i,n,s)}),()=>n;if(Array.isArray(t)){const i=[],a=n&&Array.isArray(n);if(We(i,t,n,r))return T(()=>n=ze(e,i,n,s,!0)),()=>n;if(i.length===0){if(n=te(e,n,s),o)return n}else a?n.length===0?dt(e,i,s):kn(e,n,i):(n&&te(e),dt(e,i));n=i}else if(t instanceof Node){if(Array.isArray(n)){if(o)return n=te(e,n,s,t);te(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}else console.warn("Unrecognized value. Skipped inserting",t)}return n}function We(e,t,n,s){let r=!1;for(let l=0,o=t.length;l<o;l++){let i=t[l],a=n&&n[l];if(i instanceof Node)e.push(i);else if(!(i==null||i===!0||i===!1))if(Array.isArray(i))r=We(e,i,a)||r;else if(typeof i=="function")if(s){for(;typeof i=="function";)i=i();r=We(e,Array.isArray(i)?i:[i],Array.isArray(a)?a:[a])||r}else e.push(i),r=!0;else{const d=String(i);d==="<!>"?a&&a.nodeType===8&&e.push(a):a&&a.nodeType===3?(a.data=d,e.push(a)):e.push(document.createTextNode(d))}}return r}function dt(e,t,n=null){for(let s=0,r=t.length;s<r;s++)e.insertBefore(t[s],n)}function te(e,t,n,s){if(n===void 0)return e.textContent="";const r=s||document.createTextNode("");if(t.length){let l=!1;for(let o=t.length-1;o>=0;o--){const i=t[o];if(r!==i){const a=i.parentNode===e;!l&&!o?a?e.replaceChild(r,i):e.insertBefore(r,n):a&&i.remove()}else l=!0}}else e.insertBefore(r,n);return[r]}const qn="http://www.w3.org/2000/svg";function Ln(e,t=!1){return t?document.createElementNS(qn,e):document.createElement(e)}function zn(e){const{useShadow:t}=e,n=document.createTextNode(""),s=()=>e.mount||document.body,r=M(l());function l(){return()=>e.children}return T(()=>{const o=s();if(o instanceof HTMLHeadElement){const[i,a]=D(!1),d=()=>a(!0);me(c=>Ge(o,()=>i()?c():r(),null)),Be(()=>{d()})}else{const i=Ln(e.isSVG?"g":"div",e.isSVG),a=t&&i.attachShadow?i.attachShadow({mode:"open"}):i;Object.defineProperty(i,"_$host",{get(){return n.parentNode},configurable:!0}),Ge(a,r),o.appendChild(i),e.ref&&e.ref(i),Be(()=>o.removeChild(i))}}),n}const Pn='a, button:not(:disabled), input, textarea, select, details, [tabindex]:not([tabindex="-1"])',On=e=>Array.from(e.querySelectorAll(Pn));var Ye=(e=>(e.TAB="Tab",e.ESCAPE="Escape",e))(Ye||{});const Nn=Cn('<div role="presentation"><div aria-modal="true" tabindex="0"></div></div>',4),Tn={position:"fixed",padding:"1rem",top:"50%",left:"50%",transform:"translate(-50%, -50%)",overflow:"auto",border:"1px solid rgba(200, 200, 200, 0.5)","background-color":"white","border-radius":"1rem","max-height":"90%","max-width":"90%"},jn={position:"fixed",inset:"0 0 0 0","background-color":"rgba(255, 255, 255, 0.5)"},Dn=e=>{let t,n,s=[];const r={"solid-modal-overlay":!0,[e.overlayClass]:!!e.overlayClass},l={"solid-modal-content":!0,[e.contentClass]:!!e.contentClass},o=c=>{s.length>1?s[0].focus():c.focus()},i=c=>{c<s.length-1?s[c+1].focus():s[0].focus()},a=c=>{c>0?s[c-1].focus():s[s.length-1].focus()};re(()=>{e.isOpen&&e.children&&t&&(s=On(t))}),re(()=>{e.isOpen&&t&&(n=document.activeElement,o(t))}),re(()=>{!e.isOpen&&n&&n.focus()});const d=c=>{switch(c.key){case Ye.TAB:if(c.preventDefault(),document.activeElement===t&&s.length>0){c.shiftKey?s[s.length-1].focus():s[0].focus();return}const u=s.findIndex(p=>p===document.activeElement);u>-1&&(c.shiftKey?a(u):i(u));return;case Ye.ESCAPE:c.stopPropagation(),e.onCloseRequest();return;default:return}};return h(zn,{get children(){return h(R,{get when(){return e.isOpen},get children(){const c=Nn.cloneNode(!0),u=c.firstChild;En(c,"click",e.closeOnOutsideClick?e.onCloseRequest:void 0),u.$$click=w=>w.stopImmediatePropagation();const p=t;return typeof p=="function"?Mn(p,u):t=u,u.$$keydown=d,Ge(u,()=>e.children),T(w=>{const C=e.overlayClass?e.overlayStyle:{...jn,...e.overlayStyle},f=r,x=e.ariaLabelledBy,q=e.ariaLabel,L=e.contentClass?e.contentStyle:{...Tn,...e.overlayStyle},O=l,N=e.role??"dialog";return w._v$=ut(c,C,w._v$),w._v$2=ct(c,f,w._v$2),x!==w._v$3&&$e(u,"aria-labelledby",w._v$3=x),q!==w._v$4&&$e(u,"aria-label",w._v$4=q),w._v$5=ut(u,L,w._v$5),w._v$6=ct(u,O,w._v$6),N!==w._v$7&&$e(u,"role",w._v$7=N),w},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0}),c}})}})};An(["click","keydown"]);const Qe=Symbol("store-raw"),se=Symbol("store-node"),F=Symbol("store-has"),qt=Symbol("store-self");function Lt(e){let t=e[J];if(!t&&(Object.defineProperty(e,J,{value:t=new Proxy(e,Rn)}),!Array.isArray(e))){const n=Object.keys(e),s=Object.getOwnPropertyDescriptors(e);for(let r=0,l=n.length;r<l;r++){const o=n[r];s[o].get&&Object.defineProperty(e,o,{enumerable:s[o].enumerable,get:s[o].get.bind(t)})}}return t}function Pe(e){let t;return e!=null&&typeof e=="object"&&(e[J]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function _e(e,t=new Set){let n,s,r,l;if(n=e!=null&&e[Qe])return n;if(!Pe(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let o=0,i=e.length;o<i;o++)r=e[o],(s=_e(r,t))!==r&&(e[o]=s)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const o=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let a=0,d=o.length;a<d;a++)l=o[a],!i[l].get&&(r=e[l],(s=_e(r,t))!==r&&(e[l]=s))}return e}function Oe(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function ye(e,t,n){if(e[t])return e[t];const[s,r]=D(n,{equals:!1,internal:!0});return s.$=r,e[t]=s}function Hn(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===J||t===se||(delete n.value,delete n.writable,n.get=()=>e[J][t]),n}function zt(e){Ve()&&ye(Oe(e,se),qt)()}function In(e){return zt(e),Reflect.ownKeys(e)}const Rn={get(e,t,n){if(t===Qe)return e;if(t===J)return n;if(t===Re)return zt(e),n;const s=Oe(e,se),r=s[t];let l=r?r():e[t];if(t===se||t===F||t==="__proto__")return l;if(!r){const o=Object.getOwnPropertyDescriptor(e,t);Ve()&&(typeof l!="function"||e.hasOwnProperty(t))&&!(o&&o.get)&&(l=ye(s,t,l)())}return Pe(l)?Lt(l):l},has(e,t){return t===Qe||t===J||t===Re||t===se||t===F||t==="__proto__"?!0:(Ve()&&ye(Oe(e,F),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:In,getOwnPropertyDescriptor:Hn};function Ne(e,t,n,s=!1){if(!s&&e[t]===n)return;const r=e[t],l=e.length;n===void 0?(delete e[t],e[F]&&e[F][t]&&r!==void 0&&e[F][t].$()):(e[t]=n,e[F]&&e[F][t]&&r===void 0&&e[F][t].$());let o=Oe(e,se),i;if((i=ye(o,t,r))&&i.$(()=>n),Array.isArray(e)&&e.length!==l){for(let a=e.length;a<l;a++)(i=o[a])&&i.$();(i=ye(o,"length",l))&&i.$(e.length)}(i=o[qt])&&i.$()}function Pt(e,t){const n=Object.keys(t);for(let s=0;s<n.length;s+=1){const r=n[s];Ne(e,r,t[r])}}function Bn(e,t){if(typeof t=="function"&&(t=t(e)),t=_e(t),Array.isArray(t)){if(e===t)return;let n=0,s=t.length;for(;n<s;n++){const r=t[n];e[n]!==r&&Ne(e,n,r)}Ne(e,"length",s)}else Pt(e,t)}function fe(e,t,n=[]){let s,r=e;if(t.length>1){s=t.shift();const o=typeof s,i=Array.isArray(e);if(Array.isArray(s)){for(let a=0;a<s.length;a++)fe(e,[s[a]].concat(t),n);return}else if(i&&o==="function"){for(let a=0;a<e.length;a++)s(e[a],a)&&fe(e,[a].concat(t),n);return}else if(i&&o==="object"){const{from:a=0,to:d=e.length-1,by:c=1}=s;for(let u=a;u<=d;u+=c)fe(e,[u].concat(t),n);return}else if(t.length>1){fe(e[s],t,[s].concat(n));return}r=e[s],n=[s].concat(n)}let l=t[0];typeof l=="function"&&(l=l(r,n),l===r)||s===void 0&&l==null||(l=_e(l),s===void 0||Pe(r)&&Pe(l)&&!Array.isArray(l)?Pt(r,l):Ne(e,s,l))}function Vn(...[e,t]){const n=_e(e||{}),s=Array.isArray(n),r=Lt(n);function l(...o){Bt(()=>{s&&o.length===1?Bn(n,o[0]):fe(n,o)})}return[r,l]}var Fn=y('<div class="flex flex-col gap-5 lg:pl-5 mt-5 p-2"><div class="flex lg:flex-row flex-col gap-5 justify-center w-full lg:max-h-[25rem]">'),Kn=y('<div class="grid grid-cols-5 lg:grid-cols-12 gap-1">'),E=y("<div>"),Un=y('<div class="flex flex-row gap-5 items-center"><span class="text-lg font-bold"> (<!>)</span><div>'),Xn=y('<div class="w-full mt-5">'),Gn=y('<div class="absolute right-2 bottom-1">'),Wn=y("<div class=h-16>"),Yn=y("<ul><li>Welcome to Idleology!"),ht=y("<div class=mb-5>"),He=y("<div class=col-span-2>"),Qn=y("<div>Attack Damage"),Jn=y("<div> - "),Zn=y("<div>Physical Res."),er=y("<div>Magical Res."),tr=y("<div>Critical Chance"),mt=y("<div>%"),nr=y("<div>Critical Damage"),rr=y("<div>Fortitude"),sr=y("<div>Attack rate"),lr=y("<div> p/s"),ir=y('<div class="font-bold text-lg">'),or=y('<div class="flex flex-col justify-between h-full"><div class="grid grid-cols-2 gap-1 [&amp;>div]:odd:text-left [&amp;>div]:even:text-right min-h-0 overflow-scroll h-full p-2"></div><div class="flex flex-row justify-between mt-5 gap-5"><div></div><div></div><div>'),ar=y('<div class="col-span-2 cursor-pointer">'),cr=y("<div>Error"),ur=y("<div class=font-bold>Level"),fr=y('<div class="font-bold mt-1">'),gt=y("<div class=text-sm>"),dr=y('<div class="flex flex-row gap-5"><div class="flex flex-col gap-5"></div><div class="flex flex-col w-full"><div class="flex flex-row justify-center gap-5"></div><div class="flex flex-row justify-center mt-5 gap-5"></div><div class="flex flex-row justify-center mt-5 gap-5"></div><div class="flex flex-row justify-center mt-5 gap-5">'),hr=y("<div class=mt-5>"),mr=y('<div class="flex flex-col justify-center gap-2 min-w-64 justify-center text-center"><div>'),gr=y('<div class="flex flex-col gap-5 mt-5">'),pr=y("<div class=cursor-pointer>"),_r=y('<div class="w-full outline hover:outline-2 cursor-pointer p-1"><div class="outline p-1">'),yr=y('<div><div class="absolute -top-3 left-3 bg-white dark:bg-[#242424]">'),wr=y('<div class=relative><progress max=100 class="h-8 [&amp;::-webkit-progress-bar]:rounded-xl [&amp;::-webkit-progress-value]:rounded-xl [&amp;::-webkit-progress-bar]:bg-slate-300 w-full"></progress><div class="absolute top-0.5 left-[50%] -translate-x-1/2 text-black whitespace-nowrap">'),vr=y('<div class="border w-full rounded-xl"><span class="block h-1 bg-yellow-500 rounded-xl">');const br=20,Ot=4250,Nt=e=>an.find(t=>t.name===e),xr=e=>on.find(t=>t.name===e),de=e=>cn.find(t=>t.name===e);let pt;const ke=80,Ce=1.7,X={gold:"Gold",strength:"Strength",agility:"Agility",experience:"Experience",points:"Stat Points",health:"Health",max_health:"Max Health",mana:"Mana",max_mana:"Max Mana",intelligence:"Intelligence",constitution:"Constitution",charisma:"Charisma",attack_min:"Attack min",attack_max:"Attack max",att_speed:"Att. Speed",phys_res:"Phys. Res.",mag_res:"Mag. Res.",crit_chance:"Crit Chance",crit_damage:"Crit Damage",fortitude:"Fortitude"},Ie={bare_hand:"Bare Hand",sword:"Sword",shield:"Shield"},he={bare_hand:[[5,{attack_min:1,attack_max:1,att_speed:.1}],[10,{attack_min:2,attack_max:3,att_speed:.15}],[15,{attack_min:4,attack_max:4,att_speed:.15}],[20,{attack_min:5,attack_max:6,att_speed:.15}],[25,{attack_min:6,attack_max:8,att_speed:.2}],[30,{attack_min:10,attack_max:14,att_speed:.2}],[40,{attack_min:12,attack_max:18,att_speed:.3}],[50,{attack_min:15,attack_max:20,att_speed:.4}],[60,{attack_min:18,attack_max:24,att_speed:.4}],[70,{attack_min:25,attack_max:30,att_speed:.45}],[80,{attack_min:35,attack_max:55,att_speed:.5}],[90,{attack_min:45,attack_max:90,att_speed:.75}],[100,{attack_min:100,attack_max:100,att_speed:1}]]};class $r{constructor(t){W(this,"stats");W(this,"masteryExp");W(this,"equipment",[]);this.stats=t,this.masteryExp={bare_hand:Math.floor(ke*Math.pow(100,Ce)),sword:0,shield:0}}weaponMastery(){const t=this.equipment.find(n=>n.equip_type==="weapon");return(t==null?void 0:t.mastery_type)??"bare_hand"}getLevel(){return Math.floor(Math.pow(this.stats.experience/ke,1/Ce))}getMasteryLevel(t){return Math.floor(Math.pow(this.masteryExp[t]/ke,1/Ce))}getMasteryPerk(t){var r,l,o,i,a,d;const n=this.getMasteryLevel(t),s=(r=he[t])==null?void 0:r.findIndex(c=>c[0]>n);return s===void 0?{}:s===-1?((i=(o=he[t])==null?void 0:o[((l=he[t])==null?void 0:l.length)-1])==null?void 0:i[1])??{}:((d=(a=he[t])==null?void 0:a[s-1])==null?void 0:d[1])??{}}attackDamage(){let t=this.equipment.reduce((a,d)=>{var c;return a+(((c=d.stats)==null?void 0:c.attack_min)??0)},1),n=this.equipment.reduce((a,d)=>{var c;return a+(((c=d.stats)==null?void 0:c.attack_max)??0)},1);const s=this.weaponMastery(),r=this.getMasteryPerk(s);t+=(r==null?void 0:r.attack_min)??0,n+=(r==null?void 0:r.attack_max)??0;const l=1+Math.pow(this.stats.strength/100,.7),o=Math.round(t*l),i=Math.round(n*l);return[o,i]}attackRate(){const n=Math.min(100,Math.max(1,this.stats.agility)),s=250,r=1e3,l=Math.sqrt(n/100),o=r*l,i=1e3,a=Math.min(this.equipment.reduce((x,q)=>{var L;return x+(((L=q.stats)==null?void 0:L.att_speed)??0)},0),1),d=a*i,c=1e3,u=this.weaponMastery(),p=this.getMasteryPerk(u),w=(p.att_speed??0)*c,f=1e3*((l+a+(p.att_speed??0))/3);return Math.max(Ot-o-d-f-w,s)}}const V=new Array(495).fill(1).map((e,t)=>Math.floor(ke*Math.pow(t+1,Ce))),kr={head:1,shield:1,weapon:1,shoulder:2,foot:2,hand:2,chest:1,legs:1,accessory:2},ae=Ft(),Cr=()=>{const[e,t]=D("town_1"),[n,s]=D(new Array(br).fill(null)),[r,l]=D(!1),[o,i]=D([]),[a,d]=Vn(new $r({gold:0,experience:0,points:0,health:10,max_health:10,mana:0,max_mana:0,strength:1,intelligence:1,constitution:1,agility:1,charisma:1,attack_min:1,attack_max:1,phys_res:1,mag_res:1,crit_chance:0,crit_damage:1,fortitude:1}));Vt(()=>{const g=de("wooden_sword_1");g&&x(g);const v=de("hay_1");v&&x(v,355)});const c=g=>{const v=[...o()];g==="_back"?g=v.pop()??"town_1":v.push(e()),i(v),t(g)},u=M(()=>e()?Nt(e()):void 0),p={town_1_sell_hay:()=>{const g=de("hay_1");if(!g)return;const v=n().filter(b=>(b==null?void 0:b.name)==="hay_1").reduce((b,_)=>b+((_==null?void 0:_.stack)??0),0);v&&(B(g,v),U("gold",v))},buy_item:g=>{const[v,b,_]=g,$=de(v);if(!$||!b||a.stats.gold<_)return;x($,b)&&U("gold",-b)}},w=(g,v)=>{var b;return(b=p[g])==null?void 0:b.call(p,v)},C=M(()=>{var g;if(((g=u())==null?void 0:g.type)==="zone")return new qr(u())});document.addEventListener("visibilitychange",()=>{const g=C(),v=u();if(document.hidden&&g)l(!0),pt=Date.now();else if(g&&v){let b=Date.now()-pt;const _=a.attackRate(),$=v.cooldown;if(b<=Math.max(_,$)){l(!1);return}g.health()>0?b-=_:b-=$,requestIdleCallback(()=>f(_,$,b,g))}});const f=(g,v,b,_,$=[],I=0)=>{var et;if(b<=0){$.forEach(je=>x(je)),l(!1);return}if(_.health()>0){const[je,Tt]=_.onAction(...a.attackDamage())??[0,0];Ze(a.weaponMastery(),je),Tt<=0?(U==null||U("experience",(et=_.encounter())==null?void 0:et.entity.experience),$.push(..._.onKill()??[]),b-=v):b-=g}else b-=g,_.loadEncounter();I++,I%10===0?requestIdleCallback(()=>f(g,v,b,_,$,I)):f(g,v,b,_,$,I)},x=(g,v=1)=>{let b=[...n()],_=v;return g.stackable&&g.max_stack&&(b=b.map($=>{if(!($!=null&&$.name)||!($!=null&&$.stack)||!$.max_stack||!_)return $;if($.name===g.name&&$.stack<$.max_stack){let I=Math.min($.stack+_,$.max_stack);return _-=I-$.stack,{...$,stack:I}}return $})),_&&s([...n().map($=>{if(!_)return $;if($===null){const I=Math.min(_,g.max_stack??1);return _-=I,{...g,stack:I}}return $})]),v-_},q=g=>{l(!0);const v=L(g);return l(!1),v},L=g=>{if(!g.equip_type||!a.equipment)return!1;B(g);const v=a.equipment.reduce((b,_,$)=>(_.equip_type===g.equip_type&&b.push($),b),[]);return v.length<kr[g.equip_type]?(d("equipment",[...a.equipment,g]),!0):(d("equipment",[...a.equipment.map((b,_)=>_===v[0]?g:b)]),!0)},O=g=>{l(!0);const v=N(g);return l(!1),v},N=g=>{var b;const v=(b=a.equipment)==null?void 0:b.indexOf(g);return v<0||!x(g)?!1:(d("equipment",[...a.equipment.filter((_,$)=>$!==v)]),!0)},B=(g,v=1)=>n().findIndex(_=>(_==null?void 0:_.name)===g.name)<0?!1:(s([...n().map(_=>{if(!v||(_==null?void 0:_.name)!==g.name||!(_!=null&&_.stack))return _;if(_.stack<=v)return v-=_.stack,null;const $=_.stack-v;return v=0,{..._,stack:$}}).sort(_=>_===null?1:-1)]),!0),U=(g,v=1)=>{const b=(a.stats[g]??0)+v,_=a.getLevel();d("stats",g,b),g==="experience"&&a.getLevel()>_&&d("stats","points",a.stats.points+1)},Ze=(g,v=1)=>{const b=a.masteryExp[g]+v;d("masteryExp",g,b)};return[h(Dn,{get isOpen(){return r()},onCloseRequest:()=>{},children:"Catching up..."}),h(ae.Provider,{value:{player:a,setPlayer:d,addInventory:x,removeInventory:B,inventory:n,onAddStat:U,equip:q,unequip:O,onAddMastery:Ze},get children(){var g=Fn(),v=g.firstChild;return m(v,h(Lr,{get storyName(){return e()},onNavigate:c,onStoryAction:w,get handler(){return C()},get pause(){return r()}}),null),m(v,h(Mr,{}),null),m(v,h(Sr,{}),null),m(g,h(Ar,{}),null),m(g,h(Er,{}),null),g}})]},Ar=()=>{const[e,t]=D(),{removeInventory:n,inventory:s,equip:r}=be(ae)??{},l=M(()=>{const o=e()??-1;return o<0?null:(s==null?void 0:s()[o])??null});return h(Z,{label:"Inventory",get children(){return[(()=>{var o=Kn();return m(o,h(ge,{get each(){return s==null?void 0:s()},children:(i,a)=>{let d;return h(Z,{ref(c){var u=d;typeof u=="function"?u(c):d=c},get class(){return`${e()===a()?"bg-blue-200":""}`},get tooltip(){return i==null?void 0:i.label},padding:"p-1",get children(){var c=E();return c.$$click=()=>t(a()),c.classList.toggle("cursor-pointer",!!i),m(c,h(R,{when:i,get fallback(){return Wn()},get children(){return[h(Xe,{get name(){return i.icon},get vp(){return i==null?void 0:i.vp},w:64}),(()=>{var u=Gn();return m(u,(()=>{var p=S(()=>(i.stack??1)>1);return()=>p()?i.stack:""})()),u})()]}})),c}})}})),o})(),(()=>{var o=Xn();return m(o,h(R,{get when(){return l()},get children(){var i=Un(),a=i.firstChild,d=a.firstChild,c=d.nextSibling;c.nextSibling;var u=a.nextSibling;return m(a,()=>{var p;return(p=l())==null?void 0:p.label},d),m(a,()=>{var p;return((p=l())==null?void 0:p.stack)??1},c),m(i,h(R,{get when(){var p;return(p=l())==null?void 0:p.equip_type},get children(){var p=E();return m(p,h(Q,{onClick:()=>r==null?void 0:r(l()),children:"Equip"})),p}}),u),m(u,h(Q,{onClick:()=>n==null?void 0:n(l()),children:"Drop"})),i}})),o})()]}})},Er=()=>h(Z,{label:"Log",get children(){return Yn()}}),Mr=()=>{const[e,t]=D("stats"),[n,s]=D(),{player:r}=be(ae)??{},l=M(()=>{const d=r==null?void 0:r.stats;if(!d)return 0;const c=r.getLevel(),u=d.experience-(V[c-1]??0),p=V[c]-(V[c-1]??0);return u?u/p*100:0}),o=d=>{const c=V.findIndex(w=>w>d),u=d-(V[c-1]??0),p=V[c]-(V[c-1]??0);return u?u/p*100:0},i=d=>{const c=V.findIndex(u=>u>d);return V[c]},a=M(()=>r?r.attackDamage():[0,0]);return h(Z,{label:"Stats",get children(){var d=or(),c=d.firstChild,u=c.nextSibling,p=u.firstChild,w=p.nextSibling,C=w.nextSibling;return m(c,h(Mt,{get children(){return[h(z,{get when(){return e()==="stats"},get children(){return[(()=>{var f=ht();return m(f,()=>X.gold),f})(),(()=>{var f=E();return m(f,()=>r==null?void 0:r.stats.gold),f})(),h(R,{get when(){return r==null?void 0:r.stats.points},get children(){return[(()=>{var f=E();return m(f,()=>X.points),f})(),(()=>{var f=E();return m(f,()=>r==null?void 0:r.stats.points),f})()]}}),(()=>{var f=E();return m(f,()=>X.strength),f})(),(()=>{var f=E();return m(f,()=>r==null?void 0:r.stats.strength),f})(),(()=>{var f=E();return m(f,()=>X.intelligence),f})(),(()=>{var f=E();return m(f,()=>r==null?void 0:r.stats.intelligence),f})(),(()=>{var f=E();return m(f,()=>X.constitution),f})(),(()=>{var f=E();return m(f,()=>r==null?void 0:r.stats.constitution),f})(),(()=>{var f=E();return m(f,()=>X.agility),f})(),(()=>{var f=E();return m(f,()=>r==null?void 0:r.stats.agility),f})(),(()=>{var f=ht();return m(f,()=>X.charisma),f})(),(()=>{var f=E();return m(f,()=>r==null?void 0:r.stats.charisma),f})(),(()=>{var f=He();return m(f,h(ne,{type:"Level",get value(){return l()},get children(){return["Exp. ",S(()=>r==null?void 0:r.stats.experience)," / ",S(()=>[V[(r==null?void 0:r.getLevel())??1]])]}})),f})(),(()=>{var f=He();return m(f,h(ne,{type:"Health",value:100,get children(){return["Health ",S(()=>r==null?void 0:r.stats.health)," / ",S(()=>r==null?void 0:r.stats.max_health)]}})),f})(),h(R,{get when(){return r==null?void 0:r.stats.max_mana},get children(){var f=He();return m(f,h(ne,{type:"Mana",value:100,get children(){return["Mana ",S(()=>r==null?void 0:r.stats.mana)," / ",S(()=>r==null?void 0:r.stats.max_mana)]}})),f}})]}}),h(z,{get when(){return e()==="stats_2"},get children(){return[Qn(),(()=>{var f=Jn(),x=f.firstChild;return m(f,()=>a()[0],x),m(f,()=>a()[1],null),f})(),Zn(),(()=>{var f=E();return m(f,()=>r==null?void 0:r.stats.phys_res),f})(),er(),(()=>{var f=E();return m(f,()=>r==null?void 0:r.stats.mag_res),f})(),tr(),(()=>{var f=mt(),x=f.firstChild;return m(f,()=>((r==null?void 0:r.stats.crit_chance)??0)*100,x),f})(),nr(),(()=>{var f=mt(),x=f.firstChild;return m(f,()=>((r==null?void 0:r.stats.crit_damage)??0)*100,x),f})(),rr(),(()=>{var f=E();return m(f,()=>r==null?void 0:r.stats.fortitude),f})(),sr(),(()=>{var f=lr(),x=f.firstChild;return m(f,()=>(1e3/((r==null?void 0:r.attackRate())??Ot)).toFixed(2),x),f})()]}}),h(z,{get when(){return e()==="mastery"},get children(){return h(ge,{get each(){return Object.keys(Ie)},children:f=>h(R,{get when(){return r==null?void 0:r.masteryExp[f]},get children(){var x=ar();return x.$$click=()=>{s(f),t("mastery_detail")},m(x,h(ne,{type:"Level",get value(){return o((r==null?void 0:r.masteryExp[f])??0)},get children(){return[S(()=>Ie[f])," - ",S(()=>r==null?void 0:r.getMasteryLevel(f))," (",S(()=>r==null?void 0:r.masteryExp[f])," / ",S(()=>i((r==null?void 0:r.masteryExp[f])??0)),")"]}})),x}})})}}),h(z,{get when(){return e()==="mastery_detail"},get children(){return h(R,{get when(){return n()},get fallback(){return cr()},get children(){return[(()=>{var f=ir();return m(f,()=>Ie[n()]),f})(),E(),h(ge,{get each(){return he[n()]},children:f=>[ur(),(()=>{var x=fr();return m(x,()=>f[0]),x})(),h(ge,{get each(){return Object.keys(f[1])},children:x=>[(()=>{var q=gt();return m(q,()=>X[x]),q})(),(()=>{var q=gt();return m(q,()=>f[1][x]),q})()]})]})]}})}})]}})),m(p,h(Q,{onClick:()=>t("stats"),children:"Stats"})),m(w,h(Q,{onClick:()=>t("stats_2"),children:"Attrs"})),m(C,h(Q,{onClick:()=>t("mastery"),children:"Mastery"})),d}})},Sr=()=>{const{player:e}=be(ae)??{},t=(n,s=0)=>{const r=e==null?void 0:e.equipment.filter(l=>l.equip_type===n);return r==null?void 0:r[s]};return h(Z,{label:"Equipment",get children(){var n=dr(),s=n.firstChild,r=s.nextSibling,l=r.firstChild,o=l.nextSibling,i=o.nextSibling,a=i.nextSibling;return m(s,h(j,{icon:"equip_accessory",get equip(){return t("accessory")}}),null),m(s,h(j,{icon:"equip_accessory",get equip(){return t("accessory",1)}}),null),m(l,h(j,{icon:"equip_weapon",get equip(){return t("weapon")}}),null),m(l,h(j,{icon:"equip_head",get equip(){return t("head")}}),null),m(l,h(j,{icon:"equip_shield",get equip(){return t("shield")}}),null),m(o,h(j,{icon:"equip_shoulder",get equip(){return t("shoulder")}}),null),m(o,h(j,{icon:"equip_chest",get equip(){return t("chest")}}),null),m(o,h(j,{icon:"equip_shoulder",get equip(){return t("shoulder",1)},flip:!0}),null),m(i,h(j,{icon:"equip_hand",get equip(){return t("hand")},flip:!0}),null),m(i,h(j,{icon:"equip_legs",get equip(){return t("legs")}}),null),m(i,h(j,{icon:"equip_hand",get equip(){return t("hand",1)}}),null),m(a,h(j,{icon:"equip_foot",get equip(){return t("hand")},flip:!0}),null),m(a,h(j,{icon:"equip_foot",get equip(){return t("hand",1)}}),null),n}})};var le,we,ve,ie;class qr{constructor(t){W(this,"encounter");W(this,"killCount");W(this,"health");ce(this,le);ce(this,we);ce(this,ve);ce(this,ie);ue(this,ie,t);const[n,s]=D(),[r,l]=D(0),[o,i]=D(0);this.encounter=n,ue(this,we,s),this.killCount=r,ue(this,ve,l),this.health=o,ue(this,le,i)}loadEncounter(){var l;const t=Math.random();let n=0;if(((l=Y(this,ie))==null?void 0:l.type)!=="zone")return;const s=Y(this,ie).encounters.find(o=>(n+=o.chance,t<=n)),r=s&&xr(s.name);!s||!r||(Y(this,we).call(this,structuredClone({...s,entity:r})),Y(this,le).call(this,r.stats.maxHealth))}onKill(){var l;Y(this,ve).call(this,this.killCount()+1);const t=0;let n=0;const s=(l=this.encounter())==null?void 0:l.drops.find(o=>(n+=o.chance,t<=n)),r=s&&de(s==null?void 0:s.name);if(r)return[r]}onAction(t,n){const s=t+Math.round(Math.random()*(n-t));if(!this.encounter())return;const l=Math.min(s,this.health()),o=(this.health()??0)-s;return Y(this,le).call(this,Math.max(o,0)),[l,o]}}le=new WeakMap,we=new WeakMap,ve=new WeakMap,ie=new WeakMap;const Lr=e=>{const t=M(()=>Nt(e.storyName)),{player:n,addInventory:s,onAddStat:r,onAddMastery:l}=be(ae)??{};re(a=>{var d,c,u;return a&&!e.pause&&((d=e.handler)!=null&&d.health()||(c=e.handler)==null||c.loadEncounter()),e.handler&&e.handler.encounter()===void 0&&((u=e.handler)==null||u.loadEncounter()),e.pause??!1},e.pause??!1);const o=()=>{var c,u,p,w;if(e.pause)return;const[a,d]=((c=e.handler)==null?void 0:c.onAction(...(n==null?void 0:n.attackDamage())??[1,1]))??[0,0];if(n&&l&&l(n.weaponMastery(),a),d<=0){r==null||r("experience",(p=(u=e.handler)==null?void 0:u.encounter())==null?void 0:p.entity.experience);const C=(w=e.handler)==null?void 0:w.onKill();C==null||C.forEach(x=>s==null?void 0:s(x));const f=t();(f==null?void 0:f.type)==="zone"&&setTimeout(()=>{var x;e.pause||(x=e.handler)==null||x.loadEncounter()},(f==null?void 0:f.cooldown)??1e3)}},i=M(()=>{var u,p,w;const a=(p=(u=e.handler)==null?void 0:u.encounter())==null?void 0:p.entity,d=(w=e.handler)==null?void 0:w.health();if(!a||!d)return 0;const c=d/a.stats.maxHealth;return isNaN(c)?0:c*100});return h(Z,{label:"Story",get children(){return[(()=>{var a=mr(),d=a.firstChild;return m(d,()=>{var c;return(c=t())==null?void 0:c.text}),m(a,h(R,{get when(){return e.handler},fallback:"Waiting...",get children(){return[(()=>{var c=E();return m(c,h(ne,{type:"Health",get value(){return((n==null?void 0:n.stats.health)??0)*100},get children(){return["You ",S(()=>n==null?void 0:n.stats.health)," / ",S(()=>n==null?void 0:n.stats.max_health)]}}),null),m(c,h(_t,{get timeMs(){return(n==null?void 0:n.attackRate())??4500},onEnd:o,get start(){return S(()=>!e.pause)()&&e.handler.health()>0}}),null),c})(),(()=>{var c=hr();return m(c,h(ne,{get value(){return i()},type:"Encounter",get children(){return[S(()=>{var u,p;return(p=(u=e.handler)==null?void 0:u.encounter())==null?void 0:p.entity.label})," ",S(()=>{var u;return(u=e.handler)==null?void 0:u.health()})," / ",S(()=>{var u,p;return(p=(u=e.handler)==null?void 0:u.encounter())==null?void 0:p.entity.stats.maxHealth})]}}),null),m(c,h(_t,{get timeMs(){var u,p;return((p=(u=e.handler)==null?void 0:u.encounter())==null?void 0:p.entity.stats.att_delay)??1e3},onEnd:()=>{}}),null),c})(),"Kills: ",S(()=>{var c;return(c=e.handler)==null?void 0:c.killCount()})]}}),null),a})(),(()=>{var a=gr();return m(a,h(ge,{get each(){var d;return(d=t())==null?void 0:d.options},children:d=>h(Q,{onClick:()=>d.action?e.onStoryAction(d.action,d.action_args??[]):e.onNavigate(d.goto??"town_1"),get children(){return d.text}})}),null),m(a,h(R,{get when(){var d;return(((d=t())==null?void 0:d.name)??"")!=="town_1"},get children(){return h(Q,{onClick:()=>e.onNavigate("_back"),children:"Go back"})}}),null),a})()]}})},j=e=>{const{unequip:t}=be(ae)??{};return h(Z,{get padding(){var n;return(n=e.equip)!=null&&n.icon?"p-1":void 0},get children(){return h(R,{get when(){var n;return(n=e.equip)==null?void 0:n.icon},get fallback(){return h(Xe,{class:"opacity-20",get name(){return e.icon},get flip(){return e.flip}})},get children(){var n=pr();return n.$$click=()=>t==null?void 0:t(e.equip),qe(St,n,()=>({text:e.equip.label})),m(n,h(Xe,{get name(){return e.equip.icon},w:64,get vp(){return e.equip.vp}})),n}})}})},Q=e=>(()=>{var t=_r(),n=t.firstChild;return nn(t,"click",e.onClick),m(n,()=>e.children),t})(),Z=e=>(()=>{var t=yr(),n=t.firstChild;qe(St,t,()=>({text:e.tooltip??""}));var s=e.ref;return typeof s=="function"?qe(s,t):e.ref=t,m(t,()=>e.children,n),m(n,()=>e.label??""),T(()=>tn(t,`${e.class} rounded-lg border ${e.padding??"p-5"} relative`)),t})(),ne=e=>(()=>{var t=wr(),n=t.firstChild,s=n.nextSibling;return m(s,()=>e.children),T(r=>{var l={"[&::-webkit-progress-value]:bg-black [&::-moz-progress-bar]:bg-black":e.type==="Encounter","[&::-webkit-progress-value]:bg-yellow-400 [&::-moz-progress-bar]:bg-yellow-400":e.type==="Level","[&::-webkit-progress-value]:bg-red-400 [&::-moz-progress-bar]:bg-red-400":e.type==="Health","[&::-webkit-progress-value]:bg-blue-400 [&::-moz-progress-bar]:bg-blue-400":e.type==="Mana"},o=e.type==="Encounter";return r.e=rn(n,l,r.e),o!==r.t&&s.classList.toggle("text-red-500",r.t=o),r},{e:void 0,t:void 0}),T(()=>n.value=e.value),t})(),_t=e=>{let t;return re(()=>t==null?void 0:t.addEventListener("animationiteration",e.onEnd,!1)),(()=>{var n=vr(),s=n.firstChild,r=t;return typeof r=="function"?qe(r,s):t=s,lt(s,"width","0%"),T(l=>lt(s,"animation",e.start?`${e.timeMs}ms linear 0s infinite progress`:"")),n})()};en(["click"]);const zr=document.getElementById("root");Zt(()=>h(Cr,{}),zr);
