var wt=Object.defineProperty;var Ie=e=>{throw TypeError(e)};var $t=(e,n,t)=>n in e?wt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var F=(e,n,t)=>$t(e,typeof n!="symbol"?n+"":n,t),Be=(e,n,t)=>n.has(e)||Ie("Cannot "+t);var I=(e,n,t)=>(Be(e,n,"read from private field"),t?t.call(e):n.get(e)),ee=(e,n,t)=>n.has(e)?Ie("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(e):n.set(e,t),te=(e,n,t,r)=>(Be(e,n,"write to private field"),r?r.call(e,t):n.set(e,t),t);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();const tt={context:void 0,registry:void 0},kt=!1,xt=(e,n)=>e===n,B=Symbol("solid-proxy"),Se=Symbol("solid-track"),ge={equals:xt};let nt=ot;const H=1,me=2,rt={owned:null,cleanups:null,context:null,owner:null};var w=null;let Ce=null,Ct=null,k=null,A=null,j=null,xe=0;function re(e,n){const t=k,r=w,s=e.length===0,l=n===void 0?r:n,o=s?rt:{owned:null,cleanups:null,context:l?l.context:null,owner:l},i=s?e:()=>e(()=>z(()=>se(o)));w=o,k=null;try{return J(i,!0)}finally{k=t,w=r}}function P(e,n){n=n?Object.assign({},ge,n):ge;const t={value:e,observers:null,observerSlots:null,comparator:n.equals||void 0},r=s=>(typeof s=="function"&&(s=s(t.value)),it(t,s));return[st.bind(t),r]}function q(e,n,t){const r=De(e,n,!1,H);fe(r)}function G(e,n,t){nt=zt;const r=De(e,n,!1,H);r.user=!0,j?j.push(r):fe(r)}function x(e,n,t){t=t?Object.assign({},ge,t):ge;const r=De(e,n,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=t.equals||void 0,fe(r),st.bind(r)}function At(e){return J(e,!1)}function z(e){if(k===null)return e();const n=k;k=null;try{return e()}finally{k=n}}function St(e){G(()=>z(e))}function qe(e){return w===null||(w.cleanups===null?w.cleanups=[e]:w.cleanups.push(e)),e}function Ee(){return k}function qt(e,n){const t=Symbol("context");return{id:t,Provider:Lt(t),defaultValue:e}}function ue(e){let n;return w&&w.context&&(n=w.context[e.id])!==void 0?n:e.defaultValue}function lt(e){const n=x(e),t=x(()=>Me(n()));return t.toArray=()=>{const r=t();return Array.isArray(r)?r:r!=null?[r]:[]},t}function st(){if(this.sources&&this.state)if(this.state===H)fe(this);else{const e=A;A=null,J(()=>ye(this),!1),A=e}if(k){const e=this.observers?this.observers.length:0;k.sources?(k.sources.push(this),k.sourceSlots.push(e)):(k.sources=[this],k.sourceSlots=[e]),this.observers?(this.observers.push(k),this.observerSlots.push(k.sources.length-1)):(this.observers=[k],this.observerSlots=[k.sources.length-1])}return this.value}function it(e,n,t){let r=e.value;return(!e.comparator||!e.comparator(r,n))&&(e.value=n,e.observers&&e.observers.length&&J(()=>{for(let s=0;s<e.observers.length;s+=1){const l=e.observers[s],o=Ce&&Ce.running;o&&Ce.disposed.has(l),(o?!l.tState:!l.state)&&(l.pure?A.push(l):j.push(l),l.observers&&ct(l)),o||(l.state=H)}if(A.length>1e6)throw A=[],new Error},!1)),n}function fe(e){if(!e.fn)return;se(e);const n=xe;Et(e,e.value,n)}function Et(e,n,t){let r;const s=w,l=k;k=w=e;try{r=e.fn(n)}catch(o){return e.pure&&(e.state=H,e.owned&&e.owned.forEach(se),e.owned=null),e.updatedAt=t+1,at(o)}finally{k=l,w=s}(!e.updatedAt||e.updatedAt<=t)&&(e.updatedAt!=null&&"observers"in e?it(e,r):e.value=r,e.updatedAt=t)}function De(e,n,t,r=H,s){const l={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:n,owner:w,context:w?w.context:null,pure:t};return w===null||w!==rt&&(w.owned?w.owned.push(l):w.owned=[l]),l}function pe(e){if(e.state===0)return;if(e.state===me)return ye(e);if(e.suspense&&z(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<xe);)e.state&&n.push(e);for(let t=n.length-1;t>=0;t--)if(e=n[t],e.state===H)fe(e);else if(e.state===me){const r=A;A=null,J(()=>ye(e,n[0]),!1),A=r}}function J(e,n){if(A)return e();let t=!1;n||(A=[]),j?t=!0:j=[],xe++;try{const r=e();return Mt(t),r}catch(r){t||(j=null),A=null,at(r)}}function Mt(e){if(A&&(ot(A),A=null),e)return;const n=j;j=null,n.length&&J(()=>nt(n),!1)}function ot(e){for(let n=0;n<e.length;n++)pe(e[n])}function zt(e){let n,t=0;for(n=0;n<e.length;n++){const r=e[n];r.user?e[t++]=r:pe(r)}for(n=0;n<t;n++)pe(e[n])}function ye(e,n){e.state=0;for(let t=0;t<e.sources.length;t+=1){const r=e.sources[t];if(r.sources){const s=r.state;s===H?r!==n&&(!r.updatedAt||r.updatedAt<xe)&&pe(r):s===me&&ye(r,n)}}}function ct(e){for(let n=0;n<e.observers.length;n+=1){const t=e.observers[n];t.state||(t.state=me,t.pure?A.push(t):j.push(t),t.observers&&ct(t))}}function se(e){let n;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),r=e.sourceSlots.pop(),s=t.observers;if(s&&s.length){const l=s.pop(),o=t.observerSlots.pop();r<s.length&&(l.sourceSlots[o]=r,s[r]=l,t.observerSlots[r]=o)}}if(e.tOwned){for(n=e.tOwned.length-1;n>=0;n--)se(e.tOwned[n]);delete e.tOwned}if(e.owned){for(n=e.owned.length-1;n>=0;n--)se(e.owned[n]);e.owned=null}if(e.cleanups){for(n=e.cleanups.length-1;n>=0;n--)e.cleanups[n]();e.cleanups=null}e.state=0}function Ot(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function at(e,n=w){throw Ot(e)}function Me(e){if(typeof e=="function"&&!e.length)return Me(e());if(Array.isArray(e)){const n=[];for(let t=0;t<e.length;t++){const r=Me(e[t]);Array.isArray(r)?n.push.apply(n,r):n.push(r)}return n}return e}function Lt(e,n){return function(r){let s;return q(()=>s=z(()=>(w.context={...w.context,[e]:r.value},lt(()=>r.children))),void 0),s}}const Pt=Symbol("fallback");function Re(e){for(let n=0;n<e.length;n++)e[n]()}function Nt(e,n,t={}){let r=[],s=[],l=[],o=0,i=n.length>1?[]:null;return qe(()=>Re(l)),()=>{let a=e()||[],f=a.length,c,u;return a[Se],z(()=>{let v,C,O,N,m,b,g,_,$;if(f===0)o!==0&&(Re(l),l=[],r=[],s=[],o=0,i&&(i=[])),t.fallback&&(r=[Pt],s[0]=re(V=>(l[0]=V,t.fallback())),o=1);else if(o===0){for(s=new Array(f),u=0;u<f;u++)r[u]=a[u],s[u]=re(y);o=f}else{for(O=new Array(f),N=new Array(f),i&&(m=new Array(f)),b=0,g=Math.min(o,f);b<g&&r[b]===a[b];b++);for(g=o-1,_=f-1;g>=b&&_>=b&&r[g]===a[_];g--,_--)O[_]=s[g],N[_]=l[g],i&&(m[_]=i[g]);for(v=new Map,C=new Array(_+1),u=_;u>=b;u--)$=a[u],c=v.get($),C[u]=c===void 0?-1:c,v.set($,u);for(c=b;c<=g;c++)$=r[c],u=v.get($),u!==void 0&&u!==-1?(O[u]=s[c],N[u]=l[c],i&&(m[u]=i[c]),u=C[u],v.set($,u)):l[c]();for(u=b;u<f;u++)u in O?(s[u]=O[u],l[u]=N[u],i&&(i[u]=m[u],i[u](u))):s[u]=re(y);s=s.slice(0,o=f),r=a.slice(0)}return s});function y(v){if(l[u]=v,i){const[C,O]=P(u);return i[u]=O,n(a[u],C)}return n(a[u])}}}function d(e,n){return z(()=>e(n||{}))}const ut=e=>`Stale read from <${e}>.`;function ft(e){const n="fallback"in e&&{fallback:()=>e.fallback};return x(Nt(()=>e.each,e.children,n||void 0))}function D(e){const n=e.keyed,t=x(()=>e.when,void 0,void 0),r=n?t:x(t,void 0,{equals:(s,l)=>!s==!l});return x(()=>{const s=r();if(s){const l=e.children;return typeof l=="function"&&l.length>0?z(()=>l(n?s:()=>{if(!z(r))throw ut("Show");return t()})):l}return e.fallback},void 0,void 0)}function dt(e){const n=lt(()=>e.children),t=x(()=>{const r=n(),s=Array.isArray(r)?r:[r];let l=()=>{};for(let o=0;o<s.length;o++){const i=o,a=s[o],f=l,c=x(()=>f()?void 0:a.when,void 0,void 0),u=a.keyed?c:x(c,void 0,{equals:(y,v)=>!y==!v});l=()=>f()||(u()?[i,c,a]:void 0)}return l});return x(()=>{const r=t()();if(!r)return e.fallback;const[s,l,o]=r,i=o.children;return typeof i=="function"&&i.length>0?z(()=>i(o.keyed?l():()=>{var f;if(((f=z(t)())==null?void 0:f[0])!==s)throw ut("Match");return l()})):i},void 0,void 0)}function S(e){return e}const M=e=>x(()=>e());function Tt(e,n,t){let r=t.length,s=n.length,l=r,o=0,i=0,a=n[s-1].nextSibling,f=null;for(;o<s||i<l;){if(n[o]===t[i]){o++,i++;continue}for(;n[s-1]===t[l-1];)s--,l--;if(s===o){const c=l<r?i?t[i-1].nextSibling:t[l-i]:a;for(;i<l;)e.insertBefore(t[i++],c)}else if(l===i)for(;o<s;)(!f||!f.has(n[o]))&&n[o].remove(),o++;else if(n[o]===t[l-1]&&t[i]===n[s-1]){const c=n[--s].nextSibling;e.insertBefore(t[i++],n[o++].nextSibling),e.insertBefore(t[--l],c),n[s]=t[l]}else{if(!f){f=new Map;let u=i;for(;u<l;)f.set(t[u],u++)}const c=f.get(n[o]);if(c!=null)if(i<c&&c<l){let u=o,y=1,v;for(;++u<s&&u<l&&!((v=f.get(n[u]))==null||v!==c+y);)y++;if(y>c-i){const C=n[o];for(;i<c;)e.insertBefore(t[i++],C)}else e.replaceChild(t[i++],n[o++])}else o++;else n[o++].remove()}}}const Ve="_$DX_DELEGATE";function jt(e,n,t,r={}){let s;return re(l=>{s=l,n===document?e():h(n,e(),n.firstChild?null:void 0,t)},r.owner),()=>{s(),n.textContent=""}}function p(e,n,t,r){let s;const l=()=>{const i=r?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return i.innerHTML=e,t?i.content.firstChild.firstChild:r?i.firstChild:i.content.firstChild},o=n?()=>z(()=>document.importNode(s||(s=l()),!0)):()=>(s||(s=l())).cloneNode(!0);return o.cloneNode=o,o}function Dt(e,n=window.document){const t=n[Ve]||(n[Ve]=new Set);for(let r=0,s=e.length;r<s;r++){const l=e[r];t.has(l)||(t.add(l),n.addEventListener(l,Vt))}}function ze(e,n,t){t==null?e.removeAttribute(n):e.setAttribute(n,t)}function Ht(e,n){n==null?e.removeAttribute("class"):e.className=n}function It(e,n,t,r){Array.isArray(t)?(e[`$$${n}`]=t[0],e[`$$${n}Data`]=t[1]):e[`$$${n}`]=t}function Bt(e,n,t={}){const r=Object.keys(n||{}),s=Object.keys(t);let l,o;for(l=0,o=s.length;l<o;l++){const i=s[l];!i||i==="undefined"||n[i]||(Ke(e,i,!1),delete t[i])}for(l=0,o=r.length;l<o;l++){const i=r[l],a=!!n[i];!i||i==="undefined"||t[i]===a||!a||(Ke(e,i,!0),t[i]=a)}return t}function Rt(e,n,t){if(!n)return t?ze(e,"style"):n;const r=e.style;if(typeof n=="string")return r.cssText=n;typeof t=="string"&&(r.cssText=t=void 0),t||(t={}),n||(n={});let s,l;for(l in t)n[l]==null&&r.removeProperty(l),delete t[l];for(l in n)s=n[l],s!==t[l]&&(r.setProperty(l,s),t[l]=s);return t}function Fe(e,n,t){t!=null?e.style.setProperty(n,t):e.style.removeProperty(n)}function _e(e,n,t){return z(()=>e(n,t))}function h(e,n,t,r){if(t!==void 0&&!r&&(r=[]),typeof n!="function")return ve(e,n,r,t);q(s=>ve(e,n(),s,t),r)}function Ke(e,n,t){const r=n.trim().split(/\s+/);for(let s=0,l=r.length;s<l;s++)e.classList.toggle(r[s],t)}function Vt(e){let n=e.target;const t=`$$${e.type}`,r=e.target,s=e.currentTarget,l=a=>Object.defineProperty(e,"target",{configurable:!0,value:a}),o=()=>{const a=n[t];if(a&&!n.disabled){const f=n[`${t}Data`];if(f!==void 0?a.call(n,f,e):a.call(n,e),e.cancelBubble)return}return n.host&&typeof n.host!="string"&&!n.host._$host&&n.contains(e.target)&&l(n.host),!0},i=()=>{for(;o()&&(n=n._$host||n.parentNode||n.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),e.composedPath){const a=e.composedPath();l(a[0]);for(let f=0;f<a.length-2&&(n=a[f],!!o());f++){if(n._$host){n=n._$host,i();break}if(n.parentNode===s)break}}else i();l(r)}function ve(e,n,t,r,s){for(;typeof t=="function";)t=t();if(n===t)return t;const l=typeof n,o=r!==void 0;if(e=o&&t[0]&&t[0].parentNode||e,l==="string"||l==="number"){if(l==="number"&&(n=n.toString(),n===t))return t;if(o){let i=t[0];i&&i.nodeType===3?i.data!==n&&(i.data=n):i=document.createTextNode(n),t=K(e,t,r,i)}else t!==""&&typeof t=="string"?t=e.firstChild.data=n:t=e.textContent=n}else if(n==null||l==="boolean")t=K(e,t,r);else{if(l==="function")return q(()=>{let i=n();for(;typeof i=="function";)i=i();t=ve(e,i,t,r)}),()=>t;if(Array.isArray(n)){const i=[],a=t&&Array.isArray(t);if(Oe(i,n,t,s))return q(()=>t=ve(e,i,t,r,!0)),()=>t;if(i.length===0){if(t=K(e,t,r),o)return t}else a?t.length===0?Ue(e,i,r):Tt(e,t,i):(t&&K(e),Ue(e,i));t=i}else if(n.nodeType){if(Array.isArray(t)){if(o)return t=K(e,t,r,n);K(e,t,null,n)}else t==null||t===""||!e.firstChild?e.appendChild(n):e.replaceChild(n,e.firstChild);t=n}}return t}function Oe(e,n,t,r){let s=!1;for(let l=0,o=n.length;l<o;l++){let i=n[l],a=t&&t[e.length],f;if(!(i==null||i===!0||i===!1))if((f=typeof i)=="object"&&i.nodeType)e.push(i);else if(Array.isArray(i))s=Oe(e,i,a)||s;else if(f==="function")if(r){for(;typeof i=="function";)i=i();s=Oe(e,Array.isArray(i)?i:[i],Array.isArray(a)?a:[a])||s}else e.push(i),s=!0;else{const c=String(i);a&&a.nodeType===3&&a.data===c?e.push(a):e.push(document.createTextNode(c))}}return s}function Ue(e,n,t=null){for(let r=0,s=n.length;r<s;r++)e.insertBefore(n[r],t)}function K(e,n,t,r){if(t===void 0)return e.textContent="";const s=r||document.createTextNode("");if(n.length){let l=!1;for(let o=n.length-1;o>=0;o--){const i=n[o];if(s!==i){const a=i.parentNode===e;!l&&!o?a?e.replaceChild(s,i):e.insertBefore(s,t):a&&i.remove()}else l=!0}}else e.insertBefore(s,t);return[s]}const Ft=[{name:"dummy_1",label:"Dummy",stats:{health:10,maxHealth:10,phys_res:1,mag_res:1,att_dam:0,agility:0,att_delay:2e4},icon:"enemy_dummy_1"}],Kt=[{name:"town_1",type:"story",text:"You are in a town...",options:[{text:"Fight Dummies",goto:"dummies_1"},{text:"Guild Quarter",goto:"guilds_1"},{text:"Home",goto:"home_1"},{text:"Merchants",goto:"merchants_1"}]},{name:"dummies_1",type:"zone",text:"Fighting dummies",cooldown:1e3,options:[{text:"Go back...",goto:"town_1"}],encounters:[{type:"enemy",name:"dummy_1",chance:1,drops:[{name:"hay_1",chance:.1}]}]}],Ut=[{label:"Hay",name:"hay_1",stackable:!0,icon:"item_hay_1",max_stack:100,vp:32},{label:"Wooden Sword",name:"wooden_sword_1",stackable:!1,icon:"item_wooden_sword_1",equip_type:"weapon",vp:32,stats:{attack_min:2,attack_max:4,att_speed:.5}}];var Gt=p('<svg><g class transform=translate(0,0) style><path d="m264.11 24.357-8.022 39.594-28.2-25.122 9.624 25.83-41.48-16.638 41.52 39.777c-9.3 6.495-15.388 17.393-15.388 29.89 0 20.188 15.884 36.22 35.555 36.22 19.67 0 35.555-16.032 35.555-36.22 0-13.184-6.774-24.59-16.95-30.923l24.79-42.37-27.863 17.69-9.143-37.727zM101.776 67.01c-6.163 0-11.688 2.68-15.52 6.92l-39.075-5.62-2.66 18.5 30.865 4.438-58.524 41.41 41.198-8.55-8.027 35.87 25.852-21.962 18.504 34.08-.82-64.887a20.884 20.884 0 0 0 8.207 1.67c3.056 0 5.95-.668 8.567-1.845 13.156 16.754 30.582 30.514 56.65 39.242-7.11 6.444-14.18 12.935-21.303 19.362 48.007 2.993 81.67 49.824 90.275 97.98-6.853 1.445-13.963 3.815-21.307 7.2 28.664 57.982-21.168 129.288-33.297 164.05l5.285.192-34.125 41.227 37.58-18.92 1.53 36.722 19.288-27.903 26.69 28.128-14.5-57.935 6.728.244c.643-48.52 13.678-85.638 21.662-140.625 6.06 49.21 18.806 98.424 6.37 147.635l6.263-.746-14.87 52.83 26.693-28.128 19.287 27.9 1.53-36.72 37.582 18.917-32.63-39.276 5.202-.62c-7.866-38.65-40.228-108.407-19.248-165.44-6.265-4.002-13.042-6.928-20.272-8.65 12.328-43.742 46.016-86.71 85.612-94.556l-7.616-12.46c25.346-10.523 39.26-26.136 48.553-43.866 2.37.82 4.912 1.272 7.56 1.272 1.65 0 3.258-.174 4.81-.502l13.74 59.543 7.71-41.362 30.143 21.032-10.514-32.248 38.557-4.207-55.183-21.805 52.47-6.725-2.374-18.537-60.85 7.797c-4.22-5.62-10.94-9.254-18.51-9.254-9.673 0-17.955 5.94-21.41 14.37L305.49 91.76a54.915 54.915 0 0 1 5.908 18.084l47.694-6.112c-11.316 8.315-20.168 19.095-25.875 33.018l-5.9-9.65c-8.985 9.427-17.88 17.535-26.672 24.047-9.928 13.01-25.47 21.45-42.926 21.45-18.198 0-34.312-9.17-44.156-23.13-6.782-6.855-13.448-15.606-19.984-26.455-5.158 4.28-10.225 8.667-15.248 13.105-8.67-13.547-18.666-25.162-30.402-34.435l56.123 8.072a54.935 54.935 0 0 1 5.914-18.03L120.62 78.87c-3.382-7.012-10.537-11.862-18.843-11.862zm112.88 203.81c0-.002 0-.005-.003-.007l-.002.01.006-.003z"fill=#fff fill-opacity=1></svg>',!1,!0,!1),Xt=p('<svg><g class transform=translate(0,0) style><path d="M255.157 123c-68.66 0-137.1 18.922-182.867 55.275.234 14.35 1.818 35.624 9.332 48.23 110.634-60.336 236.436-60.336 347.07 0 7.513-12.606 9.098-33.88 9.332-48.23C392.257 141.922 323.817 123 255.157 123zm199.81 76.057c-.324 2.98-.718 6.02-1.246 9.082-2.226 12.93-6.213 26.458-15.99 35.98-14.436 18.637-40.806 30.462-72.858 38.603C332.392 290.973 293.79 295 255.157 295c-38.632 0-77.235-4.028-109.715-12.277-31.907-8.104-58.17-19.868-72.648-38.36-11.983-11.982-16.234-28.786-17.77-43.857-13.73 27.256-11.503 62.122.672 98.648C69.988 342.03 129.406 389 255.156 389c125.75 0 185.17-46.97 199.462-89.846l.1-.297.12-.287c15.134-36.712 15.61-71.983.13-99.513z"fill=#fff fill-opacity=1></svg>',!1,!0,!1),Wt=p('<svg><g class transform=translate(0,0) style><path d="M436 439.525V298.348c-30-28.235-60-56.47-60-84.706 0-56.47 30-141.176 120-169.41 0 0-30-28.237-60-28.237h-90c0 56.47-60 84.706-90 84.706s-90-28.234-90-84.705H76c-30 0-60 28.236-60 28.236 90 28.236 120 112.942 120 169.412 0 28.236-30 56.47-60 84.706v141.177c60 28.235 120 56.47 180 56.47s120-28.235 180-56.47z"fill=#fff fill-opacity=1></svg>',!1,!0,!1),Yt=p('<svg><g class transform=translate(0,0) style><path d="m269 23.95-87.7.1c1.1 61.4-2.4 116.05-14 159.45-9 34-23.6 61.6-45.2 79-.1 9.5-.8 19-2.1 28.6-3.1 22.9-13.5 43.2-22.75 65 23.55-1.3 43.55-11.6 65.35-24.8 20.6-12.5 42.4-27.5 68.9-37.8-.2-1.4-.4-2.9-.4-4.2-1.9-23.7.1-52.2 4.1-83.2C243 147.6 257.9 81.05 269 23.95zm-105.7.1H80.65c-1.6 36.5 10.1 76.15 21.65 119.15 8.3 30.4 16.5 62.3 19 95.7 12.6-14.3 21.8-34.4 28.6-60 10.8-40.6 14.4-94.15 13.4-154.85zm41.8 14.9a9 9 0 0 1 .1 0 9 9 0 0 1 9 9 9 9 0 0 1-9 9 9 9 0 0 1-9-9 9 9 0 0 1 8.9-9zm-2.4 52.5a9 9 0 0 1 .1 0 9 9 0 0 1 9 8.95 9 9 0 0 1-9 9 9 9 0 0 1-9-9 9 9 0 0 1 8.9-8.95zm-5.9 56.25a9 9 0 0 1 .1 0 9 9 0 0 1 9 9 9 9 0 0 1-9 9 9 9 0 0 1-9-9 9 9 0 0 1 8.9-9zm-16 60.6a9 9 0 0 1 .1 0 9 9 0 0 1 9 9 9 9 0 0 1-9 9 9 9 0 0 1-9-9 9 9 0 0 1 8.9-9zm-32 48.1a9 9 0 0 1 .1 0 9 9 0 0 1 9 9 9 9 0 0 1-9 9 9 9 0 0 1-9-9 9 9 0 0 1 8.9-9zm85.7 55.3c-22.6 9.6-42.3 22.9-62.6 35-24.6 14.9-50.5 27.9-81.85 27.5-8.2 22.7-13.8 48-10 79.9h82.35c13.2-41.4 42.9-78 95.1-106.8-1.4-1-2.9-2.1-4.3-3.2-9.6-7.6-15.3-18.8-18.7-32.4zm40.2 46.7c-52.1 26.2-80.4 58.5-93.6 95.7h127.4c0-14.3.6-29 3.9-43.6 2.6-11.5 7-22.9 14-33.9-16.1-3.3-33.5-8.1-51.7-18.2zm70.8 21.8c-8.2 10.9-12.8 22.3-15.5 34.3-2.8 12.5-3.5 25.8-3.5 39.6h104c-2-17.8-12.5-39.8-28.1-52.1-17.8-13.9-36-17.9-56.9-21.8zm8.3 10.5a9 9 0 0 1 9 9 9 9 0 0 1-9 9 9 9 0 0 1-9-9 9 9 0 0 1 9-9zm-254.05 35a9 9 0 0 1 .1 0 9 9 0 0 1 8.95 9 9 9 0 0 1-8.95 9 9 9 0 0 1-9-9 9 9 0 0 1 8.9-9zm44.85.6a9 9 0 0 1 .1 0 9 9 0 0 1 9 9 9 9 0 0 1-9 9 9 9 0 0 1-9-9 9 9 0 0 1 8.9-9zm201.5.1a9 9 0 0 1 9 9 9 9 0 0 1-9 9 9 9 0 0 1-9-9 9 9 0 0 1 9-9zM72.05 470v18.1H440V470z"fill=#fff fill-opacity=1></svg>',!1,!0,!1),Qt=p('<svg><g class transform=translate(0,0) style><path d="M123.153 24.602c-11.349.764-48.792 83.005-63.545 132.174-8.046 26.818 2.983 74.734 41.723 106.45 8.813-1.502 16.946-3.047 24.434-4.626-22.473-24.22-39.048-50.488-47.772-82.059l-1.021-3.699 1.963-3.299c26.135-43.925 37.681-68.548 50.85-112.24l3.849-12.773 10.402 8.351c14.624 11.743 23.72 18.084 32.098 21.809-14.428-22.99-31.841-41.36-52.46-50.06a2.164 2.164 0 0 0-.52-.028zm19.791 50.203c-11.724 36.176-24.141 62.49-46.508 100.379 9.004 29.978 25.746 54.616 49.733 78.65 18.744-4.857 32.588-9.929 43.383-14.978 16.875-7.894 26.514-15.73 36.92-23.701-6.532-34.91-18.944-80.14-38.018-118.375-14.754-2.769-27.196-8.373-45.51-21.975zm90.094 158.008c-9.156 7.022-19.796 14.833-35.861 22.347-17.365 8.123-40.947 15.887-76.29 22.793 35.349 28.759 64.905 62.213 112.643 82.157 2.79-15.613 10.509-29.532 20.61-39.782 9.547-9.688 21.609-16.383 34.252-16.82 2.202-5.202 5.378-10.557 10.593-14.93 6.41-5.374 15.626-8.323 26.932-8.156a35.046 35.046 0 0 1 4.807-5.424c-7.384-1.603-16.19-3.168-27.145-5.586zm120.275 50.299c-.04.009-.084.012-.125.021-11.264 3.729-12.514 6.776-16.947 16.078-8.484-1.005-19.247-2.081-25.69 3.16-6.017 6.313-7.279 12.696-9.685 20.715-14.012-3.276-25.77 1.842-33.904 9.877-8.032 8.15-14.35 20.016-16.082 32.65 5.926 2.628 12.109 4.214 18.139 5.727 12.69-15.498 32.27-33.513 50.66-36.851 12.995-13.444 28.669-18.08 41.183-19.891a60.105 60.105 0 0 1 11.764-8.4c-6.632-11.786-12.405-18.622-19.313-23.086zm-232.011 18.882c-1.967 12.934-7.997 24.573-.64 46.305 32.36 70.655 41.042 23.73 93.735 22.953-38.944-18.938-66.126-45.737-93.095-69.258zm267.765 17.102c-4.87.972-9.343 3.536-13.062 6.28 9.197 12.249 16.987 27.313 23.28 43.81 7.916-2.052 14.75-4.612 21.103-7.506-6.473-26.762-18.951-37.976-31.32-42.584zm-29.935 13.906c-7.676 1.509-15.588 4.36-22.774 10.35 8.367 8.844 20.976 24.773 26.053 43.283 7.632-1.268 15.91-3.698 21.006-8.576-6.608-17.858-15.058-33.73-24.285-45.057zm-38.139 19.668c-14.313 5.357-25.257 14.981-34.674 25.938l19.383 26.324c13.696-1.49 26.639-6.254 39.39-13.299-4.69-15.098-18.62-32.912-24.447-38.607zm108.848 24.365c-6.679 3.099-13.973 5.985-22.237 8.375 6.323 10.32 11.618 21.138 15.602 32.543 7.703-3.07 14.902-6.372 21.264-10.082-3.964-11.28-8.68-22.055-14.63-30.836zM164.687 408.39l49.638 43.377c11.274-13.516 27.044-23.94 42.492-33.942l-22.02-25.32c-24.334-8.01-52.756 2.355-70.11 15.885zM391.9 394.153c-6.866 5.056-14.143 7.727-21.795 9.377 5.371 9.31 10.375 19.502 14.354 29.755 7.946-2.139 15.451-4.432 22.344-7.775-3.648-10.897-8.68-21.303-14.903-31.357zm-39.88 14.105c-11.759 6.313-24.191 11.162-37.42 13.545l13.316 27.447c14.663-2.177 28.099-3.684 39.666-9.746-4.195-10.706-9.777-21.706-15.563-31.246zm98.017 17.156c-6.627 3.604-13.647 6.703-20.846 9.534 2.83 7.167 5.28 14.119 7.21 20.757 10.397-1.435 20.263-5.912 18.179-13.869-1.423-5.296-2.923-10.83-4.543-16.422zM268.82 431.54c-16.062 10.564-31.09 20.975-40.728 32.256l1.392 1.217c16.648 14.548 36.256 20.475 44.95 9.13 8.522-11.12 10.536-24.116-5.614-42.603zm144.01 10.957c-7.166 3.334-14.4 5.634-21.465 7.58 3.051 6.991 5.842 13.849 8.244 20.48 9.2-.457 17.732-4.025 19.33-10.442-1.622-5.49-3.688-11.409-6.109-17.618zm-38.437 13.69c-12.724 6.396-25.866 8.467-38.184 10.154l6 12.367c10.038 10.705 32.656 11.336 42.21 2.944-2.654-7.907-6.1-16.516-10.026-25.465z"fill=#fff fill-opacity=1></svg>',!1,!0,!1),Jt=p('<svg><g class transform=translate(0,0) style><path d="M256 34.162c-.135.22-.175.203-.314.447-1.975 3.46-4.37 9.255-6.72 16.347-4.703 14.183-9.438 33.67-13.575 53.223-4.137 19.553-7.708 39.222-10.238 54.084-1.264 7.43-2.27 13.66-2.957 18.07a518.223 518.223 0 0 0-.78 5.158 61.5 61.5 0 0 0-.15 1.065c.095 1.402 1.882 4.45 8.008 7.433 6.302 3.07 15.98 5.293 26.727 5.293 10.748 0 20.425-2.223 26.727-5.293 6.126-2.984 7.913-6.03 8.01-7.433l-.15-1.065c-.176-1.2-.44-2.954-.782-5.158-.687-4.41-1.693-10.64-2.957-18.07-2.53-14.862-6.1-34.53-10.24-54.084-4.136-19.554-8.87-39.04-13.573-53.223-2.35-7.092-4.746-12.886-6.72-16.348-.14-.245-.18-.23-.315-.448zM87.066 53.222c-39.793 29.842-65.173 69.95-65.173 114.284 0 30.934 11.92 59.887 32.646 84.695l27.13-78.23c-11.335-17.452-17.668-36.89-17.668-57.384 0-22.984 8.953-44.332 23.064-63.363zm337.883.016c14.094 19.032 23.064 40.38 23.064 63.364 0 20.493-6.333 39.928-17.664 57.377l27.123 78.208c20.718-24.805 32.634-53.753 32.634-84.682 0-44.333-25.38-84.443-65.158-114.268zM214.26 129.043c-36.194 9.176-61.82 31.89-80.563 70.234-24.892 50.927-35.985 130.406-36.304 239.645 43.728 24.578 91.336 38.24 139.99 40.765-.34-38.18-6.926-98.547-11.704-137.69-66.903-5.935-95.838-29.493-95.838-29.493s3.777-27.682 6.396-39.936c38.412 12.937 78.856 19.46 119.776 19.22 40.904.223 81.347-6.283 119.76-19.22 2.618 12.254 6.398 39.936 6.398 39.936s-27.968 24-95.875 29.648c-4.778 39.148-11.345 99.41-11.687 137.536 48.655-2.526 96.263-16.188 139.99-40.766-.318-109.24-11.41-188.718-36.302-239.645-18.74-38.345-44.368-61.058-80.562-70.234a1572.08 1572.08 0 0 1 4.617 25.748c.345.185.697.36 1.036.55 12.55 6.98 21.67 17.51 23.542 30.355l6.01 41.295-.815 1.998c-5.284 12.98-18.74 20.31-33.104 25.653-14.363 5.344-30.252 8.233-42.947 8.356h-.158c-12.69-.13-28.578-3.02-42.94-8.36-14.365-5.342-27.82-12.666-33.105-25.648l-.814-1.998 6.008-41.295c1.87-12.844 10.99-23.374 23.54-30.355.34-.19.692-.365 1.037-.55 1.297-7.6 2.854-16.367 4.617-25.747zm-112.41 35.178-41.44 119.49 29.695 13.71c6.08-42.11 15.602-77.018 29.332-105.11 3.33-6.817 6.94-13.21 10.814-19.2l-28.402-8.89zm308.312 0-28.416 8.895c3.874 5.986 7.482 12.38 10.813 19.194 13.732 28.093 23.256 63.002 29.335 105.116l29.71-13.717-41.44-119.49zm-208.066 19.147a18.537 18.537 0 0 0-1.323 4.615l-5.287 36.332c2.948 4.908 11.57 11.185 23.02 15.442 12.417 4.617 27.205 7.245 37.496 7.363 10.286-.112 25.07-2.738 37.486-7.356 11.45-4.26 20.074-10.54 23.022-15.45l-5.287-36.332a18.507 18.507 0 0 0-1.323-4.615c-1.095.378-2.223.747-3.37 1.112-.98 9.068-8.33 15.628-16.854 19.78-9.16 4.462-20.84 6.896-33.678 6.896-12.84 0-24.52-2.434-33.678-6.896-8.523-4.152-15.873-10.712-16.853-19.78-1.15-.366-2.277-.735-3.372-1.113z"fill=#fff fill-opacity=1></svg>',!1,!0,!1),Zt=p('<svg><g class transform=translate(0,0) style><path d="M89.452 32v44.667l166.75 28.9 166.75-28.9V32l-166.75 28.902L89.452 32zm-.405 69.444v186.712c49.478 16.004 90.187 8.72 139.67 0 1.14-34.244 12.925-60.635 27.09-60.672 14.165.04 25.95 26.428 27.09 60.672 49.472 16.003 90.173 8.72 139.65 0V101.444l-166.74 28.813-166.76-28.813zm0 212.25v69.186c45.914 7.332 85.747 13.896 131.648 0v-69.186c-45.915 7.33-85.747 13.895-131.648 0zm201.853 0v69.186c45.914 7.332 85.747 13.896 131.648 0v-69.186c-45.915 7.33-85.747 13.895-131.648 0zm-198.44 94.55v64.2c43.532 6.802 81.302 12.893 124.823 0v-64.2c-43.534 6.8-81.303 12.893-124.824 0zm201.854 0v64.2c43.533 6.802 81.3 12.893 124.822 0v-64.2c-43.534 6.8-81.3 12.893-124.822 0z"fill=#fff fill-opacity=1></svg>',!1,!0,!1),en=p('<svg><g class transform=translate(0,0) style><path d="M289.5 18.23c-1.8 38.71-3.3 77.44-5.1 116.17C193 155.6 90.37 194.8 19.02 245c18.37 36.5 37.26 73.4 53.17 104.7C54 365.3 35.9 381.4 18.32 397.8v96H460.6c-9.3-7.5-18.8-14.9-28.7-22.2l20.5-21.3c10.2 13 19.8 26.6 28.8 40.9l-14 2.6h26.5V249.7l-23.8 30c-6.7-9.4-13.7-18.7-21-27.8l27-57.1c6.3 9.9 12.3 19.9 17.8 29.7V18.23zm17.3 29.34c15.8 5.74 30.8 12.97 45 21.36l-11.9 78.17c-12.4-8.9-25-17-37.6-24.1zm62.2 32.4c16.1 11.1 31 23.83 44.8 37.43l-23.9 70.8c-10.8-10-21.8-19.5-33-28.4zm59.4 52.63c12.9 14.1 24.6 29 35.3 44.2l-27.9 59.3c-10-11.6-20.3-22.8-31.1-33.6zM101.8 264.2l17 73c-11.1-1.2-22.23-2.1-33.33-2.5l-36.75-72.3c17.48-.4 37.15.4 53.08 1.8zm19.8 2.2c20.7 2.6 41.6 6.7 62.4 12l.7 70.8c-15.2-3.8-30.6-7-46.1-9.4zm81.1 17.2c18.8 5.6 37.5 12.3 55.9 20.2L247.7 369c-14.6-5.5-29.4-10.4-44.3-14.7zm73.6 28.1c17.2 8.1 34.2 17.2 50.7 27.4l-19.8 55.8c-13.7-6.7-27.6-13-41.8-18.9zm66.9 37.8c16.4 11 32.3 23.1 47.5 36.2l-25.4 41.1c-13.4-8.1-27.2-15.9-41.4-23.3zm61.6 49c12.4 11.6 24.4 24.1 35.7 37.3l-23.9 24.8c-11.5-8.2-23.3-16.2-35.4-23.9z"fill=#fff fill-opacity=1></svg>',!1,!0,!1),tn=p('<svg><g class transform=translate(0,0) style><path d="M124.812 388.907a60.718 60.718 0 0 0 16.564 11.588L107.28 435.07a48.756 48.756 0 0 0-28.35-28.006l34.16-34.576a61.093 61.093 0 0 0 11.722 16.42zm209.598-276.44c-32.754 33.14-57.813 79.127-103.008 124.853-9.13 9.245-40.292 37.355-58.303 53.555l49.223 48.64c15.98-18.24 43.727-49.744 52.858-58.978 45.154-45.726 90.828-71.39 123.57-104.477C452.683 121.485 481 28.492 481 28.492s-92.67 29.4-146.59 83.976zM83.656 430.594a30.92 30.92 0 1 0 .26 43.727 30.817 30.817 0 0 0-.26-43.727zm91.13-40.603c11.16 0 20.822-2.81 24.497-6.56l20.885-21.103-69.88-69.047-20.823 21.135c-7.964 8.068-11.233 43.06 7.85 61.905 10.12 10.026 24.79 13.66 37.47 13.66z"fill=#fff fill-opacity=1></svg>',!1,!0,!1),nn=p('<svg><g class transform=translate(0,0) style><path d="M256 16c25 24 100 72 150 72v96c0 96-75 240-150 312-75-72-150-216-150-312V88c50 0 125-48 150-72z"fill=#fff fill-opacity=1></svg>',!1,!0,!1),rn=p('<svg><g xmlns=http://www.w3.org/2000/svg id=surface1><path d="M 34.445117 -0.0647461 L -0.0507812 28.47832 "transform=matrix(0.0255918,0,0,0.0255918,1.40755,26.794626) style=fill:none;stroke-width:64;stroke-linecap:square;stroke-linejoin:miter;stroke:rgb(89.019608%,58.039218%,14.509805%);stroke-opacity:1;stroke-miterlimit:2></path><path d="M 22.562305 11.589063 C 22.562305 5.17832 17.525293 -0.0113281 11.267188 -0.0113281 C 5.009082 -0.0113281 -0.0279297 5.17832 -0.0279297 11.589063 C -0.0279297 17.999805 5.009082 23.189453 11.267188 23.189453 C 17.525293 23.189453 22.562305 17.999805 22.562305 11.589063 Z M 22.562305 11.589063 "transform=matrix(0.0255918,0,0,0.0255918,30.774152,3.390915) style=fill:none;stroke-width:40;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(81.568629%,52.941179%,12.941177%);stroke-opacity:1;stroke-miterlimit:4></path><path d="M 0.0702148 637.516211 L 793.475879 -0.0473633 "transform=matrix(0.0255918,0,0,0.0255918,10.361484,4.005118) style=fill:none;stroke-width:60;stroke-linecap:square;stroke-linejoin:miter;stroke:rgb(80.392158%,54.11765%,12.156863%);stroke-opacity:1;stroke-miterlimit:2></path><path d="M -0.00478516 116.980469 L 146.984375 0.0607422 "transform=matrix(0.0255918,0,0,0.0255918,4.363404,22.162508) style=fill:none;stroke-width:80;stroke-linecap:square;stroke-linejoin:miter;stroke:rgb(58.039218%,44.313726%,25.490198%);stroke-opacity:1;stroke-miterlimit:2></path><path d="M 59.972949 315.034668 C -20.466602 179.493262 -20.008691 82.721582 61.499316 24.719629 C 142.854688 -33.434961 228.941797 11.134961 319.608008 158.276758 L 320.981738 158.276758 "transform=matrix(0.0255918,0,0,0.0255918,1.90659,18.285349) style=fill:none;stroke-width:46;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(69.803923%,52.549022%,28.627452%);stroke-opacity:1;stroke-miterlimit:4></svg>',!1,!0,!1),ln=p('<svg><g xmlns=http://www.w3.org/2000/svg id=surface1><path d="M -0.000112122 12.263409 C 7.395786 4.071515 8.037779 -0.016083 1.92772 0.000616264 "transform=matrix(2.105263,0,0,2.105263,0.523674,6.02214) style=fill:none;stroke-width:0.36;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(79.607844%,77.254903%,22.745098%);stroke-opacity:1;stroke-miterlimit:4></path><path d="M -0.000268078 9.613189 C 5.439966 3.677544 9.896802 0.47315 13.37024 0.00000543594 "transform=matrix(2.105263,0,0,2.105263,2.984939,8.640614) style=fill:none;stroke-width:0.36;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(79.607844%,77.254903%,22.745098%);stroke-opacity:1;stroke-miterlimit:4></path><path d="M 10.746156 0.000911999 C 12.096937 0.266244 9.664417 3.619076 3.444886 10.061264 C 3.669398 6.919955 2.520863 6.86058 -0.000719225 9.886849 "transform=matrix(2.105263,0,0,2.105263,0.759327,1.806674) style=fill:none;stroke-width:0.36;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(79.607844%,77.254903%,22.745098%);stroke-opacity:1;stroke-miterlimit:4></path><path d="M 0 4.304128 L 3.707227 -0.000559235 "transform=matrix(2.105263,0,0,2.105263,0,22.544146) style=fill:none;stroke-width:0.36;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(79.607844%,77.254903%,22.745098%);stroke-opacity:1;stroke-miterlimit:4></path><path d="M 0.000180471 4.539165 C 0.124497 4.364751 1.484555 2.852544 4.078501 0.000688744 "transform=matrix(2.105263,0,0,2.105263,0.890245,22.7798) style=fill:none;stroke-width:0.36;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(79.607844%,77.254903%,22.745098%);stroke-opacity:1;stroke-miterlimit:4></path><path d="M -0.000371075 7.110293 C 0.123945 6.930313 5.725605 0.877774 3.88127 0.438027 C 2.651094 0.146719 2.036934 0.000136852 2.036934 0.000136852 "transform=matrix(2.105263,0,0,2.105263,9.45,6.347368) style=fill:none;stroke-width:0.36;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(79.607844%,77.254903%,22.745098%);stroke-opacity:1;stroke-miterlimit:4></path><path d="M -0.000371075 1.589029 C 5.181953 -0.54105 8.219355 -0.529917 9.111836 1.622427 "transform=matrix(2.105263,0,0,2.105263,9.45,18.420302) style=fill:none;stroke-width:0.36;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(79.607844%,77.254903%,22.745098%);stroke-opacity:1;stroke-miterlimit:4></path><path d="M 6.989939 11.249215 C 4.451658 7.118941 4.451658 7.13193 0.000388145 7.504879 C 5.60947 2.105465 8.765623 -0.380863 9.470701 0.0477499 "transform=matrix(2.105263,0,0,2.105263,9.452308,6.508849) style=fill:none;stroke-width:0.36;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(79.607844%,77.254903%,22.745098%);stroke-opacity:1;stroke-miterlimit:4></path><path d="M 1.901719 6.255606 C 3.048399 2.490859 3.018711 0.505508 1.810801 0.303262 C 0.602891 0.101016 -0.000136614 0.000820351 -0.000136614 0.000820351 "transform=matrix(2.105263,0,0,2.105263,4.902631,8.83421) style=fill:none;stroke-width:0.36;stroke-linecap:square;stroke-linejoin:bevel;stroke:rgb(79.607844%,77.254903%,22.745098%);stroke-opacity:1;stroke-miterlimit:4></svg>',!1,!0,!1),sn=p("<svg xmlns=http://www.w3.org/2000/svg>");const Le=e=>(()=>{var n=sn();return h(n,d(dt,{get children(){return[d(S,{get when(){return e.name==="enemy_dummy_1"},get children(){return Gt()}}),d(S,{get when(){return e.name==="equip_accessory"},get children(){return Xt()}}),d(S,{get when(){return e.name==="equip_chest"},get children(){return Wt()}}),d(S,{get when(){return e.name==="equip_foot"},get children(){return[Yt(),","]}}),d(S,{get when(){return e.name==="equip_hand"},get children(){return Qt()}}),d(S,{get when(){return e.name==="equip_head"},get children(){return[Jt(),","]}}),d(S,{get when(){return e.name==="equip_legs"},get children(){return[Zt(),","]}}),d(S,{get when(){return e.name==="equip_shoulder"},get children(){return en()}}),d(S,{get when(){return e.name==="equip_weapon"},get children(){return tn()}}),d(S,{get when(){return e.name==="equip_shield"},get children(){return nn()}}),d(S,{get when(){return e.name==="item_wooden_sword_1"},get children(){return rn()}}),d(S,{get when(){return e.name==="item_hay_1"},get children(){return ln()}})]}})),q(t=>{var r=`${e.class} bg-black dark:bg-transparent`,s=`0 0 ${e.vp??512} ${e.vp??512}`,l=`${e.flip?"transform: scale(-1, 1);":""} height: ${e.w??32}px; width: ${e.w??32}px;`;return r!==t.e&&ze(n,"class",t.e=r),s!==t.t&&ze(n,"viewBox",t.t=s),t.a=Rt(n,l,t.a),t},{e:void 0,t:void 0,a:void 0}),n})(),ht=(e,n)=>{let t;e.addEventListener("mouseover",()=>{const{text:s,className:l}=n();if(t||!s)return;const o=on(e);t=document.createElement("div"),t.className=l??"p-1 bg-gray-100 dark:bg-[#2F2F2F] border rounded",t.classList.add("absolute"),t.style.left=o.left+"px",t.style.top=o.top+"px",t.innerHTML=s,t.style.transform="translate(-50%, 0)",document.body.appendChild(t),r()});const r=()=>{setTimeout(()=>{e!=null&&e.isConnected?r():(t==null||t.remove(),t=void 0)},100)};e.addEventListener("mouseout",()=>{t==null||t.remove(),t=void 0})};function on(e){const n=e.getBoundingClientRect();return{left:n.right-n.width/2+window.scrollX,top:n.bottom+window.scrollY}}function cn(e,n,t){let r=t.length,s=n.length,l=r,o=0,i=0,a=n[s-1].nextSibling,f=null;for(;o<s||i<l;){if(n[o]===t[i]){o++,i++;continue}for(;n[s-1]===t[l-1];)s--,l--;if(s===o){const c=l<r?i?t[i-1].nextSibling:t[l-i]:a;for(;i<l;)e.insertBefore(t[i++],c)}else if(l===i)for(;o<s;)(!f||!f.has(n[o]))&&n[o].remove(),o++;else if(n[o]===t[l-1]&&t[i]===n[s-1]){const c=n[--s].nextSibling;e.insertBefore(t[i++],n[o++].nextSibling),e.insertBefore(t[--l],c),n[s]=t[l]}else{if(!f){f=new Map;let u=i;for(;u<l;)f.set(t[u],u++)}const c=f.get(n[o]);if(c!=null)if(i<c&&c<l){let u=o,y=1,v;for(;++u<s&&u<l&&!((v=f.get(n[u]))==null||v!==c+y);)y++;if(y>c-i){const C=n[o];for(;i<c;)e.insertBefore(t[i++],C)}else e.replaceChild(t[i++],n[o++])}else o++;else n[o++].remove()}}}const Ge="_$DX_DELEGATE";function an(e,n,t){const r=document.createElement("template");if(r.innerHTML=e,r.innerHTML.split("<").length-1!==n)throw`The browser resolved template HTML does not match JSX input:
${r.innerHTML}

${e}. Is your HTML properly formed?`;return r.content.firstChild}function un(e,n=window.document){const t=n[Ge]||(n[Ge]=new Set);for(let r=0,s=e.length;r<s;r++){const l=e[r];t.has(l)||(t.add(l),n.addEventListener(l,hn))}}function he(e,n,t){t==null?e.removeAttribute(n):e.setAttribute(n,t)}function fn(e,n,t,r){Array.isArray(t)?(e[`$$${n}`]=t[0],e[`$$${n}Data`]=t[1]):e[`$$${n}`]=t}function Xe(e,n,t={}){const r=Object.keys(n||{}),s=Object.keys(t);let l,o;for(l=0,o=s.length;l<o;l++){const i=s[l];!i||i==="undefined"||n[i]||(Ye(e,i,!1),delete t[i])}for(l=0,o=r.length;l<o;l++){const i=r[l],a=!!n[i];!i||i==="undefined"||t[i]===a||!a||(Ye(e,i,!0),t[i]=a)}return t}function We(e,n,t){if(!n)return t?he(e,"style"):n;const r=e.style;if(typeof n=="string")return r.cssText=n;typeof t=="string"&&(r.cssText=t=void 0),t||(t={}),n||(n={});let s,l;for(l in t)n[l]==null&&r.removeProperty(l),delete t[l];for(l in n)s=n[l],s!==t[l]&&(r.setProperty(l,s),t[l]=s);return t}function dn(e,n,t){return z(()=>e(n,t))}function Pe(e,n,t,r){if(t!==void 0&&!r&&(r=[]),typeof n!="function")return be(e,n,r,t);q(s=>be(e,n(),s,t),r)}function Ye(e,n,t){const r=n.trim().split(/\s+/);for(let s=0,l=r.length;s<l;s++)e.classList.toggle(r[s],t)}function hn(e){const n=`$$${e.type}`;let t=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==t&&Object.defineProperty(e,"target",{configurable:!0,value:t}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),tt.registry;t;){const r=t[n];if(r&&!t.disabled){const s=t[`${n}Data`];if(s!==void 0?r.call(t,s,e):r.call(t,e),e.cancelBubble)return}t=t._$host||t.parentNode||t.host}}function be(e,n,t,r,s){for(tt.context;typeof t=="function";)t=t();if(n===t)return t;const l=typeof n,o=r!==void 0;if(e=o&&t[0]&&t[0].parentNode||e,l==="string"||l==="number")if(l==="number"&&(n=n.toString()),o){let i=t[0];i&&i.nodeType===3?i.data=n:i=document.createTextNode(n),t=U(e,t,r,i)}else t!==""&&typeof t=="string"?t=e.firstChild.data=n:t=e.textContent=n;else if(n==null||l==="boolean")t=U(e,t,r);else{if(l==="function")return q(()=>{let i=n();for(;typeof i=="function";)i=i();t=be(e,i,t,r)}),()=>t;if(Array.isArray(n)){const i=[],a=t&&Array.isArray(t);if(Ne(i,n,t,s))return q(()=>t=be(e,i,t,r,!0)),()=>t;if(i.length===0){if(t=U(e,t,r),o)return t}else a?t.length===0?Qe(e,i,r):cn(e,t,i):(t&&U(e),Qe(e,i));t=i}else if(n instanceof Node){if(Array.isArray(t)){if(o)return t=U(e,t,r,n);U(e,t,null,n)}else t==null||t===""||!e.firstChild?e.appendChild(n):e.replaceChild(n,e.firstChild);t=n}else console.warn("Unrecognized value. Skipped inserting",n)}return t}function Ne(e,n,t,r){let s=!1;for(let l=0,o=n.length;l<o;l++){let i=n[l],a=t&&t[l];if(i instanceof Node)e.push(i);else if(!(i==null||i===!0||i===!1))if(Array.isArray(i))s=Ne(e,i,a)||s;else if(typeof i=="function")if(r){for(;typeof i=="function";)i=i();s=Ne(e,Array.isArray(i)?i:[i],Array.isArray(a)?a:[a])||s}else e.push(i),s=!0;else{const f=String(i);f==="<!>"?a&&a.nodeType===8&&e.push(a):a&&a.nodeType===3?(a.data=f,e.push(a)):e.push(document.createTextNode(f))}}return s}function Qe(e,n,t=null){for(let r=0,s=n.length;r<s;r++)e.insertBefore(n[r],t)}function U(e,n,t,r){if(t===void 0)return e.textContent="";const s=r||document.createTextNode("");if(n.length){let l=!1;for(let o=n.length-1;o>=0;o--){const i=n[o];if(s!==i){const a=i.parentNode===e;!l&&!o?a?e.replaceChild(s,i):e.insertBefore(s,t):a&&i.remove()}else l=!0}}else e.insertBefore(s,t);return[s]}const gn="http://www.w3.org/2000/svg";function mn(e,n=!1){return n?document.createElementNS(gn,e):document.createElement(e)}function pn(e){const{useShadow:n}=e,t=document.createTextNode(""),r=()=>e.mount||document.body,s=x(l());function l(){return()=>e.children}return q(()=>{const o=r();if(o instanceof HTMLHeadElement){const[i,a]=P(!1),f=()=>a(!0);re(c=>Pe(o,()=>i()?c():s(),null)),qe(()=>{f()})}else{const i=mn(e.isSVG?"g":"div",e.isSVG),a=n&&i.attachShadow?i.attachShadow({mode:"open"}):i;Object.defineProperty(i,"_$host",{get(){return t.parentNode},configurable:!0}),Pe(a,s),o.appendChild(i),e.ref&&e.ref(i),qe(()=>o.removeChild(i))}}),t}const yn='a, button:not(:disabled), input, textarea, select, details, [tabindex]:not([tabindex="-1"])',_n=e=>Array.from(e.querySelectorAll(yn));var Te=(e=>(e.TAB="Tab",e.ESCAPE="Escape",e))(Te||{});const vn=an('<div role="presentation"><div aria-modal="true" tabindex="0"></div></div>',4),bn={position:"fixed",padding:"1rem",top:"50%",left:"50%",transform:"translate(-50%, -50%)",overflow:"auto",border:"1px solid rgba(200, 200, 200, 0.5)","background-color":"white","border-radius":"1rem","max-height":"90%","max-width":"90%"},wn={position:"fixed",inset:"0 0 0 0","background-color":"rgba(255, 255, 255, 0.5)"},$n=e=>{let n,t,r=[];const s={"solid-modal-overlay":!0,[e.overlayClass]:!!e.overlayClass},l={"solid-modal-content":!0,[e.contentClass]:!!e.contentClass},o=c=>{r.length>1?r[0].focus():c.focus()},i=c=>{c<r.length-1?r[c+1].focus():r[0].focus()},a=c=>{c>0?r[c-1].focus():r[r.length-1].focus()};G(()=>{e.isOpen&&e.children&&n&&(r=_n(n))}),G(()=>{e.isOpen&&n&&(t=document.activeElement,o(n))}),G(()=>{!e.isOpen&&t&&t.focus()});const f=c=>{switch(c.key){case Te.TAB:if(c.preventDefault(),document.activeElement===n&&r.length>0){c.shiftKey?r[r.length-1].focus():r[0].focus();return}const u=r.findIndex(y=>y===document.activeElement);u>-1&&(c.shiftKey?a(u):i(u));return;case Te.ESCAPE:c.stopPropagation(),e.onCloseRequest();return;default:return}};return d(pn,{get children(){return d(D,{get when(){return e.isOpen},get children(){const c=vn.cloneNode(!0),u=c.firstChild;fn(c,"click",e.closeOnOutsideClick?e.onCloseRequest:void 0),u.$$click=v=>v.stopImmediatePropagation();const y=n;return typeof y=="function"?dn(y,u):n=u,u.$$keydown=f,Pe(u,()=>e.children),q(v=>{const C=e.overlayClass?e.overlayStyle:{...wn,...e.overlayStyle},O=s,N=e.ariaLabelledBy,m=e.ariaLabel,b=e.contentClass?e.contentStyle:{...bn,...e.overlayStyle},g=l,_=e.role??"dialog";return v._v$=We(c,C,v._v$),v._v$2=Xe(c,O,v._v$2),N!==v._v$3&&he(u,"aria-labelledby",v._v$3=N),m!==v._v$4&&he(u,"aria-label",v._v$4=m),v._v$5=We(u,b,v._v$5),v._v$6=Xe(u,g,v._v$6),_!==v._v$7&&he(u,"role",v._v$7=_),v},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0}),c}})}})};un(["click","keydown"]);const je=Symbol("store-raw"),X=Symbol("store-node"),T=Symbol("store-has"),gt=Symbol("store-self");function mt(e){let n=e[B];if(!n&&(Object.defineProperty(e,B,{value:n=new Proxy(e,Cn)}),!Array.isArray(e))){const t=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let s=0,l=t.length;s<l;s++){const o=t[s];r[o].get&&Object.defineProperty(e,o,{enumerable:r[o].enumerable,get:r[o].get.bind(n)})}}return n}function we(e){let n;return e!=null&&typeof e=="object"&&(e[B]||!(n=Object.getPrototypeOf(e))||n===Object.prototype||Array.isArray(e))}function ie(e,n=new Set){let t,r,s,l;if(t=e!=null&&e[je])return t;if(!we(e)||n.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):n.add(e);for(let o=0,i=e.length;o<i;o++)s=e[o],(r=ie(s,n))!==s&&(e[o]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):n.add(e);const o=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let a=0,f=o.length;a<f;a++)l=o[a],!i[l].get&&(s=e[l],(r=ie(s,n))!==s&&(e[l]=r))}return e}function $e(e,n){let t=e[n];return t||Object.defineProperty(e,n,{value:t=Object.create(null)}),t}function oe(e,n,t){if(e[n])return e[n];const[r,s]=P(t,{equals:!1,internal:!0});return r.$=s,e[n]=r}function kn(e,n){const t=Reflect.getOwnPropertyDescriptor(e,n);return!t||t.get||!t.configurable||n===B||n===X||(delete t.value,delete t.writable,t.get=()=>e[B][n]),t}function pt(e){Ee()&&oe($e(e,X),gt)()}function xn(e){return pt(e),Reflect.ownKeys(e)}const Cn={get(e,n,t){if(n===je)return e;if(n===B)return t;if(n===Se)return pt(e),t;const r=$e(e,X),s=r[n];let l=s?s():e[n];if(n===X||n===T||n==="__proto__")return l;if(!s){const o=Object.getOwnPropertyDescriptor(e,n);Ee()&&(typeof l!="function"||e.hasOwnProperty(n))&&!(o&&o.get)&&(l=oe(r,n,l)())}return we(l)?mt(l):l},has(e,n){return n===je||n===B||n===Se||n===X||n===T||n==="__proto__"?!0:(Ee()&&oe($e(e,T),n)(),n in e)},set(){return!0},deleteProperty(){return!0},ownKeys:xn,getOwnPropertyDescriptor:kn};function ke(e,n,t,r=!1){if(!r&&e[n]===t)return;const s=e[n],l=e.length;t===void 0?(delete e[n],e[T]&&e[T][n]&&s!==void 0&&e[T][n].$()):(e[n]=t,e[T]&&e[T][n]&&s===void 0&&e[T][n].$());let o=$e(e,X),i;if((i=oe(o,n,s))&&i.$(()=>t),Array.isArray(e)&&e.length!==l){for(let a=e.length;a<l;a++)(i=o[a])&&i.$();(i=oe(o,"length",l))&&i.$(e.length)}(i=o[gt])&&i.$()}function yt(e,n){const t=Object.keys(n);for(let r=0;r<t.length;r+=1){const s=t[r];ke(e,s,n[s])}}function An(e,n){if(typeof n=="function"&&(n=n(e)),n=ie(n),Array.isArray(n)){if(e===n)return;let t=0,r=n.length;for(;t<r;t++){const s=n[t];e[t]!==s&&ke(e,t,s)}ke(e,"length",r)}else yt(e,n)}function ne(e,n,t=[]){let r,s=e;if(n.length>1){r=n.shift();const o=typeof r,i=Array.isArray(e);if(Array.isArray(r)){for(let a=0;a<r.length;a++)ne(e,[r[a]].concat(n),t);return}else if(i&&o==="function"){for(let a=0;a<e.length;a++)r(e[a],a)&&ne(e,[a].concat(n),t);return}else if(i&&o==="object"){const{from:a=0,to:f=e.length-1,by:c=1}=r;for(let u=a;u<=f;u+=c)ne(e,[u].concat(n),t);return}else if(n.length>1){ne(e[r],n,[r].concat(t));return}s=e[r],t=[r].concat(t)}let l=n[0];typeof l=="function"&&(l=l(s,t),l===s)||r===void 0&&l==null||(l=ie(l),r===void 0||we(s)&&we(l)&&!Array.isArray(l)?yt(s,l):ke(e,r,l))}function Sn(...[e,n]){const t=ie(e||{}),r=Array.isArray(t),s=mt(t);function l(...o){At(()=>{r&&o.length===1?An(t,o[0]):ne(t,o)})}return[s,l]}var qn=p('<div class="flex flex-col gap-5 lg:pl-5 mt-5 p-2"><div class="flex lg:flex-row flex-col gap-5 justify-center w-full">'),En=p('<div class="grid grid-cols-5 lg:grid-cols-12 gap-1">'),L=p("<div>"),Mn=p('<div class="flex flex-row gap-5 items-center"><span class="text-lg font-bold"> (<!>)</span><div>'),zn=p('<div class="w-full mt-5">'),On=p('<div class="absolute right-2 bottom-1">'),Ln=p("<div class=h-16>"),Pn=p("<ul><li>Welcome to Idleology!"),Nn=p("<div>Strength"),Tn=p("<div>Intelligence"),jn=p("<div>Constitution"),Dn=p("<div>Agility"),Hn=p("<div class=mb-5>Charisma"),Ae=p("<div class=col-span-2>"),In=p("<div>Attack Damage"),Bn=p("<div> - "),Rn=p("<div>Physical Res."),Vn=p("<div>Magical Res."),Fn=p("<div>Critical Chance"),Je=p("<div>%"),Kn=p("<div>Critical Damage"),Un=p("<div>Fortitude"),Gn=p("<div>Attack rate"),Xn=p("<div> p/s"),Wn=p('<div class="flex flex-col justify-between h-full"><div class="grid grid-cols-2 gap-1 [&amp;>div]:odd:text-left [&amp;>div]:even:text-right"></div><div class="flex flex-row justify-between mt-5"><div></div><div>'),Yn=p('<div class="flex flex-row gap-5"><div class="flex flex-col gap-5"></div><div class="flex flex-col w-full"><div class="flex flex-row justify-center gap-5"></div><div class="flex flex-row justify-center mt-5 gap-5"></div><div class="flex flex-row justify-center mt-5 gap-5"></div><div class="flex flex-row justify-center mt-5 gap-5">'),Qn=p("<div class=mt-5>"),Jn=p('<div class="flex flex-col justify-center gap-2 min-w-64 justify-center text-center"><div>'),Zn=p('<div class="flex flex-col gap-5 mt-5">'),er=p("<div class=cursor-pointer>"),tr=p('<div class="w-full outline hover:outline-2 cursor-pointer p-1"><div class="outline p-1">'),nr=p('<div><div class="absolute -top-3 left-3 bg-white dark:bg-[#242424]">'),rr=p('<div class=relative><progress max=100 class="h-8 [&amp;::-webkit-progress-bar]:rounded-xl [&amp;::-webkit-progress-value]:rounded-xl [&amp;::-webkit-progress-bar]:bg-slate-300 w-full"></progress><div class="absolute top-0.5 left-[50%] -translate-x-1/2 text-black whitespace-nowrap">'),lr=p('<div class="border w-full rounded-xl"><span class="block h-1 bg-yellow-500 rounded-xl">');const sr=20,_t=4250,vt=e=>Kt.find(n=>n.name===e),ir=e=>Ft.find(n=>n.name===e),bt=e=>Ut.find(n=>n.name===e);let Ze;class or{constructor(n){F(this,"stats");F(this,"equipment",[]);this.stats=n}attackDamage(){const n=1+this.equipment.reduce((r,s)=>{var l;return r+(((l=s.stats)==null?void 0:l.attack_min)??0)},0),t=1+this.equipment.reduce((r,s)=>{var l;return r+(((l=s.stats)==null?void 0:l.attack_max)??0)},0);return[n,t]}attackRate(){const t=Math.min(100,Math.max(1,this.stats.agility)),r=250,s=2e3,l=Math.sqrt(t/100),o=s*l,i=1e3,a=Math.min(this.equipment.reduce((y,v)=>{var C;return y+(((C=v.stats)==null?void 0:C.att_speed)??0)},0),1),f=a*i,u=1e3*(l*a);return Math.max(_t-o-f-u,r)}}const de=new Array(495).fill(1).map((e,n)=>Math.floor(80*Math.pow(n+1,1.7))),cr={head:1,shield:1,weapon:1,shoulder:2,foot:2,hand:2,chest:1,legs:1,accessory:2},Z=qt(),ar=()=>{const[e,n]=P("town_1"),[t,r]=P(new Array(sr).fill(null)),[s,l]=P(!1),[o,i]=Sn(new or({experience:0,level:1,points:0,health:10,max_health:10,mana:0,max_mana:0,strength:1,intelligence:1,constitution:1,agility:1,charisma:1,attack_min:1,attack_max:1,phys_res:1,mag_res:1,crit_chance:0,crit_damage:1,fortitude:1}));St(()=>{const m=bt("wooden_sword_1");m&&y(m)});const a=m=>n(m),f=x(()=>e()?vt(e()):void 0),c=x(()=>{var m;if(((m=f())==null?void 0:m.type)==="zone")return new gr(f())});document.addEventListener("visibilitychange",()=>{const m=c(),b=f();if(document.hidden&&m)l(!0),Ze=Date.now();else if(m&&b){let g=Date.now()-Ze;const _=o.attackRate(),$=b.cooldown;if(g<=Math.max(_,$)){l(!1);return}m.health()>0?g-=_:g-=$,requestIdleCallback(()=>u(_,$,g,m))}});const u=(m,b,g,_,$=[],V=0)=>{if(g<=0){$.forEach(He=>y(He)),l(!1);return}_.health()>0?(_.onAction(...o.attackDamage())??0)<=0?($.push(..._.onKill()??[]),g-=b):g-=m:(g-=m,_.loadEncounter()),V++,V%10===0?requestIdleCallback(()=>u(m,b,g,_,$,V)):u(m,b,g,_,$,V)},y=m=>{if(m.stackable&&m.max_stack){const g=t().findIndex(_=>(_==null?void 0:_.name)===m.name&&(_.stack??1)<(m.max_stack??1));if(g>-1)return r([...t().map((_,$)=>$===g&&_?{..._,stack:(_.stack??1)+1}:_)]),!0}const b=t().findIndex(g=>g===null);return b<0?!1:(r([...t().map((g,_)=>_===b?{...m,stack:1}:g)]),!0)},v=m=>{if(!m.equip_type||!o.equipment)return!1;O(m);const b=o.equipment.reduce((g,_,$)=>(_.equip_type===m.equip_type&&g.push($),g),[]);return b.length<cr[m.equip_type]?(i("equipment",[...o.equipment,m]),!0):(i("equipment",[...o.equipment.map((g,_)=>_===b[0]?m:g)]),!0)},C=m=>{var g;const b=(g=o.equipment)==null?void 0:g.indexOf(m);return b<0||!y(m)?!1:(i("equipment",[...o.equipment.filter((_,$)=>$!==b)]),!0)},O=m=>{const b=t().findIndex(g=>(g==null?void 0:g.name)===m.name);return b<0?!1:(r([...t().map((g,_)=>g!=null&&g.stack?_===b?g.stack===1?null:{...g,stack:g.stack-1}:g:null).sort(g=>g===null?1:-1)]),!0)},N=(m,b=1)=>{i("stats",m,o.stats[m]+b)};return[d($n,{get isOpen(){return s()},onCloseRequest:()=>{},children:"Catching up..."}),d(Z.Provider,{value:{player:o,setPlayer:i,addInventory:y,removeInventory:O,inventory:t,onAddStat:N,equip:v,unequip:C},get children(){var m=qn(),b=m.firstChild;return h(b,d(mr,{get storyName(){return e()},onNavigate:a,get handler(){return c()},get pause(){return s()}}),null),h(b,d(dr,{}),null),h(b,d(hr,{}),null),h(m,d(ur,{}),null),h(m,d(fr,{}),null),m}})]},ur=()=>{const[e,n]=P(),{removeInventory:t,inventory:r,equip:s}=ue(Z)??{},l=x(()=>{const o=e()??-1;return o<0?null:(r==null?void 0:r()[o])??null});return d(R,{label:"Inventory",get children(){return[(()=>{var o=En();return h(o,d(ft,{get each(){return r==null?void 0:r()},children:(i,a)=>{let f;return d(R,{ref(c){var u=f;typeof u=="function"?u(c):f=c},get class(){return`${e()===a()?"bg-blue-200":""}`},get tooltip(){return i==null?void 0:i.label},padding:"p-1",get children(){var c=L();return c.$$click=()=>n(a()),c.classList.toggle("cursor-pointer",!!i),h(c,d(D,{when:i,get fallback(){return Ln()},get children(){return[d(Le,{get name(){return i.icon},get vp(){return i==null?void 0:i.vp},w:64}),(()=>{var u=On();return h(u,(()=>{var y=M(()=>(i.stack??1)>1);return()=>y()?i.stack:""})()),u})()]}})),c}})}})),o})(),(()=>{var o=zn();return h(o,d(D,{get when(){return l()},get children(){var i=Mn(),a=i.firstChild,f=a.firstChild,c=f.nextSibling;c.nextSibling;var u=a.nextSibling;return h(a,()=>{var y;return(y=l())==null?void 0:y.label},f),h(a,()=>{var y;return((y=l())==null?void 0:y.stack)??1},c),h(i,d(D,{get when(){var y;return(y=l())==null?void 0:y.equip_type},get children(){var y=L();return h(y,d(Q,{onClick:()=>s==null?void 0:s(l()),children:"Equip"})),y}}),u),h(u,d(Q,{onClick:()=>t==null?void 0:t(l()),children:"Drop"})),i}})),o})()]}})},fr=()=>d(R,{label:"Log",get children(){return Pn()}}),dr=()=>{const[e,n]=P("stats"),{player:t}=ue(Z)??{},r=x(()=>{const l=t==null?void 0:t.stats;if(!l)return 0;const o=l.experience-(de[l.level-2]??0),i=de[l.level-1]-(de[l.level-2]??0);return o?o/i*100:0}),s=x(()=>t?t.attackDamage():[0,0]);return d(R,{label:"Stats",get children(){var l=Wn(),o=l.firstChild,i=o.nextSibling,a=i.firstChild,f=a.nextSibling;return h(o,d(dt,{get children(){return[d(S,{get when(){return e()==="stats"},get children(){return[Nn(),(()=>{var c=L();return h(c,()=>t==null?void 0:t.stats.strength),c})(),Tn(),(()=>{var c=L();return h(c,()=>t==null?void 0:t.stats.intelligence),c})(),jn(),(()=>{var c=L();return h(c,()=>t==null?void 0:t.stats.constitution),c})(),Dn(),(()=>{var c=L();return h(c,()=>t==null?void 0:t.stats.agility),c})(),Hn(),(()=>{var c=L();return h(c,()=>t==null?void 0:t.stats.charisma),c})(),(()=>{var c=Ae();return h(c,d(le,{type:"Level",get value(){return r()},get children(){return["Exp. ",M(()=>t==null?void 0:t.stats.experience)," / ",M(()=>[de[((t==null?void 0:t.stats.level)??1)-1]])]}})),c})(),(()=>{var c=Ae();return h(c,d(le,{type:"Health",value:100,get children(){return["Health ",M(()=>t==null?void 0:t.stats.health)," / ",M(()=>t==null?void 0:t.stats.max_health)]}})),c})(),d(D,{get when(){return t==null?void 0:t.stats.max_mana},get children(){var c=Ae();return h(c,d(le,{type:"Mana",value:100,get children(){return["Mana ",M(()=>t==null?void 0:t.stats.mana)," / ",M(()=>t==null?void 0:t.stats.max_mana)]}})),c}})]}}),d(S,{get when(){return e()==="stats_2"},get children(){return[In(),(()=>{var c=Bn(),u=c.firstChild;return h(c,()=>s()[0],u),h(c,()=>s()[1],null),c})(),Rn(),(()=>{var c=L();return h(c,()=>t==null?void 0:t.stats.phys_res),c})(),Vn(),(()=>{var c=L();return h(c,()=>t==null?void 0:t.stats.mag_res),c})(),Fn(),(()=>{var c=Je(),u=c.firstChild;return h(c,()=>((t==null?void 0:t.stats.crit_chance)??0)*100,u),c})(),Kn(),(()=>{var c=Je(),u=c.firstChild;return h(c,()=>((t==null?void 0:t.stats.crit_damage)??0)*100,u),c})(),Un(),(()=>{var c=L();return h(c,()=>t==null?void 0:t.stats.fortitude),c})(),Gn(),(()=>{var c=Xn(),u=c.firstChild;return h(c,()=>(1e3/((t==null?void 0:t.attackRate())??_t)).toFixed(2),u),c})()]}})]}})),h(a,d(Q,{onClick:()=>n("stats"),children:"Stats"})),h(f,d(Q,{onClick:()=>n("stats_2"),children:"Attributes"})),l}})},hr=()=>{const{player:e}=ue(Z)??{},n=(t,r=0)=>{const s=e==null?void 0:e.equipment.filter(l=>l.equip_type===t);return s==null?void 0:s[r]};return d(R,{label:"Equipment",get children(){var t=Yn(),r=t.firstChild,s=r.nextSibling,l=s.firstChild,o=l.nextSibling,i=o.nextSibling,a=i.nextSibling;return h(r,d(E,{icon:"equip_accessory",get equip(){return n("accessory")}}),null),h(r,d(E,{icon:"equip_accessory",get equip(){return n("accessory",1)}}),null),h(l,d(E,{icon:"equip_weapon",get equip(){return n("weapon")}}),null),h(l,d(E,{icon:"equip_head",get equip(){return n("head")}}),null),h(l,d(E,{icon:"equip_shield",get equip(){return n("shield")}}),null),h(o,d(E,{icon:"equip_shoulder",get equip(){return n("shoulder")}}),null),h(o,d(E,{icon:"equip_chest",get equip(){return n("chest")}}),null),h(o,d(E,{icon:"equip_shoulder",get equip(){return n("shoulder",1)},flip:!0}),null),h(i,d(E,{icon:"equip_hand",get equip(){return n("hand")},flip:!0}),null),h(i,d(E,{icon:"equip_legs",get equip(){return n("legs")}}),null),h(i,d(E,{icon:"equip_hand",get equip(){return n("hand",1)}}),null),h(a,d(E,{icon:"equip_foot",get equip(){return n("hand")},flip:!0}),null),h(a,d(E,{icon:"equip_foot",get equip(){return n("hand",1)}}),null),t}})};var W,ce,ae,Y;class gr{constructor(n){F(this,"encounter");F(this,"killCount");F(this,"health");ee(this,W);ee(this,ce);ee(this,ae);ee(this,Y);te(this,Y,n);const[t,r]=P(),[s,l]=P(0),[o,i]=P(0);this.encounter=t,te(this,ce,r),this.killCount=s,te(this,ae,l),this.health=o,te(this,W,i)}loadEncounter(){var l;const n=Math.random();let t=0;if(((l=I(this,Y))==null?void 0:l.type)!=="zone")return;const r=I(this,Y).encounters.find(o=>(t+=o.chance,n<=t)),s=r&&ir(r.name);!r||!s||(I(this,ce).call(this,structuredClone({...r,entity:s})),I(this,W).call(this,s.stats.maxHealth))}onKill(){var l;I(this,ae).call(this,this.killCount()+1);const n=0;let t=0;const r=(l=this.encounter())==null?void 0:l.drops.find(o=>(t+=o.chance,n<=t)),s=r&&bt(r==null?void 0:r.name);if(s)return[s]}onAction(n,t){const r=n+Math.round(Math.random()*(t-n));if(!this.encounter())return;const l=(this.health()??0)-r;return I(this,W).call(this,Math.max(l,0)),l}}W=new WeakMap,ce=new WeakMap,ae=new WeakMap,Y=new WeakMap;const mr=e=>{const n=x(()=>vt(e.storyName)),{player:t,addInventory:r,onAddStat:s}=ue(Z)??{};G(i=>{var a,f,c;return i&&!e.pause&&((a=e.handler)!=null&&a.health()||(f=e.handler)==null||f.loadEncounter()),e.handler&&e.handler.encounter()===void 0&&((c=e.handler)==null||c.loadEncounter()),e.pause??!1},e.pause??!1);const l=()=>{var a,f;if(e.pause)return;if((((a=e.handler)==null?void 0:a.onAction(...(t==null?void 0:t.attackDamage())??[1,1]))??0)<=0){s==null||s("experience");const c=(f=e.handler)==null?void 0:f.onKill();c==null||c.forEach(y=>r==null?void 0:r(y));const u=n();(u==null?void 0:u.type)==="zone"&&setTimeout(()=>{var y;e.pause||(y=e.handler)==null||y.loadEncounter()},(u==null?void 0:u.cooldown)??1e3)}},o=x(()=>{var c,u,y;const i=(u=(c=e.handler)==null?void 0:c.encounter())==null?void 0:u.entity,a=(y=e.handler)==null?void 0:y.health();if(!i||!a)return 0;const f=a/i.stats.maxHealth;return isNaN(f)?0:f*100});return d(R,{label:"Story",get children(){return[(()=>{var i=Jn(),a=i.firstChild;return h(a,()=>{var f;return(f=n())==null?void 0:f.text}),h(i,d(D,{get when(){return e.handler},fallback:"Waiting...",get children(){return[(()=>{var f=L();return h(f,d(le,{type:"Health",get value(){return((t==null?void 0:t.stats.health)??0)*100},get children(){return["You ",M(()=>t==null?void 0:t.stats.health)," / ",M(()=>t==null?void 0:t.stats.max_health)]}}),null),h(f,d(et,{get timeMs(){return(t==null?void 0:t.attackRate())??4500},onEnd:l,get start(){return e.handler.health()>0}}),null),f})(),(()=>{var f=Qn();return h(f,d(le,{get value(){return o()},type:"Encounter",get children(){return[M(()=>{var c,u;return(u=(c=e.handler)==null?void 0:c.encounter())==null?void 0:u.entity.label})," ",M(()=>{var c;return(c=e.handler)==null?void 0:c.health()})," / ",M(()=>{var c,u;return(u=(c=e.handler)==null?void 0:c.encounter())==null?void 0:u.entity.stats.maxHealth})]}}),null),h(f,d(et,{get timeMs(){var c,u;return((u=(c=e.handler)==null?void 0:c.encounter())==null?void 0:u.entity.stats.att_delay)??1e3},onEnd:()=>{}}),null),f})(),"Kills: ",M(()=>{var f;return(f=e.handler)==null?void 0:f.killCount()})]}}),null),i})(),(()=>{var i=Zn();return h(i,d(ft,{get each(){var a;return(a=n())==null?void 0:a.options},children:a=>d(Q,{onClick:()=>e.onNavigate(a.goto),get children(){return a.text}})}),null),h(i,d(D,{get when(){var a;return!((a=n())!=null&&a.options.length)},get children(){return d(Q,{onClick:()=>e.onNavigate("town_1"),children:"Go back"})}}),null),i})()]}})},E=e=>{const{unequip:n}=ue(Z)??{};return d(R,{get padding(){var t;return(t=e.equip)!=null&&t.icon?"p-1":void 0},get children(){return d(D,{get when(){var t;return(t=e.equip)==null?void 0:t.icon},get fallback(){return d(Le,{class:"opacity-20",get name(){return e.icon},get flip(){return e.flip}})},get children(){var t=er();return t.$$click=()=>n==null?void 0:n(e.equip),_e(ht,t,()=>({text:e.equip.label})),h(t,d(Le,{get name(){return e.equip.icon},w:64,get vp(){return e.equip.vp}})),t}})}})},Q=e=>(()=>{var n=tr(),t=n.firstChild;return It(n,"click",e.onClick),h(t,()=>e.children),n})(),R=e=>(()=>{var n=nr(),t=n.firstChild;_e(ht,n,()=>({text:e.tooltip??""}));var r=e.ref;return typeof r=="function"?_e(r,n):e.ref=n,h(n,()=>e.children,t),h(t,()=>e.label??""),q(()=>Ht(n,`${e.class} rounded-lg border ${e.padding??"p-5"} relative`)),n})(),le=e=>(()=>{var n=rr(),t=n.firstChild,r=t.nextSibling;return h(r,()=>e.children),q(s=>{var l={"[&::-webkit-progress-value]:bg-black [&::-moz-progress-bar]:bg-black":e.type==="Encounter","[&::-webkit-progress-value]:bg-yellow-400 [&::-moz-progress-bar]:bg-yellow-400":e.type==="Level","[&::-webkit-progress-value]:bg-red-400 [&::-moz-progress-bar]:bg-red-400":e.type==="Health","[&::-webkit-progress-value]:bg-blue-400 [&::-moz-progress-bar]:bg-blue-400":e.type==="Mana"},o=e.type==="Encounter";return s.e=Bt(t,l,s.e),o!==s.t&&r.classList.toggle("text-red-500",s.t=o),s},{e:void 0,t:void 0}),q(()=>t.value=e.value),n})(),et=e=>{let n;return G(()=>n==null?void 0:n.addEventListener("animationiteration",e.onEnd,!1)),(()=>{var t=lr(),r=t.firstChild,s=n;return typeof s=="function"?_e(s,r):n=r,Fe(r,"width","0%"),q(l=>Fe(r,"animation",e.start?`${e.timeMs}ms linear 0s infinite progress`:"")),t})()};Dt(["click"]);const pr=document.getElementById("root");jt(()=>d(ar,{}),pr);
